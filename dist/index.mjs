function G(r,{insertAt:e}={}){if(!r||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}G(`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties;@layer theme,base,components,utilities;@layer theme{:root,:host{--font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--color-blue-100: oklch(93.2% .032 255.585);--color-blue-200: oklch(88.2% .059 254.128);--color-blue-700: oklch(48.8% .243 264.376);--color-gray-50: oklch(98.5% .002 247.839);--color-gray-100: oklch(96.7% .003 264.542);--color-gray-200: oklch(92.8% .006 264.531);--color-gray-300: oklch(87.2% .01 258.338);--color-gray-400: oklch(70.7% .022 261.325);--color-gray-500: oklch(55.1% .027 264.364);--color-white: #fff;--spacing: .25rem;--font-weight-medium: 500;--radius-md: .375rem;--radius-lg: .5rem;--blur-lg: 16px;--default-transition-duration: .15s;--default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-mono-font-family: var(--font-mono)}}@layer base{*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings, normal);font-variation-settings:var(--default-font-variation-settings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:var(--default-mono-font-feature-settings, normal);font-variation-settings:var(--default-mono-font-variation-settings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:currentcolor;@supports (color: color-mix(in lab,red,red)){color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{.pointer-events-none{pointer-events:none}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.top-0{top:calc(var(--spacing) * 0)}.top-2{top:calc(var(--spacing) * 2)}.top-full{top:100%}.left-0{left:calc(var(--spacing) * 0)}.left-4{left:calc(var(--spacing) * 4)}.left-5{left:calc(var(--spacing) * 5)}.z-10{z-index:10}.z-50{z-index:50}.container{width:100%;@media(width>=40rem){max-width:40rem}@media(width>=48rem){max-width:48rem}@media(width>=64rem){max-width:64rem}@media(width>=80rem){max-width:80rem}@media(width>=96rem){max-width:96rem}}.mt-1{margin-top:calc(var(--spacing) * 1)}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.h-4{height:calc(var(--spacing) * 4)}.h-12{height:calc(var(--spacing) * 12)}.h-full{height:100%}.max-h-4\\/5{max-height:80%}.max-h-48{max-height:calc(var(--spacing) * 48)}.max-h-60{max-height:calc(var(--spacing) * 60)}.w-4{width:calc(var(--spacing) * 4)}.w-full{width:100%}.w-max{width:max-content}.origin-\\[0\\],.origin-left{transform-origin:0}.-translate-y-5{--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-6{--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-\\[20px\\]{--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}.scale-75{--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.appearance-none{appearance:none}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-x-3{column-gap:calc(var(--spacing) * 3)}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500\\/50{background-color:color-mix(in srgb,oklch(55.1% .027 264.364) 50%,transparent);@supports (color: color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-gray-500) 50%,transparent)}}.bg-transparent{background-color:transparent}.bg-white{background-color:var(--color-white)}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.px-1{padding-inline:calc(var(--spacing) * 1)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-2{padding-block:calc(var(--spacing) * 2)}.text-center{text-align:center}.font-medium{--tw-font-weight: var(--font-weight-medium);font-weight:var(--font-weight-medium)}.whitespace-nowrap{white-space:nowrap}.text-blue-700{color:var(--color-blue-700)}.text-gray-500{color:var(--color-gray-500)}.shadow-lg{--tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.backdrop-blur-lg{--tw-backdrop-blur: blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.duration-200{--tw-duration: .2s;transition-duration:.2s}.duration-300{--tw-duration: .3s;transition-duration:.3s}.outline-none{--tw-outline-style: none;outline-style:none}.peer-placeholder-shown\\:translate-y-0{&:is(:where(.peer):placeholder-shown~*){--tw-translate-y: calc(var(--spacing) * 0);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-placeholder-shown\\:scale-100{&:is(:where(.peer):placeholder-shown~*){--tw-scale-x: 100%;--tw-scale-y: 100%;--tw-scale-z: 100%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-placeholder-shown\\:opacity-0{&:is(:where(.peer):placeholder-shown~*){opacity:0%}}.peer-focus\\:-translate-y-5{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-6{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-\\[20px\\]{&:is(:where(.peer):focus~*){--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:scale-75{&:is(:where(.peer):focus~*){--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-focus\\:scale-\\[85\\%\\]{&:is(:where(.peer):focus~*){scale:85%}}.peer-focus\\:opacity-100{&:is(:where(.peer):focus~*){opacity:100%}}.hover\\:bg-blue-200{&:hover{@media(hover:hover){background-color:var(--color-blue-200)}}}.hover\\:bg-gray-100{&:hover{@media(hover:hover){background-color:var(--color-gray-100)}}}.hover\\:bg-gray-200{&:hover{@media(hover:hover){background-color:var(--color-gray-200)}}}}.input-root{position:relative}.input-border{border:var(--bw) solid black;padding-block:var(--bh);padding-inline:var(--po);transition:border-color .2s ease}.label-input{position:absolute;left:var(--po);top:0%;display:inline-flex;align-items:center;pointer-events:none;transition:top .2s ease,transform .2s ease}.placeholder-input{transform-origin:left center;transform:scale(calc(1 - .25 * var(--float))) translateY(calc(-66% * var(--float))) translate(calc(10% * var(--float)));display:flex;align-items:center;transition:transform .2s ease;background:transparent}.line-input{position:absolute;width:100%;left:-2px;height:var(--bw);top:0;opacity:calc(var(--float));transition:opacity .2s ease}input:focus+.label-input .placeholder-input,input:not(:placeholder-shown)+.label-input .placeholder-input{transform:scale(.75) translateY(-66%) translate(10%)}input:focus+.label-input .line-input,input:not(:placeholder-shown)+.label-input .line-input{opacity:1}@property --tw-translate-x{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-y{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-z{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-scale-x{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-y{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-z{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-rotate-x{syntax: "*"; inherits: false;}@property --tw-rotate-y{syntax: "*"; inherits: false;}@property --tw-rotate-z{syntax: "*"; inherits: false;}@property --tw-skew-x{syntax: "*"; inherits: false;}@property --tw-skew-y{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-font-weight{syntax: "*"; inherits: false;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-blur{syntax: "*"; inherits: false;}@property --tw-brightness{syntax: "*"; inherits: false;}@property --tw-contrast{syntax: "*"; inherits: false;}@property --tw-grayscale{syntax: "*"; inherits: false;}@property --tw-hue-rotate{syntax: "*"; inherits: false;}@property --tw-invert{syntax: "*"; inherits: false;}@property --tw-opacity{syntax: "*"; inherits: false;}@property --tw-saturate{syntax: "*"; inherits: false;}@property --tw-sepia{syntax: "*"; inherits: false;}@property --tw-drop-shadow{syntax: "*"; inherits: false;}@property --tw-drop-shadow-color{syntax: "*"; inherits: false;}@property --tw-drop-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-drop-shadow-size{syntax: "*"; inherits: false;}@property --tw-backdrop-blur{syntax: "*"; inherits: false;}@property --tw-backdrop-brightness{syntax: "*"; inherits: false;}@property --tw-backdrop-contrast{syntax: "*"; inherits: false;}@property --tw-backdrop-grayscale{syntax: "*"; inherits: false;}@property --tw-backdrop-hue-rotate{syntax: "*"; inherits: false;}@property --tw-backdrop-invert{syntax: "*"; inherits: false;}@property --tw-backdrop-opacity{syntax: "*"; inherits: false;}@property --tw-backdrop-saturate{syntax: "*"; inherits: false;}@property --tw-backdrop-sepia{syntax: "*"; inherits: false;}@property --tw-duration{syntax: "*"; inherits: false;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x: 0;--tw-translate-y: 0;--tw-translate-z: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-scale-z: 1;--tw-rotate-x: initial;--tw-rotate-y: initial;--tw-rotate-z: initial;--tw-skew-x: initial;--tw-skew-y: initial;--tw-border-style: solid;--tw-font-weight: initial;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000;--tw-blur: initial;--tw-brightness: initial;--tw-contrast: initial;--tw-grayscale: initial;--tw-hue-rotate: initial;--tw-invert: initial;--tw-opacity: initial;--tw-saturate: initial;--tw-sepia: initial;--tw-drop-shadow: initial;--tw-drop-shadow-color: initial;--tw-drop-shadow-alpha: 100%;--tw-drop-shadow-size: initial;--tw-backdrop-blur: initial;--tw-backdrop-brightness: initial;--tw-backdrop-contrast: initial;--tw-backdrop-grayscale: initial;--tw-backdrop-hue-rotate: initial;--tw-backdrop-invert: initial;--tw-backdrop-opacity: initial;--tw-backdrop-saturate: initial;--tw-backdrop-sepia: initial;--tw-duration: initial}}}
`);import{forwardRef as Ct,memo as Dt,useEffect as It}from"react";import{useSyncExternalStore as nt}from"react";function K(r,e){return e.split(".").reduce((t,n)=>{if(t!=null)return L(n)?t[Number(n)]:t[n]},r)}var L=r=>r!==""&&!isNaN(Number(r));var J=new Map;function pe(r){if(J.has(r))return J.get(r);let e=[],t=r.replace(/\$\{(.*?)\}/g,(a,s)=>(e.push(s),`get(data, "${s}")`)),n=new Function("data","get",`try { return Boolean(${t}) } catch { return false }`),o={deps:e,evaluate:a=>n(a,K)};return J.set(r,o),o}var T=r=>Array.isArray(r),de=r=>typeof r=="object"&&r!==null&&!T(r);var tt=[],rt={current:null},Q=class{rawData={};state={inputData:null,initialData:null,editedKeys:new Set};sharedContext=new Map;dropdownSearch=new Map;dropdownContext=new Map;getDropdownContext(e){return this.dropdownContext.get(e)??rt}setDropdownContext(e,t){this.dropdownContext.set(e,t)}getDropdownSearch(e){return this.dropdownSearch.get(e)||tt}setDropdownSearch(e,t){this.dropdownSearch.set(e,t),this.notify(e)}isBatching=!1;pendingKeys=new Set;currentValue="";_isEditMode=!1;set isEditMode(e){this._isEditMode!==e&&(this._isEditMode=e,this.state.initialData={})}get isEditMode(){return this._isEditMode}backgroundColor="white";listeners=new Map;subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{this.listeners.get(e)?.delete(t)}}notify(e){if(T(e)){e.forEach(t=>this.notify(t));return}if(this.isBatching){this.pendingKeys.add(e);return}this.listeners.get(e)?.forEach(t=>t())}notifyAll(){this.listeners.forEach(e=>e.forEach(t=>t()))}batch(e){this.isBatching=!0,e(),this.isBatching=!1,this.pendingKeys.forEach(t=>{this.listeners.get(t)?.forEach(n=>n())}),this.pendingKeys.clear()}getSnapshot=()=>this.state;initializeInputStore(e){this.state.inputData={},e==="edit"&&(this.isEditMode=!0)}setBackgroundColor(e){this.backgroundColor=e}setEditData(e){this.isEditMode&&this.batch(()=>{this.state={inputData:structuredClone(e),initialData:structuredClone(e),editedKeys:new Set},this.collectKeys(e)})}collectKeys(e,t="",n=[]){for(let o in e){let a=e[o],s=t?`${t}.${o}`:o;if(typeof a=="object"&&a!==null&&!Array.isArray(a))this.collectKeys(a,s,n);else if(T(a)){this.arrayItems.set(s,[...a]),this.notify(s);for(let i=0;i<a.length;i++)this.collectKeys(a[i],`${s}.${i}`,n)}else this.listeners.has(s)&&(this.currentValue=a,this.notify(s))}}setFieldInitialData(e,t,n){this.setNestedValue(this.state.inputData,e,t),n?this.setNestedValue(this.rawData,e,t):this.setNestedValue(this.rawData,e,""),this.isEditMode&&this.setNestedValue(this.state.initialData,e,t),this.currentValue=t,this.notify(e)}setValue(e,t){let n=this.state.inputData;if(!n)return;this.currentValue=t;let o=this.getNestedValue(n,e);if(this.setNestedValue(n,e,t),o!==t&&this.notify(e),!this.isEditMode)return;let a=this.getNestedValue(this.state.initialData,e);a===void 0&&this.setNestedValue(this.state.initialData,e,t),t!==a?this.state.editedKeys.add(e):this.state.editedKeys.delete(e)}getValue(e){return this.getNestedValue(this.state.inputData,e)}getHookValue(e){return this.getNestedValue(this.state.inputData,e)}reset(e){return t=>{if(t){if(typeof t=="string"){this.setValue(t,"");return}if(T(t)){t.forEach(o=>this.setValue(o,""));return}}let n=structuredClone(e??this.rawData??{});this.state={inputData:n,initialData:this.isEditMode?structuredClone(n):null,editedKeys:new Set},this.currentValue="",this.arrayItems.clear(),this.notifyAll(),this.sharedContext.clear()}}clear(){this.state={inputData:null,initialData:null,editedKeys:new Set},this.currentValue="",this.arrayItems.clear(),this.sharedContext.clear()}setNestedValue(e,t,n){let o=t.split("."),a=e;for(let i=0;i<o.length-1;i++){let p=o[i],c=o[i+1];if(L(p)){let d=Number(p);if(!Array.isArray(a))throw new Error(`Expected array at ${o.slice(0,i).join(".")}`);a[d]??=L(c)?[]:{},a=a[d]}else a[p]??=L(c)?[]:{},a=a[p]}let s=o.at(-1);if(L(s)){if(!Array.isArray(a))throw new Error(`Expected array at ${o.slice(0,-1).join(".")}`);a[Number(s)]=n}else a[s]=n}getNestedValue(e,t){return t.split(".").reduce((n,o)=>{if(n!=null)return L(o)?n[Number(o)]:n[o]},e)}getInputNestedValue(e){return this.getNestedValue(this.state.inputData,e)}arrayItems=new Map;getArrayItems(e){return this.arrayItems.get(e)}addArrayItem(e,t){let n=this.arrayItems.get(e)??[],o=Array.isArray(t)?[...n,...t]:[...n,t];this.arrayItems.set(e,o),this.notify(e)}removeArrayItem(e,t){let n=this.arrayItems.get(e);if(!Array.isArray(n))return;let o=n.filter((a,s)=>s!==t);this.arrayItems.set(e,o),this.notify(e)}hydrateArrays(e,t=""){for(let n in e){let o=e[n],a=t?`${t}.${n}`:n;Array.isArray(o)?(this.arrayItems.set(a,[...o]),this.notify(a),o.forEach((s,i)=>{typeof s=="object"&&s!==null&&this.hydrateArrays(s,`${a}.${i}`)})):typeof o=="object"&&o!==null&&this.hydrateArrays(o,a)}}},l=new Q;function E(r,e){if(r===void 0)return!1;if(typeof r=="boolean")return r;let{deps:t,evaluate:n}=pe(r);return nt(a=>{let s=t.map(i=>l.subscribe(i,a));return()=>s.forEach(i=>i())},()=>n(l.getSnapshot().inputData??{}))}import{forwardRef as pt,memo as dt}from"react";var ce={borderWidth:"2px",boxHeight:"8px",boxWidth:"100%",placeHolderOffset:"16px"};import{createContext as ot,useContext as at}from"react";var it=ot({labelMode:!1}),_=()=>at(it);import{createContext as st,useContext as lt}from"react";var X=st(null),W=()=>{let r=lt(X);if(!r)throw new Error("Modal components must be used inside <Modal>");return r};import{jsx as ue,jsxs as fe}from"react/jsx-runtime";var ct=pt(({name:r,children:e,childType:t,placeholder:n,style:o,placeholderStyles:a=""},s)=>{let{sharedStyles:i}=W(),p={...ce,...i,...o},{borderWidth:c,boxHeight:d,boxWidth:w,placeHolderOffset:g,inputInlineStyle:v,placeholderInlineStyle:C}=p,{labelMode:b}=_(),m=l.backgroundColor;return fe("div",{className:"relative w-full group input-root",style:{"--bw":c,"--bh":d,"--po":g,"--float":t==="dropdown"?1:0},children:[e,!b&&fe("label",{id:`floating_input_${r}`,htmlFor:`floating_input_${r}`,className:`
                            label-input h-full
                          `,children:[ue("span",{className:"line-input",style:{backgroundColor:m||"white"}}),ue("span",{className:`placeholder-input h-full ${a}`,style:C,children:n})]})]})}),N=dt(ct);var O=(r,e,t)=>{let o=l.getInputNestedValue(r)||e;l.setFieldInitialData(r,o)};import{createContext as ut,useContext as ft}from"react";var z=ut(null),M=()=>ft(z);var H=r=>r=="_id"||/^[a-z][a-zA-Z0-9]*$/.test(r)?r:r.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(t,n)=>n.toUpperCase()).replace(/^[A-Z]/,t=>t.toLowerCase()),me=r=>r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());var P=(r,e)=>{let t=M(),n=e||H(r);return t?`${t}.${n}`:n};import{forwardRef as yt,memo as gt,useEffect as wt,useImperativeHandle as bt,useLayoutEffect as ye,useRef as vt}from"react";import{useEffect as mt,useRef as he,useSyncExternalStore as ht}from"react";function U(r){let e=he(""),t=he(!0);return mt(()=>{setTimeout(()=>{t.current=!1},200)},[]),ht(n=>l.subscribe(r,n),()=>{if(t.current&&e.current===l.getInputNestedValue(r)||e.current===l.currentValue)return e.current;let n=l.getHookValue(r);return e.current=n,n})}var ee=class{elements=new Map;fieldStates=new Map;styles=new Map;register(e,t){this.elements.set(e,t)}unregister(e){this.elements.delete(e),this.fieldStates.delete(e)}setStyle(e,t){this.styles.set(e,t)}enable(e,t){if(!this.styles.has(t))return;let n=this.getStates(e);n.has(t)||(n.add(t),console.log("enabling state",e,t,n),this.apply(e,t))}disable(e,t){if(!this.styles.has(t))return;let n=this.getStates(e);n.has(t)&&(n.delete(t),this.remove(e,t))}getStates(e){return this.fieldStates.has(e)||this.fieldStates.set(e,new Set),this.fieldStates.get(e)}apply(e,t){let n=this.elements.get(e),o=this.styles.get(t);if(!(!n||!o)&&(o.className&&(n.classList.add(...o.className.split(" ")),n.parentElement?.querySelector("label")?.classList.add(...o.className.split(" "))),o.style)){Object.assign(n.style,o.style);let a=n.parentElement?.querySelector("label");Object.assign(a?.style||{},o.style)}}remove(e,t){let n=this.elements.get(e),o=this.styles.get(t);if(!(!n||!o)&&(o.className&&(n.classList.remove(...o.className.split(" ")),n.parentElement?.querySelector("label")?.classList.remove(...o.className.split(" "))),o.style))for(let a of Object.keys(o.style)){n.style[a]="";let s=n.parentElement?.querySelector("label");(s?.style)[a]=""}}},$=new ee;var te={Edited:"edited",Error:"error",Warning:"warning",Focus:"focus",Disabled:"disabled"};import{jsx as St}from"react/jsx-runtime";var xt=yt(({name:r,fixedValue:e,maxLength:t,autoFocus:n=!1,refRequired:o=!1,onBlur:a,onFocus:s,inputStyles:i="",handleChange:p,onChange:c,onEnterPress:d,disabled:w,placeholder:g,type:v,inputInlineStyle:C},b)=>{let m=vt(null),{labelMode:D}=_(),x=e??U(r)??"",I=y=>{console.log("the string value is",y.target.value);let k=y.target.value;t&&k.length==t+1||p?.(y)};ye(()=>{o&&m.current&&l.setDropdownContext(`ref_${r}`,m)},[m]),bt(b,()=>({focus:()=>{m.current?.focus()},blur:()=>{m.current?.blur()},reset:()=>{l.reset()(r)}}));let R=()=>{$.disable(r,te.Focus);let y=l.getSnapshot().inputData;a?.({currentValue:x??"",allData:y})},S=()=>{$.enable(r,te.Focus),s?.(r)},h=y=>{if(y.key==="Enter"){console.log("enter pressed");let k=l.getSnapshot().inputData;d?.({currentValue:x??"",allData:k})}};return wt(()=>{c?.(x)},[x]),ye(()=>{if(m.current)return $.register(r,m.current),()=>{$.unregister(r)}},[r]),St("input",{type:v,id:`floating_input_${r}`,ref:m,onBlur:R,onFocus:S,value:x,maxLength:t,autoFocus:n,onKeyDown:h,onChange:I,style:C,className:D?i:`w-full outline-none rounded-lg input-border bg-transparent appearance-none peer ${i}`,placeholder:D?g:" ",disabled:w,required:!0})}),F=gt(xt);import{jsx as ge,jsxs as Et}from"react/jsx-runtime";var Rt=Ct(({...r},e)=>{let{placeholder:t,name:n,children:o,style:a,placeholderStyles:s,initialValue:i="",disabled:p=!1,hideElement:c=!1,containerStyles:d="",privacy:w=!1,...g}=r,v=P(t,n);It(()=>{O(v,i)},[]);let C=E(p,v),b=E(c),m=D=>{l.setValue(v,D.target.value)};return b?null:Et("div",{className:`relative ${d}`,children:[ge(N,{name:v,placeholder:t,style:a,childType:"input",placeholderStyles:s,children:ge(F,{ref:e,name:v,placeholder:t,inputInlineStyle:a?.inputInlineStyle,disabled:C,type:w?"password":"text",handleChange:m,...g})}),o]})}),we=Dt(Rt);we.displayName="StrInput";var re=we;import{forwardRef as kt,memo as Nt,useCallback as Pt,useEffect as be}from"react";var j=r=>{let e=Object.keys(r);for(let t of e)l.setValue(t,r[t])};import{jsx as ve,jsxs as Ot}from"react/jsx-runtime";var Vt=kt(({...r},e)=>{let{placeholder:t,name:n,children:o,style:a,placeholderStyles:s,onDisableChange:i,initialValue:p="",disabled:c=!1,hideElement:d=!1,containerStyles:w="",privacy:g=!1,stringify:v=!1,...C}=r,b=P(t,n);be(()=>{O(b,p)},[]);let m=S=>v?S.toString():S,D=Pt(S=>{j({[b]:S})},[b]),x=E(c),I=E(d);be(()=>{if(i){let S=l.getInputNestedValue(b);i({state:x,disabledKey:n,disabledValue:S,storeValue:l.getSnapshot().inputData,setValue:D})}},[x]);let R=S=>{let h=S.target.value,y=h===""?"":m(Number(h));l.setValue(b,y)};return I?null:Ot("div",{className:`relative ${w}`,children:[ve(N,{name:b,placeholder:t,style:a,childType:"input",placeholderStyles:s,children:ve(F,{ref:e,name:b,placeholder:t,inputInlineStyle:a?.inputInlineStyle,disabled:x,type:g?"password":"number",handleChange:R,...C})}),o]})}),xe=Nt(Vt);xe.displayName="NumInput";var ne=xe;import{memo as Mt,useRef as Ft,useSyncExternalStore as Lt}from"react";import{Fragment as At,jsx as Se}from"react/jsx-runtime";var Tt=({name:r,items:e,getKey:t,children:n,defaultAddItem:o})=>{let a=Ft(!0),s=M(),i=s?`${s}.${r}`:r;a.current&&(l.addArrayItem(i,e),a.current=!1);let p=Lt(d=>l.subscribe(i,d),()=>l.getArrayItems(i)??e),c={add:d=>l.addArrayItem(i,o||d),remove:d=>l.removeArrayItem(i,d),isLast:d=>d===p.length-1,arrayLength:p.length};return Se(At,{children:p.map((d,w)=>{let g=`${i}.${w}`,v=t?t(d,w):g;return Se(z.Provider,{value:g,children:n(d,w,c)},v||g)})})},oe=Mt(Tt);import{memo as zt}from"react";import{jsx as $t}from"react/jsx-runtime";var Ht=({name:r,children:e})=>{let t=M(),n=t?`${t}.${r}`:r;return $t(z.Provider,{value:n,children:e})},Ce=zt(Ht);Ce.displayName="ObjectContainer";var ae=Ce;import{memo as pr,useCallback as dr,useEffect as cr}from"react";import{useMemo as jt,useSyncExternalStore as Bt}from"react";var De=({options:r,dependsOn:e,optionsMap:t,initialLabel:n,initialValue:o})=>{let a=e?Bt(s=>l.subscribe(e,s),()=>l.getInputNestedValue(e)):null;return jt(()=>{let s=e&&t?t[a??""]??[]:r??[],i=typeof s[0]=="string"?s.map(p=>({label:p,value:p})):s;return n?[{label:n,value:o},...i]:i},[a,r,t,n,o])};import{memo as ir,useCallback as ie,useEffect as Fe,useRef as Le,useState as Te}from"react";function Y(r,e){if(r===e)return!0;if(r==null||e==null)return r===e;if(typeof r!=typeof e)return!1;if(typeof r!="object")return r===e;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(let o=0;o<r.length;o++)if(!Y(r[o],e[o]))return!1;return!0}let t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let o of t)if(!e.hasOwnProperty(o)||!Y(r[o],e[o]))return!1;return!0}import{forwardRef as Kt,memo as _t,useImperativeHandle as Wt,useRef as Ut}from"react";import{jsx as Ie}from"react/jsx-runtime";var Yt=Kt((r,e)=>{let t=Ut(null);return Wt(e,()=>({open:()=>{t.current?.classList.add("rotate-180")},close:()=>{t.current?.classList.remove("rotate-180")}})),Ie("svg",{ref:t,className:"w-4 h-4 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Ie("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),Re=_t(Yt);import{memo as er,useEffect as Ve,useLayoutEffect as tr,useMemo as rr,useRef as Oe,useState as nr}from"react";import{useRef as Ee}from"react";function ke(r,e){let t=Ee(0),n=Ee([]),o=()=>{t.current=0},a=p=>{if(!r.length)return;let c=t.current;c!==p&&(n.current[c]?.classList.remove("bg-gray-100"),n.current[p]?.classList.add("bg-gray-100"),n.current[p]?.scrollIntoView({block:"nearest"}),t.current=p)};return{highlightIndexRef:t,handleKeyDown:(p,c)=>{if(r.length){if(p.key==="ArrowDown"&&(p.preventDefault(),a(Math.min(t.current+1,r.length-1))),p.key==="ArrowUp"&&(p.preventDefault(),a(Math.max(t.current-1,0))),p.key==="Enter"){p.preventDefault();let d=r[t.current];d&&c(d)}p.key==="Escape"&&(o(),e())}},registerOption:p=>c=>{c&&(n.current[p]=c)},reset:o}}import{useLayoutEffect as qt,useState as Zt}from"react";var Ne=({fixedRef:r,modalRef:e,dropdownOffset:t=0,isOpen:n})=>{let[o,a]=Zt(void 0);qt(()=>{n&&s()},[n]);let s=()=>{let i=r.current?.getBoundingClientRect(),p=e.current?.getBoundingClientRect(),c=window.innerHeight;if(!i||!p)return;let g=(c-i.bottom>p.height?"down":"up")==="down"?i.bottom+t:i.top-p.height-t;a({left:i.left,width:i.width,top:g})};return{position:o,calculatePosition:s}};import{memo as Gt}from"react";import{Fragment as Qt,jsx as Xt}from"react/jsx-runtime";var Jt=({item:r,index:e,highlighted:t,register:n,renderItem:o})=>Xt(Qt,{children:o(r,e,t,n)}),Pe=Gt(Jt);import{jsx as B,jsxs as ar}from"react/jsx-runtime";var or=({open:r,options:e,onSelect:t,close:n,renderItem:o,inputRef:a,dropdownOffset:s=0,searchable:i,onSearchChange:p,className:c=""})=>{let[d,w]=nr(""),g=Oe(null),v=Oe(null),{position:C,calculatePosition:b}=Ne({modalRef:g,fixedRef:a,isOpen:r,dropdownOffset:s}),m=rr(()=>{if(!d)return e;let h=d.toLowerCase();return e.filter(y=>y.label.toLowerCase().indexOf(h)!==-1)},[d,e]),{highlightIndexRef:D,handleKeyDown:x,registerOption:I,reset:R}=ke(m,n);tr(()=>{r&&(b(),R())},[r,e.length]);let S=h=>{w(h.target.value),p?.(h.target.value)};return Ve(()=>{if(!r)return;let h=y=>{if(!(!y.code.startsWith("Arrow")&&y.code!=="Enter"&&y.code!=="Escape"))return x(y,t)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r,e,t]),Ve(()=>{if(!r)return;v.current?.focus();let h=()=>b();return window.addEventListener("resize",h),window.addEventListener("scroll",h,!0),()=>{window.removeEventListener("resize",h),window.removeEventListener("scroll",h,!0)}},[r]),r?ar("div",{ref:g,className:`fixed z-50 bg-white border rounded-lg shadow-xl ${c}`,style:C,onMouseDown:h=>h.stopPropagation(),children:[i&&B("div",{className:"p-2 border-b",children:B("input",{ref:v,value:d,onChange:h=>S(h),className:"w-full px-3 py-1 border rounded",placeholder:"Search..."})}),B("div",{className:"max-h-60 overflow-y-auto",children:m.length===0?B("div",{className:"px-4 py-2 text-gray-500",children:"No options found"}):m.map((h,y)=>B(Pe,{item:h,index:y,highlighted:D.current===y,register:I(y),renderItem:o},typeof h=="string"?h:h.value))})]}):null},Me=er(or);import{jsx as q,jsxs as lr}from"react/jsx-runtime";var sr=({options:r,onSelect:e,onToggleDropdown:t,disabled:n,searchable:o,name:a,style:s,twStyle:i})=>{let p=U(a),c=Le(null),[d,w]=Te(!1),[g,v]=Te(p||"Select an Option");console.log("inside dropdownmodal",s);let{inputInlineStyle:C,dropdownOffset:b}=s,{optionStyles:m="",modalBoxStyles:D="",inputStyles:x=""}=i,I=Le(null);Fe(()=>{if(!d)return;let y=k=>{I.current&&!I.current.contains(k.target)&&h()};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[d]);let R=ie(y=>{let k=y.value;console.log("selected value",k),h(),v(k),e(k)},[e]),S=ie(()=>{d||n||(c.current?.open(),w(!0))},[d,n]),h=ie(()=>{c.current?.close(),w(!1)},[d]);return Fe(()=>{t?.(d)},[d]),lr("div",{ref:I,onClick:S,onFocus:S,tabIndex:0,style:C,className:`relative w-full flex input-border justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${x}`,children:[q("span",{children:g}),q(Re,{ref:c}),d&&q(Me,{open:d,options:r,close:h,onSelect:y=>{R(y)},inputRef:I,dropdownOffset:b,searchable:o,renderItem:(y,k,V,Xe)=>{let Z=y;return q("div",{ref:Xe,className:`px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 ${V?"bg-gray-100":""}`,onMouseDown:et=>{et.preventDefault(),R(Z)},children:Z.label},Z.value)}})]})},Ae=ir(sr,(r,e)=>Y(r.options,e.options));var ze={borderWidth:"2px",boxHeight:"8px",boxWidth:"100%",placeHolderOffset:"16px",dropdownOffset:5};import{jsx as He,jsxs as mr}from"react/jsx-runtime";var ur=({name:r,placeholder:e,options:t,children:n,onChange:o,dependsOn:a,onToggleDropdown:s,optionsMap:i,initialLabel:p,twStyle:c={},disabled:d=!1,hideElement:w=!1,searchable:g=!1,onDisableChange:v,initialValue:C="",style:b})=>{let m=P(e,r),{sharedStyles:D,modalContainerRef:x}=W(),I=dr(V=>{j({[m]:V})},[m]),R=E(d),S=E(w),h={...ze,...D,...b};cr(()=>{if(v){let V=l.getInputNestedValue(m);v({state:R,disabledKey:m,disabledValue:V,storeValue:l.getSnapshot().inputData,setValue:I})}},[R]);let y=De({options:t,dependsOn:a,optionsMap:i,initialLabel:p,initialValue:C}),k=V=>{o?.(V),l.setValue(m,V)};return S?null:mr("div",{className:`relative ${c?.containerStyles}`,children:[He(N,{name:m,placeholder:e,style:b,placeholderStyles:c?.placeholderStyles,childType:"dropdown",children:He(Ae,{onSelect:k,options:y,name:m,style:h,twStyle:c,onToggleDropdown:s,searchable:g,disabled:R,modalContainerRef:x})}),n]})},$e=pr(ur,(r,e)=>r.placeholder===e.placeholder);$e.displayName="SelectInput";var fr=$e;import{memo as hr,useMemo as je}from"react";import{Fragment as gr,jsx as A}from"react/jsx-runtime";var se=({initialData:r,exclusionKeys:e})=>{let t=M()??"",n=je(()=>e?T(e)?e.map(H):[H(e)]:[],[e]),o=je(()=>r??l.getSnapshot().inputData,[r]);if(!o)return null;let a=(s,i,p)=>{let c=p?`${p}.${s}`:s,d={initialValue:i,name:s,placeholder:me(s)};return typeof i=="string"?A(re,{...d},c):typeof i=="number"?A(ne,{...d},c):Array.isArray(i)?A(oe,{name:s,items:i,getKey:(w,g)=>`${c}.${g}`,children:w=>A(se,{initialData:w})},s):de(i)?A(ae,{name:s,children:A(se,{initialData:i})},c):null};return A(gr,{children:Object.entries(o).map(([s,i])=>n.includes(s)?null:a(s,i,t))})},Be=hr(se);Be.displayName="AutoInput";var yr=Be;import{forwardRef as wr,memo as br,useEffect as vr}from"react";import{jsx as Ke,jsxs as Cr}from"react/jsx-runtime";var xr=wr(({placeholder:r,onDateSelect:e,onEnterPress:t=()=>{},children:n,defaultTodayDate:o=!0,disabled:a=!1,style:s,hideElement:i=!1,containerStyles:p="",inputStyles:c="",placeholderStyles:d="",defaultDate:w,name:g},v)=>{let C=P(r,g),b=new Date().toISOString().split("T")[0],m=o?b:w??"";vr(()=>{O(C,m)},[]);let D=R=>{let S=R.target.value;l.setValue(C,S),e?.(S)},x=E(a);return E(i)?null:Cr("div",{className:`relative ${p}`,children:[Ke(N,{name:C,placeholder:r,style:s,childType:"input",placeholderStyles:d,children:Ke(F,{ref:v,name:C,placeholder:r,inputInlineStyle:s?.inputInlineStyle,disabled:x,type:"date",handleChange:D,inputStyles:c})}),n]})}),_e=br(xr);_e.displayName="DateInput";var Sr=_e;import{memo as Dr,useEffect as Ir}from"react";import{jsx as We,jsxs as kr}from"react/jsx-runtime";var Rr=({initialValue:r="",containerStyles:e="",privacy:t=!1,children:n,style:o,placeholder:a,hideElement:s=!1,placeholderStyles:i,name:p,...c})=>{let d=P(a,p);return Ir(()=>{O(d,r)},[]),E(s)?null:kr("div",{className:`relative ${e}`,children:[We(N,{name:d,placeholder:a,style:o,childType:"input",placeholderStyles:i,children:We(F,{name:d,placeholder:a,inputInlineStyle:o?.inputInlineStyle,disabled:!0,type:t?"password":"text",fixedValue:r,...c})}),n]})},Ue=Dr(Rr);Ue.displayName="DisabledInput";var Er=Ue;import qe,{forwardRef as Nr,memo as Pr,useCallback as Vr,useImperativeHandle as Or,useState as Ze}from"react";var Ye=()=>{let{editedKeys:r,inputData:e}=l.getSnapshot(),t={};return!r||r.size===0?{data:e,edited:null}:(r.forEach(n=>{t[n]=K(e,n)}),{data:e,edited:t})};import{jsx as le,jsxs as Lr}from"react/jsx-runtime";var Mr=Nr(({children:r,className:e,closeModal:t,disabled:n=!1,onClick:o,modal:a},s)=>{let{isDisabled:i=!1,modalStyle:p,onConfirm:c,renderConfirmationModel:d}=a||{},[w,g]=Ze(!1),[v,C]=Ze(null),b=I=>{c?.(I),g(!1),D(),t?.()},m=()=>{g(!1)},D=l.reset(),x=Vr(async()=>{if(n||w)return;let{data:I,edited:R}=Ye();if(C(I),!o&&d){g(!0);return}o&&await o({data:I,edited:R,resetForm:D})&&d&&g(!0)},[o,n,w,d]);return Or(s,()=>({submit:x}),[x]),Lr("div",{className:`${e}`,onClick:x,children:[r,w?le("div",{className:"fixed flex cursor-default justify-center items-center z-50 left-0 top-0 w-full h-full bg-gray-500/50 backdrop-blur-lg ",children:le("div",{className:"relative grid rounded-lg shadow-lg bg-gray-400 overflow-y-auto max-h-4/5",style:{height:p?.height,width:p?.width||"80%"},children:le("div",{className:"",children:typeof d=="function"?d({cancel:m,success:b,resetForm:D,data:v,isDisabled:i}):qe.isValidElement(d)?qe.cloneElement(d,{cancel:m,success:b,resetForm:D,data:v,isDisabled:i}):null})})}):null]})}),Ge=Pr(Mr);Ge.displayName="SubmitButton";var Fr=Ge;import{useEffect as Tr,useRef as Je}from"react";import{memo as Ar}from"react";import{jsx as Qe}from"react/jsx-runtime";var zr=({children:r,inputContainerStyles:e,sharedStyles:t,modalContainerRef:n,mode:o="default"})=>{let a=Je(null),s=Je(!0);return s.current&&(l.initializeInputStore(o),s.current=!1),Tr(()=>{if(a.current instanceof HTMLElement){let i=a.current,p="";for(;i&&(p=window.getComputedStyle(i).backgroundColor,!(p&&p!=="rgba(0, 0, 0, 0)"&&p!=="transparent"));)i=i.parentElement;p=="rgba(0, 0, 0, 0)"||p==""?l.setBackgroundColor("white"):l.setBackgroundColor(p)}return()=>{l.reset()()}},[]),Qe(X.Provider,{value:{sharedStyles:t,modalContainerRef:n},children:Qe("div",{ref:a,className:e,children:r})})},Hr=Ar(zr);var $r=r=>{l.setEditData(r)};var jr=r=>l.reset(r),Br=()=>l.clear();var Kr={get:r=>r?l.sharedContext.get(r):Object.fromEntries(l.sharedContext),set:(r,e)=>l.sharedContext.set(r,e),addMany:r=>_r(r),remove:r=>l.sharedContext.delete(r),clear:()=>l.sharedContext.clear()},_r=r=>{Object.entries(r).forEach(([e,t])=>l.sharedContext.set(e,t))};export{oe as ArrayContainer,yr as AutoInput,Br as ClearForm,Sr as DateInput,Er as DisabledInput,Hr as InputContainer,ne as NumInput,ae as ObjectContainer,jr as ResetForm,fr as SelectInput,Kr as SharedContext,re as StrInput,Fr as SubmitButton,$r as setEditData,j as setFieldValue};
//# sourceMappingURL=index.mjs.map