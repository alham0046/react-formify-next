function tt(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tt(`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties;@layer theme,base,components,utilities;@layer theme{:root,:host{--font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--color-blue-100: oklch(93.2% .032 255.585);--color-blue-200: oklch(88.2% .059 254.128);--color-blue-700: oklch(48.8% .243 264.376);--color-gray-50: oklch(98.5% .002 247.839);--color-gray-100: oklch(96.7% .003 264.542);--color-gray-200: oklch(92.8% .006 264.531);--color-gray-300: oklch(87.2% .01 258.338);--color-gray-400: oklch(70.7% .022 261.325);--color-gray-500: oklch(55.1% .027 264.364);--color-white: #fff;--spacing: .25rem;--font-weight-medium: 500;--radius-lg: .5rem;--blur-lg: 16px;--default-transition-duration: .15s;--default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-mono-font-family: var(--font-mono)}}@layer base{*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings, normal);font-variation-settings:var(--default-font-variation-settings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:var(--default-mono-font-feature-settings, normal);font-variation-settings:var(--default-mono-font-variation-settings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:currentcolor;@supports (color: color-mix(in lab,red,red)){color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{.pointer-events-none{pointer-events:none}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.top-0{top:calc(var(--spacing) * 0)}.top-2{top:calc(var(--spacing) * 2)}.top-full{top:100%}.left-0{left:calc(var(--spacing) * 0)}.left-4{left:calc(var(--spacing) * 4)}.left-5{left:calc(var(--spacing) * 5)}.z-10{z-index:10}.z-50{z-index:50}.container{width:100%;@media(width>=40rem){max-width:40rem}@media(width>=48rem){max-width:48rem}@media(width>=64rem){max-width:64rem}@media(width>=80rem){max-width:80rem}@media(width>=96rem){max-width:96rem}}.mt-1{margin-top:calc(var(--spacing) * 1)}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.h-4{height:calc(var(--spacing) * 4)}.h-12{height:calc(var(--spacing) * 12)}.h-full{height:100%}.max-h-4\\/5{max-height:80%}.max-h-48{max-height:calc(var(--spacing) * 48)}.max-h-60{max-height:calc(var(--spacing) * 60)}.w-4{width:calc(var(--spacing) * 4)}.w-full{width:100%}.w-max{width:max-content}.origin-\\[0\\],.origin-left{transform-origin:0}.-translate-y-5{--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-6{--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-\\[20px\\]{--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}.scale-75{--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.appearance-none{appearance:none}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded-lg{border-radius:var(--radius-lg)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500\\/50{background-color:color-mix(in srgb,oklch(55.1% .027 264.364) 50%,transparent);@supports (color: color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-gray-500) 50%,transparent)}}.bg-transparent{background-color:transparent}.bg-white{background-color:var(--color-white)}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.px-1{padding-inline:calc(var(--spacing) * 1)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-2{padding-block:calc(var(--spacing) * 2)}.font-medium{--tw-font-weight: var(--font-weight-medium);font-weight:var(--font-weight-medium)}.text-blue-700{color:var(--color-blue-700)}.text-gray-500{color:var(--color-gray-500)}.shadow-lg{--tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.backdrop-blur-lg{--tw-backdrop-blur: blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.duration-200{--tw-duration: .2s;transition-duration:.2s}.duration-300{--tw-duration: .3s;transition-duration:.3s}.outline-none{--tw-outline-style: none;outline-style:none}.peer-placeholder-shown\\:translate-y-0{&:is(:where(.peer):placeholder-shown~*){--tw-translate-y: calc(var(--spacing) * 0);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-placeholder-shown\\:scale-100{&:is(:where(.peer):placeholder-shown~*){--tw-scale-x: 100%;--tw-scale-y: 100%;--tw-scale-z: 100%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-placeholder-shown\\:opacity-0{&:is(:where(.peer):placeholder-shown~*){opacity:0%}}.peer-focus\\:-translate-y-5{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-6{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-\\[20px\\]{&:is(:where(.peer):focus~*){--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:scale-75{&:is(:where(.peer):focus~*){--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-focus\\:scale-\\[85\\%\\]{&:is(:where(.peer):focus~*){scale:85%}}.peer-focus\\:opacity-100{&:is(:where(.peer):focus~*){opacity:100%}}.hover\\:bg-blue-200{&:hover{@media(hover:hover){background-color:var(--color-blue-200)}}}.hover\\:bg-gray-100{&:hover{@media(hover:hover){background-color:var(--color-gray-100)}}}.hover\\:bg-gray-200{&:hover{@media(hover:hover){background-color:var(--color-gray-200)}}}}@property --tw-translate-x{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-y{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-z{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-scale-x{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-y{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-z{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-rotate-x{syntax: "*"; inherits: false;}@property --tw-rotate-y{syntax: "*"; inherits: false;}@property --tw-rotate-z{syntax: "*"; inherits: false;}@property --tw-skew-x{syntax: "*"; inherits: false;}@property --tw-skew-y{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-font-weight{syntax: "*"; inherits: false;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-blur{syntax: "*"; inherits: false;}@property --tw-brightness{syntax: "*"; inherits: false;}@property --tw-contrast{syntax: "*"; inherits: false;}@property --tw-grayscale{syntax: "*"; inherits: false;}@property --tw-hue-rotate{syntax: "*"; inherits: false;}@property --tw-invert{syntax: "*"; inherits: false;}@property --tw-opacity{syntax: "*"; inherits: false;}@property --tw-saturate{syntax: "*"; inherits: false;}@property --tw-sepia{syntax: "*"; inherits: false;}@property --tw-drop-shadow{syntax: "*"; inherits: false;}@property --tw-drop-shadow-color{syntax: "*"; inherits: false;}@property --tw-drop-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-drop-shadow-size{syntax: "*"; inherits: false;}@property --tw-backdrop-blur{syntax: "*"; inherits: false;}@property --tw-backdrop-brightness{syntax: "*"; inherits: false;}@property --tw-backdrop-contrast{syntax: "*"; inherits: false;}@property --tw-backdrop-grayscale{syntax: "*"; inherits: false;}@property --tw-backdrop-hue-rotate{syntax: "*"; inherits: false;}@property --tw-backdrop-invert{syntax: "*"; inherits: false;}@property --tw-backdrop-opacity{syntax: "*"; inherits: false;}@property --tw-backdrop-saturate{syntax: "*"; inherits: false;}@property --tw-backdrop-sepia{syntax: "*"; inherits: false;}@property --tw-duration{syntax: "*"; inherits: false;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x: 0;--tw-translate-y: 0;--tw-translate-z: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-scale-z: 1;--tw-rotate-x: initial;--tw-rotate-y: initial;--tw-rotate-z: initial;--tw-skew-x: initial;--tw-skew-y: initial;--tw-border-style: solid;--tw-font-weight: initial;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000;--tw-blur: initial;--tw-brightness: initial;--tw-contrast: initial;--tw-grayscale: initial;--tw-hue-rotate: initial;--tw-invert: initial;--tw-opacity: initial;--tw-saturate: initial;--tw-sepia: initial;--tw-drop-shadow: initial;--tw-drop-shadow-color: initial;--tw-drop-shadow-alpha: 100%;--tw-drop-shadow-size: initial;--tw-backdrop-blur: initial;--tw-backdrop-brightness: initial;--tw-backdrop-contrast: initial;--tw-backdrop-grayscale: initial;--tw-backdrop-hue-rotate: initial;--tw-backdrop-invert: initial;--tw-backdrop-opacity: initial;--tw-backdrop-saturate: initial;--tw-backdrop-sepia: initial;--tw-duration: initial}}}
`);import{forwardRef as de,memo as ue,useEffect as xt}from"react";import{useEffect as Xt,useRef as yt,useSyncExternalStore as te}from"react";var j=e=>Array.isArray(e),gt=e=>typeof e=="object"&&e!==null&&!j(e),ht=e=>e.length===0;function X(e,t){return t.split(".").reduce((r,n)=>{if(r!=null)return H(n)?r[Number(n)]:r[n]},e)}var H=e=>e!==""&&!isNaN(Number(e));var et=class{rawData={};state={inputData:null,initialData:null,editedKeys:new Set};isBatching=!1;pendingKeys=new Set;currentValue="";_isEditMode=!1;set isEditMode(t){this._isEditMode!==t&&(this._isEditMode=t,this.state.initialData={})}get isEditMode(){return this._isEditMode}backgroundColor="white";listeners=new Map;subscribe(t,r){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r),()=>{this.listeners.get(t)?.delete(r)}}notify(t){if(j(t)){t.forEach(r=>this.notify(r));return}if(this.isBatching){this.pendingKeys.add(t);return}this.listeners.get(t)?.forEach(r=>r())}notifyAll(){this.listeners.forEach(t=>t.forEach(r=>r()))}batch(t){this.isBatching=!0,t(),this.isBatching=!1,this.pendingKeys.forEach(r=>{this.listeners.get(r)?.forEach(n=>n())}),this.pendingKeys.clear()}getSnapshot=()=>this.state;initializeInputStore(t){this.state.inputData={},t==="edit"&&(this.isEditMode=!0)}setBackgroundColor(t){this.backgroundColor=t}setEditData(t){this.isEditMode&&this.batch(()=>{this.state={inputData:structuredClone(t),initialData:structuredClone(t),editedKeys:new Set},this.collectKeys(t)})}collectKeys(t,r="",n=[]){for(let a in t){let o=t[a],i=r?`${r}.${a}`:a;if(typeof o=="object"&&o!==null&&!Array.isArray(o))this.collectKeys(o,i,n);else if(j(o))for(let s=0;s<o.length;s++)this.collectKeys(o[s],`${i}.${s}`,n);else this.listeners.has(i)&&(this.currentValue=o,this.notify(i))}}setFieldInitialData(t,r){this.setNestedValue(this.state.inputData,t,r),this.setNestedValue(this.rawData,t,""),this.isEditMode&&this.setNestedValue(this.state.initialData,t,r),this.currentValue=r,this.notify(t)}setValue(t,r){let n=this.state.inputData;if(!n)return;this.currentValue=r;let a=this.getNestedValue(n,t);if(this.setNestedValue(n,t,r),a!==r&&(console.log("triggering setvalue",r,a,this.isEditMode),this.notify(t)),!this.isEditMode)return;let o=this.getNestedValue(this.state.initialData,t);o===void 0&&this.setNestedValue(this.state.initialData,t,r),console.log("checking setvalue initial value",o,r,t),r!==o?this.state.editedKeys.add(t):this.state.editedKeys.delete(t)}getValue(t){return this.getNestedValue(this.state.inputData,t)}getHookValue(t){return this.getNestedValue(this.state.inputData,t)}reset(t){return r=>{if(r){if(typeof r=="string"){this.setValue(r,"");return}if(j(r)){r.forEach(a=>this.setValue(a,""));return}}let n=structuredClone(t??this.rawData??{});this.state={inputData:n,initialData:this.isEditMode?structuredClone(n):null,editedKeys:new Set},this.currentValue="",this.arrayItems.clear(),this.notifyAll()}}setNestedValue(t,r,n){let a=r.split("."),o=t;for(let s=0;s<a.length-1;s++){let p=a[s],g=a[s+1];if(H(p)){let d=Number(p);if(!Array.isArray(o))throw new Error(`Expected array at ${a.slice(0,s).join(".")}`);o[d]??=H(g)?[]:{},o=o[d]}else o[p]??=H(g)?[]:{},o=o[p]}let i=a.at(-1);if(H(i)){if(!Array.isArray(o))throw new Error(`Expected array at ${a.slice(0,-1).join(".")}`);o[Number(i)]=n}else o[i]=n}getNestedValue(t,r){return r.split(".").reduce((n,a)=>{if(n!=null)return H(a)?n[Number(a)]:n[a]},t)}getInputNestedValue(t){return this.getNestedValue(this.state.inputData,t)}arrayItems=new Map;getArrayItems(t){return this.arrayItems.get(t)}addArrayItem(t,r){let n=this.arrayItems.get(t)??[],a=Array.isArray(r)?[...n,...r]:[...n,r];this.arrayItems.set(t,a),console.log("adding array item",t,this.arrayItems),this.notify(t)}removeArrayItem(t,r){let n=this.arrayItems.get(t);if(!Array.isArray(n))return;let a=n.filter((o,i)=>i!==r);this.arrayItems.set(t,a),this.notify(t)}},c=new et;function F(e){let t=yt(""),r=yt(!0);return Xt(()=>{setTimeout(()=>{r.current=!1},200)},[]),te(n=>c.subscribe(e,n),()=>{if(r.current&&t.current===c.getInputNestedValue(e)||t.current===c.currentValue)return t.current;let n=c.getHookValue(e);return t.current=n,n})}import{useSyncExternalStore as ee}from"react";var rt=new Map;function bt(e){if(rt.has(e))return rt.get(e);let t=[],r=e.replace(/\$\{(.*?)\}/g,(o,i)=>(t.push(i),`get(data, "${i}")`)),n=new Function("data","get",`try { return Boolean(${r}) } catch { return false }`),a={deps:t,evaluate:o=>n(o,X)};return rt.set(e,a),a}function R(e,t){if(e===void 0)return!1;if(typeof e=="boolean")return e;let{deps:r,evaluate:n}=bt(e);return ee(o=>{let i=r.map(s=>c.subscribe(s,o));return()=>i.forEach(s=>s())},()=>n(c.getSnapshot().inputData??{}))}import{forwardRef as re,memo as ne,useImperativeHandle as ae,useLayoutEffect as oe,useRef as wt,useState as ie}from"react";import{jsx as nt,jsxs as le}from"react/jsx-runtime";var se=re(({name:e,type:t,placeholder:r,maxLength:n,value:a,onBlur:o,autoFocus:i,onEnterPress:s,onFocus:p,disabled:g=!1,hideElement:d=!1,handleChange:u=()=>{},containerStyles:h="",inputStyles:b="",placeholderStyles:C="",...x},k)=>{let v=/border-(\d+|\[([^\]]+)\])/,y=wt(null),w=b.match(v),I=w?w[2]?w[2]:`${w[1]}px`:void 0,D=wt(""),V=c.backgroundColor,N=P=>{console.log("the string value is",P.target.value);let W=P.target.value;n&&W.length==n+1||u(P)};ae(k,()=>({focus:()=>{y.current?.focus()},blur:()=>{y.current?.blur()},reset:()=>{c.reset()(e)}}));let K=()=>{let P=c.getSnapshot();o?.({currentValue:a,allData:P})},G=()=>{p?.(e)},E=P=>{if(P.key==="Enter"){console.log("enter pressed");let W=c.getSnapshot();s?.({currentValue:a,allData:W})}},[A,O]=ie(null);return oe(()=>{D.current&&O(D.current.offsetWidth)},[a,r,d]),le("div",{className:`relative w-full group ${h}`,children:[nt("input",{type:t,id:`floating_input_${e}`,ref:y,onBlur:K,onFocus:G,value:a,maxLength:n,autoFocus:i,onKeyDown:E,onChange:N,className:`py-2 px-2 border-2 w-full outline-none rounded-lg bg-transparent appearance-none peer ${b}`,placeholder:" ",disabled:g,required:!0}),A&&nt("div",{className:"absolute top-0 left-4 peer-focus:opacity-100 peer-placeholder-shown:opacity-0 transition-opacity duration-200",style:{height:I||2,width:A*.75+8,backgroundColor:V||"white"}}),nt("label",{ref:D,htmlFor:`floating_input_${e}`,className:`
                    absolute left-5 duration-300 transform -translate-y-5 scale-75 top-2 origin-left
                    peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                    peer-focus:scale-75 peer-focus:-translate-y-5
                    ${x.sharedStyles?.placeholderStyles||""} ${C}
                    `,children:r})]})}),T=ne(se);var z=(e,t,r)=>{let n=c.getSnapshot().inputData;if(!n)return;let a=n[e]||t;c.setFieldInitialData(e,a)};import{createContext as pe,useContext as ce}from"react";var Z=pe(null),$=()=>ce(Z);var q=e=>e=="_id"||/^[a-z][a-zA-Z0-9]*$/.test(e)?e:e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(r,n)=>n.toUpperCase()).replace(/^[A-Z]/,r=>r.toLowerCase()),vt=e=>e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var M=(e,t)=>{let r=$(),n=t||q(e);return r?`${r}.${n}`:n};import{jsx as St}from"react/jsx-runtime";var fe=de(({placeholder:e,containerStyles:t="",onEnterPress:r,onBlur:n,onDisableChange:a,maxLength:o,autoFocus:i=!1,privacy:s=!1,disabled:p=!1,hideElement:g=!1,inputStyles:d,placeholderStyles:u,onChange:h,initialValue:b="",name:C,...x},k)=>{let v=M(e,C);xt(()=>{z(v,b)},[]);let y=F(v)??"",w=R(p,v),I=R(g);return xt(()=>{console.log("rendering StrInput useEffect",c.getSnapshot()),h?.(y)},[y]),St("div",{style:{display:I?"none":"block"},children:St(T,{ref:k,name:v,value:y,handleChange:V=>{c.setValue(v,V.target.value)},onEnterPress:r,disabled:w,onBlur:n,autoFocus:i,maxLength:o,placeholder:e,type:s?"password":"text",containerStyles:t,inputStyles:d,placeholderStyles:u,...x})})}),Ct=ue(fe);Ct.displayName="StrInput";var at=Ct;import{forwardRef as me,memo as ge,useCallback as he,useEffect as ot,useRef as ye}from"react";var J=e=>{let t=Object.keys(e);for(let r of t)c.setValue(r,e[r])};var kt=e=>e!==""&&!isNaN(Number(e));import{jsx as we}from"react/jsx-runtime";var be=me(({placeholder:e,onEnterPress:t,onBlur:r,containerStyles:n,stringify:a=!1,autoFocus:o=!1,privacy:i=!1,disabled:s=!1,hideElement:p=!1,onDisableChange:g,maxLength:d,inputStyles:u,placeholderStyles:h,onChange:b,initialValue:C="",name:x,...k},v)=>{let y=M(e,x);ot(()=>{z(y,C)},[]);let w=F(y)??"",I=E=>a?E.toString():E,D=he(E=>{J({[y]:E})},[y]),V=R(s),N=R(p);ot(()=>{if(g){let E=c.getInputNestedValue(y);g({state:V,disabledKey:x,disabledValue:E,storeValue:c.getSnapshot().inputData,setValue:D})}},[V]);let K=ye(w);return ot(()=>{b&&w!==K.current&&(K.current=w,kt(w)&&(console.log("the value of value is",w),b(Number(w))))},[w]),we(T,{ref:v,name:y,value:w,handleChange:E=>{let A=E.target.value,O=A===""?"":I(Number(A));c.setValue(y,O)},autoFocus:o,maxLength:d,onBlur:r,onEnterPress:t,placeholder:e,type:i?"password":"number",disabled:V,hideElement:N,containerStyles:n,inputStyles:u,placeholderStyles:h,...k})}),Dt=ge(be);Dt.displayName="NumInput";var it=Dt;import{memo as ve,useRef as xe,useSyncExternalStore as Se}from"react";import{Fragment as ke,jsx as It}from"react/jsx-runtime";var Ce=({name:e,items:t,getKey:r,children:n,defaultAddItem:a})=>{let o=xe(!0),i=$(),s=i?`${i}.${e}`:e;o.current&&(c.addArrayItem(s,t),o.current=!1);let p=Se(d=>c.subscribe(s,d),()=>c.getArrayItems(s)??t),g={add:d=>c.addArrayItem(s,a||d),remove:d=>c.removeArrayItem(s,d),isLast:d=>d===p.length-1};return It(ke,{children:p.map((d,u)=>{let h=`${s}.${u}`,b=r?r(d,u):h;return It(Z.Provider,{value:h,children:n(d,u,g)},b||h)})})},st=ve(Ce);import{memo as De}from"react";import{jsx as Ee}from"react/jsx-runtime";var Ie=({name:e,children:t})=>{let r=$(),n=r?`${r}.${e}`:e;return Ee(Z.Provider,{value:n,children:t})},Et=De(Ie);Et.displayName="ObjectContainer";var lt=Et;import{memo as Ze,useCallback as qe,useEffect as Je}from"react";import{useRef as $e,useState as Le,useLayoutEffect as je,memo as He,useCallback as Be}from"react";import{memo as Oe,useCallback as Fe,useEffect as Rt,useLayoutEffect as Ae,useMemo as Te,useRef as Y,useState as pt}from"react";function U(e,t){if(e===t)return!0;if(e==null||t==null)return e===t;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!U(e[a],t[a]))return!1;return!0}let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a of r)if(!t.hasOwnProperty(a)||!U(e[a],t[a]))return!1;return!0}import{memo as Ne,forwardRef as Re,useCallback as Pe}from"react";import{jsx as Ve}from"react/jsx-runtime";var Me=Re(({label:e,isSelected:t,isHighlighted:r,onSelect:n,optionClass:a},o)=>{let i=Pe(()=>{n()},[n]);return Ve("div",{ref:o,"data-label":e,onClick:i,className:`
                    py-2 px-4 cursor-pointer hover:bg-blue-200
                    ${t?"text-blue-700 font-medium":""}
                    ${r?"bg-blue-100":""}
                    ${a}
                `,children:e})}),Nt=Ne(Me,(e,t)=>U(e.optionClass,t.optionClass));import{jsx as L,jsxs as Pt}from"react/jsx-runtime";var ze=({options:e,onSelect:t,onToggleDropdown:r,disabled:n,seachable:a,name:o,styles:i,modalContainerRef:s})=>{let[p,g]=pt(!1),d=F(o),[u,h]=pt(""),b=Y(0),C=Y([]),[x,k]=pt(null),v=Y(null),y=Y(null),w=Y(null);Rt(()=>{let l=S=>{v.current&&!v.current.contains(S.target)&&A()};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);let I=l=>{t(l),g(!1)},D=l=>{I(l.value)},V=l=>{h(l.target.value),O(0)},N=Te(()=>{if(!u)return e;let l=u.toLowerCase();return e.filter(S=>S.label.toLowerCase().indexOf(l)!==-1)},[u,e]),K=Fe(l=>{if(!l)return;let S=l.dataset.label;if(!S)return;let _=N.findIndex(Q=>Q.label===S);_!==-1&&(C.current[_]=l)},[N]);Ae(()=>{p&&y.current&&(G(),O(0))},[N.length,p]);let G=()=>{let l=v.current?.getBoundingClientRect(),S=s?.current||document.documentElement,_=S.getBoundingClientRect(),Q=y.current?.getBoundingClientRect();if(!l||!Q)return;let Yt=_.bottom-l.bottom,Gt=l.top-_.top,ft=Yt<Gt?"up":"down",mt=S===document.documentElement?window.scrollY:0,Qt=ft==="down"?l.bottom+mt+i.dropdownOffset:l.top-Q.height+mt-i.dropdownOffset;k({left:l.left,width:l.width,top:Qt,direction:ft})},E=()=>{n||(g(!0),b.current=0,h(""),setTimeout(()=>{w.current?.focus(),O(0)},10))},A=()=>{g(!1)};Rt(()=>{r?.(p)},[p]);let O=l=>{if(N.length===0)return;let S=b.current;S!=l&&(C.current[S]?.classList.remove("bg-blue-100"),C.current[l]?.classList.add("bg-blue-100"),C.current[l]?.scrollIntoView({block:"nearest"}),b.current=l)},P=l=>{if(p){if(console.log("inside handlekeydown",l.key),l.key==="ArrowDown"){l.preventDefault();let S=Math.min(b.current+1,N.length-1);O(S)}if(l.key==="ArrowUp"){l.preventDefault();let S=Math.max(b.current-1,0);O(S)}if(l.key==="Enter"){l.preventDefault();let S=N[b.current];S&&I(S.value)}l.key==="Escape"&&A()}},W=p?Pt("div",{className:`fixed z-10 bg-white border border-gray-300 rounded-lg shadow-xl max-h-60 overflow-hidden ${i.modalBoxStyles}`,style:{top:x?.top,left:x?.left,width:x?.width},ref:y,onMouseDown:l=>l.stopPropagation(),children:[a&&L("div",{className:"p-2 border-b border-gray-200",children:L("input",{ref:w,type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border rounded-lg bg-gray-50 outline-none",value:u,onChange:V,onClick:l=>l.stopPropagation(),onMouseDown:l=>l.stopPropagation(),onKeyDown:l=>{l.stopPropagation(),P(l)}})}),L("div",{className:"max-h-48 overflow-y-auto",onClick:l=>l.stopPropagation(),children:ht(N)?L("div",{className:`py-2 px-4 text-gray-500 ${i.optionStyles}`,children:"No options found."}):N.map((l,S)=>L(Nt,{label:l.label,isSelected:d===l.value,isHighlighted:b.current===S,name:o,optionClass:i.optionStyles,onSelect:()=>D(l),ref:K},l.value))})]}):null,Jt=document.body;return Pt("div",{ref:v,onClick:E,onKeyDown:P,onFocus:E,tabIndex:0,className:`py-2 px-2 relative border-2 w-full h-12 flex justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${i.inputStyles}`,children:[L("span",{children:e.find(l=>l.value===d)?.label||"Select an Option"}),L("svg",{className:`w-4 h-4 transition-transform duration-200 ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:L("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),p&&Jt&&W]})},Mt=Oe(ze,(e,t)=>U(e.options,t.options));import{jsx as ct,jsxs as _e}from"react/jsx-runtime";var Ke=({name:e,placeholder:t,options:r,onSelect:n,onToggleDropdown:a,disabled:o,hideElement:i,seachable:s,styles:p,makeEmptyDisabled:g=!1,...d})=>{let u=d,h=$e(null),[b,C]=Le(null);je(()=>{h.current&&C(h.current.offsetWidth)},[i]);let x=Be(k=>{n(k)},[]);return _e("div",{className:`relative w-full group ${p.containerStyles}`,children:[ct(Mt,{onSelect:x,options:r,name:e,styles:p,onToggleDropdown:a,seachable:s,disabled:o,modalContainerRef:u.modalContainerRef}),b&&ct("div",{className:"absolute top-0 left-4 peer-focus:opacity-100 transition-opacity duration-200",style:{height:2,width:b*.75+8,backgroundColor:u.bgColor||"white"}}),ct("label",{ref:h,htmlFor:`floating_select_${e}`,className:`
                    absolute left-5 duration-300 transform -translate-y-5 scale-75 top-2 origin-left
                    peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                    peer-focus:scale-75 peer-focus:-translate-y-5
                    ${p.placeholderStyles} ${u.sharedStyles?.placeholderStyles||""}
                `,children:t})]})},Vt=He(Ke);import{useMemo as Ue,useSyncExternalStore as We}from"react";var Ot=({options:e,dependsOn:t,optionsMap:r,initialLabel:n,initialValue:a})=>{let o=t?We(i=>c.subscribe(t,i),()=>c.getInputNestedValue(t)):null;return Ue(()=>{let i=t&&r?r[o??""]??[]:e??[],s=typeof i[0]=="string"?i.map(p=>({label:p,value:p})):i;return n?[{label:n,value:a},...s]:s},[o,e,r,n,a])};import{jsx as Ft}from"react/jsx-runtime";var Ye=({name:e,placeholder:t,options:r,onChange:n,dependsOn:a,onToggleDropdown:o,optionsMap:i,initialLabel:s,disabled:p=!1,hideElement:g=!1,searchable:d=!1,onDisableChange:u,initialValue:h="",styles:b={inputStyles:"",placeholderStyles:"",containerStyles:"",modalBoxStyles:"",optionBoxStyles:"",optionStyles:"",dropdownOffset:5},...C})=>{let x=M(t,e),k=qe(D=>{J({[x]:D})},[x]),v=R(p),y=R(g);Je(()=>{if(u){let D=c.getInputNestedValue(x);u({state:v,disabledKey:x,disabledValue:D,storeValue:c.getSnapshot().inputData,setValue:k})}},[v]);let w=Ot({options:r,dependsOn:a,optionsMap:i,initialLabel:s,initialValue:h});return Ft("div",{style:{display:y?"none":"block"},children:Ft(Vt,{name:x,placeholder:t,onToggleDropdown:o,options:w,disabled:v,hideElement:y,seachable:d,onSelect:D=>{n?.(D),c.setValue(x,D)},styles:b,...C})})},At=Ze(Ye,(e,t)=>e.placeholder===t.placeholder);At.displayName="SelectInput";var Ge=At;import{memo as Qe,useMemo as Tt}from"react";import{Fragment as tr,jsx as B}from"react/jsx-runtime";var dt=({initialData:e,exclusionKeys:t})=>{let r=$()??"",n=Tt(()=>t?j(t)?t.map(q):[q(t)]:[],[t]),a=Tt(()=>e??c.getSnapshot().inputData,[e]);if(!a)return null;let o=(i,s,p)=>{let g=p?`${p}.${i}`:i,d={initialValue:s,name:i,placeholder:vt(i)};return typeof s=="string"?B(at,{...d},g):typeof s=="number"?B(it,{...d},g):Array.isArray(s)?B(st,{name:i,items:s,getKey:(u,h)=>`${g}.${h}`,children:u=>B(dt,{initialData:u})},i):gt(s)?B(lt,{name:i,children:B(dt,{initialData:s})},g):null};return B(tr,{children:Object.entries(a).map(([i,s])=>n.includes(i)?null:o(i,s,r))})},zt=Qe(dt);zt.displayName="AutoInput";var Xe=zt;import{memo as ar,useEffect as or}from"react";var er={"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"},rr={january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"},nr=e=>rr[e.toLowerCase()];var $t=e=>{let t=/(\d{4})[-\/.](\d{1,2})[-\/.](\d{1,2})|(\d{1,2})[-\/.](\d{1,2})[-\/.](\d{4})|(\d{1,2})(st|nd|rd|th)?\s+([A-Za-z]+)\s+(\d{4})/,r=e.match(t);if(!r)return null;let n=d=>d.padStart(2,"0"),a="",o="",i="",s="";r[1]?(i=r[1],o=n(r[2]),a=n(r[3])):r[4]?(a=n(r[4]),o=n(r[5]),i=r[6]):(a=r[7],s=r[8],o=nr(r[9]),i=r[10]);let p=er[o]??"Unknown",g={dd:a,mm:o,yyyy:i,MonthName:p};return{day:a,month:o,year:i,monthName:p,getFormat:(d="yyyy-mm-dd")=>d.replace(/dd|mm|yyyy|MonthName/g,u=>u in g?g[u]:u)}};import{Fragment as lr,jsx as Lt}from"react/jsx-runtime";var ir=({placeholder:e,onDateSelect:t,onEnterPress:r=()=>{},defaultTodayDate:n=!1,disabled:a=!1,hideElement:o=!1,containerStyles:i="",inputStyles:s="",placeholderStyles:p="",defaultDate:g,name:d,...u})=>{let h=M(e,d),b=new Date().toISOString(),C=n?$t(b).getFormat("dd-mm-yyyy"):"";or(()=>{z(h,C)},[]);let x=w=>{let I=w.target.value;c.setValue(h,I),t?.(I)},k=F(h)??"",v=R(a),y=R(o);return Lt(lr,{children:Lt(T,{name:h,value:k,handleChange:x,onEnterPress:r,placeholder:e,disabled:v,hideElement:y,type:"date",containerStyles:i,inputStyles:s,placeholderStyles:p,...u})})},jt=ar(ir);jt.displayName="DateInput";var sr=jt;import{memo as pr,useEffect as Ht}from"react";import{Fragment as ur,jsx as Bt}from"react/jsx-runtime";var cr=({initialValue:e="",containerStyles:t="",placeholder:r,onChange:n=()=>{},inputStyles:a,placeholderStyles:o,name:i,...s})=>{let p=M(r,i);return Ht(()=>{z(p,e)},[]),Ht(()=>{n(e,null)},[p]),Bt(ur,{children:Bt(T,{name:i,value:e,placeholder:r,disabled:!0,type:"text",containerStyles:t,inputStyles:`bg-gray-300 ${a}`,placeholderStyles:o,...s})})},Kt=pr(cr);Kt.displayName="DisabledInput";var dr=Kt;import Ut,{forwardRef as fr,memo as mr,useCallback as gr,useImperativeHandle as hr,useState as Wt}from"react";var _t=()=>{console.log("getting edited data");let{editedKeys:e,inputData:t}=c.getSnapshot(),r={};return!e||e.size===0?{data:t,edited:null}:(e.forEach(n=>{r[n]=X(t,n)}),{data:t,edited:r})};import{jsx as ut,jsxs as wr}from"react/jsx-runtime";var yr=fr(({children:e,className:t,closeModal:r,disabled:n=!1,onClick:a,modal:o},i)=>{let{isDisabled:s=!1,modalStyle:p,onConfirm:g,renderConfirmationModel:d}=o||{},[u,h]=Wt(!1),[b,C]=Wt(null),x=w=>{g?.(w),h(!1),v(),r?.()},k=()=>{h(!1)},v=c.reset(),y=gr(async()=>{if(n||u)return;let{data:w,edited:I}=_t();if(C(w),!a&&d){h(!0);return}a&&await a({data:w,edited:I,resetForm:v})&&d&&h(!0)},[a,n,u,d]);return hr(i,()=>({submit:y}),[y]),wr("div",{className:`${t}`,onClick:y,children:[e,u?ut("div",{className:"fixed flex cursor-default justify-center items-center z-50 left-0 top-0 w-full h-full bg-gray-500/50 backdrop-blur-lg ",children:ut("div",{className:"relative grid rounded-lg shadow-lg bg-gray-400 overflow-y-auto max-h-4/5",style:{height:p?.height,width:p?.width||"80%"},children:ut("div",{className:"",children:typeof d=="function"?d({cancel:k,success:x,resetForm:v,data:b,isDisabled:s}):Ut.isValidElement(d)?Ut.cloneElement(d,{cancel:k,success:x,resetForm:v,data:b,isDisabled:s}):null})})}):null]})}),Zt=mr(yr);Zt.displayName="SubmitButton";var br=Zt;import{useEffect as vr,useRef as qt}from"react";import{memo as xr}from"react";import{jsx as kr}from"react/jsx-runtime";var Sr=({children:e,inputContainerStyles:t,sharedStyles:r,modalContainerRef:n,mode:a="default"})=>{let o=qt(null),i=qt(!0);return i.current&&(console.log("initializing input store"),c.initializeInputStore(a),i.current=!1),vr(()=>{if(o.current instanceof HTMLElement){let s=o.current,p="";for(;s&&(p=window.getComputedStyle(s).backgroundColor,!(p&&p!=="rgba(0, 0, 0, 0)"&&p!=="transparent"));)s=s.parentElement;p=="rgba(0, 0, 0, 0)"||p==""?c.setBackgroundColor("white"):c.setBackgroundColor(p)}},[]),kr("div",{ref:o,className:t,children:e})},Cr=xr(Sr);var Dr=e=>{c.setEditData(e)};export{st as ArrayContainer,Xe as AutoInput,sr as DateInput,dr as DisabledInput,Cr as InputContainer,it as NumInput,lt as ObjectContainer,Ge as SelectInput,at as StrInput,br as SubmitButton,Dr as setEditData,J as setFieldValue,F as useInputStore};
//# sourceMappingURL=index.mjs.map