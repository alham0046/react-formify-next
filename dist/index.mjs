function ee(r,{insertAt:e}={}){if(!r||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(document.createTextNode(r))}ee(`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties;@layer theme,base,components,utilities;@layer theme{:root,:host{--font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--color-blue-100: oklch(93.2% .032 255.585);--color-blue-200: oklch(88.2% .059 254.128);--color-blue-700: oklch(48.8% .243 264.376);--color-gray-50: oklch(98.5% .002 247.839);--color-gray-100: oklch(96.7% .003 264.542);--color-gray-200: oklch(92.8% .006 264.531);--color-gray-300: oklch(87.2% .01 258.338);--color-gray-400: oklch(70.7% .022 261.325);--color-gray-500: oklch(55.1% .027 264.364);--color-white: #fff;--spacing: .25rem;--font-weight-medium: 500;--radius-md: .375rem;--radius-lg: .5rem;--blur-lg: 16px;--default-transition-duration: .15s;--default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-mono-font-family: var(--font-mono)}}@layer base{*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings, normal);font-variation-settings:var(--default-font-variation-settings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:var(--default-mono-font-feature-settings, normal);font-variation-settings:var(--default-mono-font-variation-settings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:currentcolor;@supports (color: color-mix(in lab,red,red)){color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{.pointer-events-none{pointer-events:none}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.top-0{top:calc(var(--spacing) * 0)}.top-2{top:calc(var(--spacing) * 2)}.top-full{top:100%}.left-0{left:calc(var(--spacing) * 0)}.left-4{left:calc(var(--spacing) * 4)}.left-5{left:calc(var(--spacing) * 5)}.z-10{z-index:10}.z-50{z-index:50}.container{width:100%;@media(width>=40rem){max-width:40rem}@media(width>=48rem){max-width:48rem}@media(width>=64rem){max-width:64rem}@media(width>=80rem){max-width:80rem}@media(width>=96rem){max-width:96rem}}.mt-1{margin-top:calc(var(--spacing) * 1)}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.h-4{height:calc(var(--spacing) * 4)}.h-12{height:calc(var(--spacing) * 12)}.h-full{height:100%}.max-h-4\\/5{max-height:80%}.max-h-48{max-height:calc(var(--spacing) * 48)}.max-h-60{max-height:calc(var(--spacing) * 60)}.w-4{width:calc(var(--spacing) * 4)}.w-full{width:100%}.w-max{width:max-content}.origin-\\[0\\],.origin-left{transform-origin:0}.-translate-y-5{--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-6{--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-\\[20px\\]{--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}.scale-75{--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.appearance-none{appearance:none}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-x-3{column-gap:calc(var(--spacing) * 3)}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500\\/50{background-color:color-mix(in srgb,oklch(55.1% .027 264.364) 50%,transparent);@supports (color: color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-gray-500) 50%,transparent)}}.bg-transparent{background-color:transparent}.bg-white{background-color:var(--color-white)}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.px-1{padding-inline:calc(var(--spacing) * 1)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-2{padding-block:calc(var(--spacing) * 2)}.text-center{text-align:center}.font-medium{--tw-font-weight: var(--font-weight-medium);font-weight:var(--font-weight-medium)}.whitespace-nowrap{white-space:nowrap}.text-blue-700{color:var(--color-blue-700)}.text-gray-500{color:var(--color-gray-500)}.shadow-lg{--tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.backdrop-blur-lg{--tw-backdrop-blur: blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.duration-200{--tw-duration: .2s;transition-duration:.2s}.duration-300{--tw-duration: .3s;transition-duration:.3s}.outline-none{--tw-outline-style: none;outline-style:none}.peer-placeholder-shown\\:translate-y-0{&:is(:where(.peer):placeholder-shown~*){--tw-translate-y: calc(var(--spacing) * 0);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-placeholder-shown\\:scale-100{&:is(:where(.peer):placeholder-shown~*){--tw-scale-x: 100%;--tw-scale-y: 100%;--tw-scale-z: 100%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-placeholder-shown\\:opacity-0{&:is(:where(.peer):placeholder-shown~*){opacity:0%}}.peer-focus\\:-translate-y-5{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-6{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:-translate-y-\\[20px\\]{&:is(:where(.peer):focus~*){--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\:scale-75{&:is(:where(.peer):focus~*){--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-focus\\:scale-\\[85\\%\\]{&:is(:where(.peer):focus~*){scale:85%}}.peer-focus\\:opacity-100{&:is(:where(.peer):focus~*){opacity:100%}}.hover\\:bg-blue-200{&:hover{@media(hover:hover){background-color:var(--color-blue-200)}}}.hover\\:bg-gray-100{&:hover{@media(hover:hover){background-color:var(--color-gray-100)}}}.hover\\:bg-gray-200{&:hover{@media(hover:hover){background-color:var(--color-gray-200)}}}}.input-root{position:relative}.input-border{border:var(--bw) solid black;padding-block:var(--bh);padding-inline:var(--po);transition:border-color .2s ease}.label-input{position:absolute;left:var(--po);top:0%;display:inline-flex;align-items:center;pointer-events:none;transition:top .2s ease,transform .2s ease}.placeholder-input{transform-origin:left center;transform:scale(calc(1 - .25 * var(--float))) translateY(calc(-66% * var(--float))) translate(calc(10% * var(--float)));display:flex;align-items:center;transition:transform .2s ease;background:transparent}.line-input{position:absolute;width:100%;left:-2px;height:var(--bw);top:0;opacity:calc(var(--float));transition:opacity .2s ease}input:focus+.label-input .placeholder-input,input:not(:placeholder-shown)+.label-input .placeholder-input{transform:scale(.75) translateY(-66%) translate(10%)}input:focus+.label-input .line-input,input:not(:placeholder-shown)+.label-input .line-input{opacity:1}@property --tw-translate-x{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-y{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-translate-z{syntax: "*"; inherits: false; initial-value: 0;}@property --tw-scale-x{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-y{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-z{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-rotate-x{syntax: "*"; inherits: false;}@property --tw-rotate-y{syntax: "*"; inherits: false;}@property --tw-rotate-z{syntax: "*"; inherits: false;}@property --tw-skew-x{syntax: "*"; inherits: false;}@property --tw-skew-y{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-font-weight{syntax: "*"; inherits: false;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-blur{syntax: "*"; inherits: false;}@property --tw-brightness{syntax: "*"; inherits: false;}@property --tw-contrast{syntax: "*"; inherits: false;}@property --tw-grayscale{syntax: "*"; inherits: false;}@property --tw-hue-rotate{syntax: "*"; inherits: false;}@property --tw-invert{syntax: "*"; inherits: false;}@property --tw-opacity{syntax: "*"; inherits: false;}@property --tw-saturate{syntax: "*"; inherits: false;}@property --tw-sepia{syntax: "*"; inherits: false;}@property --tw-drop-shadow{syntax: "*"; inherits: false;}@property --tw-drop-shadow-color{syntax: "*"; inherits: false;}@property --tw-drop-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-drop-shadow-size{syntax: "*"; inherits: false;}@property --tw-backdrop-blur{syntax: "*"; inherits: false;}@property --tw-backdrop-brightness{syntax: "*"; inherits: false;}@property --tw-backdrop-contrast{syntax: "*"; inherits: false;}@property --tw-backdrop-grayscale{syntax: "*"; inherits: false;}@property --tw-backdrop-hue-rotate{syntax: "*"; inherits: false;}@property --tw-backdrop-invert{syntax: "*"; inherits: false;}@property --tw-backdrop-opacity{syntax: "*"; inherits: false;}@property --tw-backdrop-saturate{syntax: "*"; inherits: false;}@property --tw-backdrop-sepia{syntax: "*"; inherits: false;}@property --tw-duration{syntax: "*"; inherits: false;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x: 0;--tw-translate-y: 0;--tw-translate-z: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-scale-z: 1;--tw-rotate-x: initial;--tw-rotate-y: initial;--tw-rotate-z: initial;--tw-skew-x: initial;--tw-skew-y: initial;--tw-border-style: solid;--tw-font-weight: initial;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000;--tw-blur: initial;--tw-brightness: initial;--tw-contrast: initial;--tw-grayscale: initial;--tw-hue-rotate: initial;--tw-invert: initial;--tw-opacity: initial;--tw-saturate: initial;--tw-sepia: initial;--tw-drop-shadow: initial;--tw-drop-shadow-color: initial;--tw-drop-shadow-alpha: 100%;--tw-drop-shadow-size: initial;--tw-backdrop-blur: initial;--tw-backdrop-brightness: initial;--tw-backdrop-contrast: initial;--tw-backdrop-grayscale: initial;--tw-backdrop-hue-rotate: initial;--tw-backdrop-invert: initial;--tw-backdrop-opacity: initial;--tw-backdrop-saturate: initial;--tw-backdrop-sepia: initial;--tw-duration: initial}}}
`);import{forwardRef as Et,memo as Pt,useEffect as Nt}from"react";import{useSyncExternalStore as lt}from"react";function _(r,e){return e.split(".").reduce((t,o)=>{if(t!=null)return T(o)?t[Number(o)]:t[o]},r)}var T=r=>r!==""&&!isNaN(Number(r));var te=new Map;function ye(r){if(te.has(r))return te.get(r);let e=[],t=r.replace(/\$\{(.*?)\}/g,(a,i)=>(e.push(i),`get(data, "${i}")`)),o=new Function("data","get",`try { return Boolean(${t}) } catch { return false }`),n={deps:e,evaluate:a=>o(a,_)};return te.set(r,n),n}var L=r=>Array.isArray(r),ge=r=>typeof r=="object"&&r!==null&&!L(r);var it=[],st={current:null},re=class{rawData={};state={inputData:null,initialData:null,editedKeys:new Set};sharedContext=new Map;dropdownSearch=new Map;dropdownContext=new Map;getDropdownContext(e){return this.dropdownContext.get(e)??st}setDropdownContext(e,t){this.dropdownContext.set(e,t)}getDropdownSearch(e){return this.dropdownSearch.get(e)||it}setDropdownSearch(e,t){this.dropdownSearch.set(e,t),this.notify(e)}isBatching=!1;pendingKeys=new Set;currentValue="";_isEditMode=!1;set isEditMode(e){this._isEditMode!==e&&(this._isEditMode=e,this.state.initialData={})}get isEditMode(){return this._isEditMode}backgroundColor="white";listeners=new Map;subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{this.listeners.get(e)?.delete(t)}}notify(e){if(L(e)){e.forEach(t=>this.notify(t));return}if(this.isBatching){this.pendingKeys.add(e);return}this.listeners.get(e)?.forEach(t=>t())}notifyAll(){this.listeners.forEach(e=>e.forEach(t=>t()))}batch(e){this.isBatching=!0,e(),this.isBatching=!1,this.pendingKeys.forEach(t=>{this.listeners.get(t)?.forEach(o=>o())}),this.pendingKeys.clear()}getSnapshot=()=>this.state;initializeInputStore(e){this.state.inputData={},e==="edit"&&(this.isEditMode=!0)}setBackgroundColor(e){this.backgroundColor=e}setEditData(e){this.isEditMode&&this.batch(()=>{this.state={inputData:structuredClone(e),initialData:structuredClone(e),editedKeys:new Set},this.collectKeys(e)})}collectKeys(e,t="",o=[]){for(let n in e){let a=e[n],i=t?`${t}.${n}`:n;if(typeof a=="object"&&a!==null&&!Array.isArray(a))this.collectKeys(a,i,o);else if(L(a)){this.arrayItems.set(i,[...a]),this.notify(i);for(let s=0;s<a.length;s++)this.collectKeys(a[s],`${i}.${s}`,o)}else this.listeners.has(i)&&(this.currentValue=a,this.notify(i))}}setFieldInitialData(e,t,o){this.setNestedValue(this.state.inputData,e,t),o?this.setNestedValue(this.rawData,e,t):this.setNestedValue(this.rawData,e,""),this.isEditMode&&this.setNestedValue(this.state.initialData,e,t),this.currentValue=t,this.notify(e)}setValue(e,t){let o=this.state.inputData;if(!o)return;this.currentValue=t;let n=this.getNestedValue(o,e);if(this.setNestedValue(o,e,t),n!==t&&this.notify(e),!this.isEditMode)return;let a=this.getNestedValue(this.state.initialData,e);a===void 0&&this.setNestedValue(this.state.initialData,e,t),t!==a?this.state.editedKeys.add(e):this.state.editedKeys.delete(e)}getValue(e){return this.getNestedValue(this.state.inputData,e)}getHookValue(e){return this.getNestedValue(this.state.inputData,e)}reset(e){return t=>{if(t){if(typeof t=="string"){this.setValue(t,"");return}if(L(t)){t.forEach(n=>this.setValue(n,""));return}}let o=structuredClone(e??this.rawData??{});this.state={inputData:o,initialData:this.isEditMode?structuredClone(o):null,editedKeys:new Set},this.currentValue="",this.arrayItems.clear(),this.notifyAll(),this.sharedContext.clear()}}clear(){this.state={inputData:null,initialData:null,editedKeys:new Set},this.currentValue="",this.arrayItems.clear(),this.sharedContext.clear()}setNestedValue(e,t,o){let n=t.split("."),a=e;for(let s=0;s<n.length-1;s++){let d=n[s],c=n[s+1];if(T(d)){let l=Number(d);if(!Array.isArray(a))throw new Error(`Expected array at ${n.slice(0,s).join(".")}`);a[l]??=T(c)?[]:{},a=a[l]}else a[d]??=T(c)?[]:{},a=a[d]}let i=n.at(-1);if(T(i)){if(!Array.isArray(a))throw new Error(`Expected array at ${n.slice(0,-1).join(".")}`);a[Number(i)]=o}else a[i]=o}getNestedValue(e,t){return t.split(".").reduce((o,n)=>{if(o!=null)return T(n)?o[Number(n)]:o[n]},e)}getInputNestedValue(e){return this.getNestedValue(this.state.inputData,e)}arrayItems=new Map;getArrayItems(e){return this.arrayItems.get(e)}addArrayItem(e,t){let o=this.arrayItems.get(e)??[],n=Array.isArray(t)?[...o,...t]:[...o,t];this.arrayItems.set(e,n),this.notify(e)}removeArrayItem(e,t){let o=this.arrayItems.get(e);if(!Array.isArray(o))return;let n=o.filter((a,i)=>i!==t);this.arrayItems.set(e,n),this.notify(e)}hydrateArrays(e,t=""){for(let o in e){let n=e[o],a=t?`${t}.${o}`:o;Array.isArray(n)?(this.arrayItems.set(a,[...n]),this.notify(a),n.forEach((i,s)=>{typeof i=="object"&&i!==null&&this.hydrateArrays(i,`${a}.${s}`)})):typeof n=="object"&&n!==null&&this.hydrateArrays(n,a)}}},p=new re;function P(r,e){if(r===void 0)return!1;if(typeof r=="boolean")return r;let{deps:t,evaluate:o}=ye(r);return lt(a=>{let i=t.map(s=>p.subscribe(s,a));return()=>i.forEach(s=>s())},()=>o(p.getSnapshot().inputData??{}))}import{forwardRef as ft,memo as mt}from"react";var we={borderWidth:"2px",boxHeight:"8px",boxWidth:"100%",placeHolderOffset:"16px"};import{createContext as pt,useContext as dt}from"react";var oe=pt({labelMode:!1}),W=()=>dt(oe);import{createContext as ct,useContext as ut}from"react";var ne=ct(null),z=()=>{let r=ut(ne);if(!r)throw new Error("Modal components must be used inside <Modal>");return r};import{jsx as be,jsxs as ve}from"react/jsx-runtime";var ht=ft(({name:r,children:e,childType:t,placeholder:o,style:n,placeholderStyles:a=""},i)=>{let{sharedStyles:s}=z(),d={...we,...s,...n},{borderWidth:c,boxHeight:l,boxWidth:m,placeHolderOffset:h,inputInlineStyle:v,placeholderInlineStyle:S}=d,{labelMode:x}=W(),y=p.backgroundColor;return ve("div",{className:"relative w-full group input-root",style:{"--bw":c,"--bh":l,"--po":h,"--float":t==="dropdown"?1:0},children:[e,!x&&ve("label",{id:`floating_input_${r}`,htmlFor:`floating_input_${r}`,className:`
                            label-input h-full
                          `,children:[be("span",{className:"line-input",style:{backgroundColor:y||"white"}}),be("span",{className:`placeholder-input h-full ${a}`,style:S,children:o})]})]})}),N=mt(ht);var O=(r,e,t)=>{let n=p.getInputNestedValue(r)||e;p.setFieldInitialData(r,n)};import{createContext as yt,useContext as gt}from"react";var $=yt(null),F=()=>gt($);var H=r=>r=="_id"||/^[a-z][a-zA-Z0-9]*$/.test(r)?r:r.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(t,o)=>o.toUpperCase()).replace(/^[A-Z]/,t=>t.toLowerCase()),xe=r=>r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());var k=(r,e)=>{let t=F(),o=e||H(r);return t?`${t}.${o}`:o};import{forwardRef as vt,memo as xt,useEffect as St,useImperativeHandle as Ct,useLayoutEffect as Ce,useRef as It}from"react";import{useEffect as wt,useRef as Se,useSyncExternalStore as bt}from"react";function U(r){let e=Se(""),t=Se(!0);return wt(()=>{setTimeout(()=>{t.current=!1},200)},[]),bt(o=>p.subscribe(r,o),()=>{if(t.current&&e.current===p.getInputNestedValue(r)||e.current===p.currentValue)return e.current;let o=p.getHookValue(r);return e.current=o,o})}var ae=class{elements=new Map;fieldStates=new Map;styles=new Map;register(e,t){this.elements.set(e,t)}unregister(e){this.elements.delete(e),this.fieldStates.delete(e)}setStyle(e,t){this.styles.set(e,t)}enable(e,t){if(!this.styles.has(t))return;let o=this.getStates(e);o.has(t)||(o.add(t),console.log("enabling state",e,t,o),this.apply(e,t))}disable(e,t){if(!this.styles.has(t))return;let o=this.getStates(e);o.has(t)&&(o.delete(t),this.remove(e,t))}getStates(e){return this.fieldStates.has(e)||this.fieldStates.set(e,new Set),this.fieldStates.get(e)}apply(e,t){let o=this.elements.get(e),n=this.styles.get(t);if(!(!o||!n)&&(n.className&&(o.classList.add(...n.className.split(" ")),o.parentElement?.querySelector("label")?.classList.add(...n.className.split(" "))),n.style)){Object.assign(o.style,n.style);let a=o.parentElement?.querySelector("label");Object.assign(a?.style||{},n.style)}}remove(e,t){let o=this.elements.get(e),n=this.styles.get(t);if(!(!o||!n)&&(n.className&&(o.classList.remove(...n.className.split(" ")),o.parentElement?.querySelector("label")?.classList.remove(...n.className.split(" "))),n.style))for(let a of Object.keys(n.style)){o.style[a]="";let i=o.parentElement?.querySelector("label");(i?.style)[a]=""}}},j=new ae;var ie={Edited:"edited",Error:"error",Warning:"warning",Focus:"focus",Disabled:"disabled"};import{jsx as Rt}from"react/jsx-runtime";var Dt=vt(({name:r,fixedValue:e,maxLength:t,autoFocus:o=!1,refRequired:n=!1,onBlur:a,onFocus:i,inputStyles:s="",handleChange:d,onChange:c,onEnterPress:l,disabled:m,placeholder:h,type:v,inputInlineStyle:S},x)=>{let y=It(null),{labelMode:I}=W(),b=e??U(r)??"",D=w=>{console.log("the string value is",w.target.value);let E=w.target.value;t&&E.length==t+1||d?.(w)};Ce(()=>{n&&y.current&&p.setDropdownContext(`ref_${r}`,y)},[y]),Ct(x,()=>({focus:()=>{y.current?.focus()},blur:()=>{y.current?.blur()},reset:()=>{p.reset()(r)}}));let R=()=>{j.disable(r,ie.Focus);let w=p.getSnapshot().inputData;a?.({currentValue:b??"",allData:w})},C=()=>{j.enable(r,ie.Focus),i?.(r)},g=w=>{if(w.key==="Enter"){console.log("enter pressed");let E=p.getSnapshot().inputData;l?.({currentValue:b??"",allData:E})}};return St(()=>{c?.(b)},[b]),Ce(()=>{if(y.current)return j.register(r,y.current),()=>{j.unregister(r)}},[r]),Rt("input",{type:v,id:`floating_input_${r}`,ref:y,onBlur:R,onFocus:C,value:b,maxLength:t,autoFocus:o,onKeyDown:g,onChange:D,style:S,className:I?s:`w-full outline-none rounded-lg input-border bg-transparent appearance-none peer ${s}`,placeholder:I?h:" ",disabled:m,required:!0})}),M=xt(Dt);import{jsx as Ie,jsxs as Vt}from"react/jsx-runtime";var kt=Et(({...r},e)=>{let{placeholder:t,name:o,children:n,style:a,placeholderStyles:i,initialValue:s="",disabled:d=!1,hideElement:c=!1,containerStyles:l="",privacy:m=!1,...h}=r,v=k(t,o);Nt(()=>{O(v,s)},[]);let S=P(d,v),x=P(c),y=I=>{p.setValue(v,I.target.value)};return x?null:Vt("div",{className:`relative ${l}`,children:[Ie(N,{name:v,placeholder:t,style:a,childType:"input",placeholderStyles:i,children:Ie(M,{ref:e,name:v,placeholder:t,inputInlineStyle:a?.inputInlineStyle,disabled:S,type:m?"password":"text",handleChange:y,...h})}),n]})}),De=Pt(kt);De.displayName="StrInput";var se=De;import{forwardRef as Ot,memo as Mt,useCallback as Ft,useEffect as Re}from"react";var B=r=>{let e=Object.keys(r);for(let t of e)p.setValue(t,r[t])};import{jsx as Ee,jsxs as Lt}from"react/jsx-runtime";var Tt=Ot(({...r},e)=>{let{placeholder:t,name:o,children:n,style:a,placeholderStyles:i,onDisableChange:s,initialValue:d="",disabled:c=!1,hideElement:l=!1,containerStyles:m="",privacy:h=!1,stringify:v=!1,...S}=r,x=k(t,o);Re(()=>{O(x,d)},[]);let y=C=>v?C.toString():C,I=Ft(C=>{B({[x]:C})},[x]),b=P(c),D=P(l);Re(()=>{if(s){let C=p.getInputNestedValue(x);s({state:b,disabledKey:o,disabledValue:C,storeValue:p.getSnapshot().inputData,setValue:I})}},[b]);let R=C=>{let g=C.target.value,w=g===""?"":y(Number(g));p.setValue(x,w)};return D?null:Lt("div",{className:`relative ${m}`,children:[Ee(N,{name:x,placeholder:t,style:a,childType:"input",placeholderStyles:i,children:Ee(M,{ref:e,name:x,placeholder:t,inputInlineStyle:a?.inputInlineStyle,disabled:b,type:h?"password":"number",handleChange:R,...S})}),n]})}),Pe=Mt(Tt);Pe.displayName="NumInput";var le=Pe;import{memo as At,useRef as zt,useSyncExternalStore as $t}from"react";import{Fragment as jt,jsx as Ne}from"react/jsx-runtime";var Ht=({name:r,items:e,getKey:t,children:o,defaultAddItem:n})=>{let a=zt(!0),i=F(),s=i?`${i}.${r}`:r;a.current&&(p.addArrayItem(s,e),a.current=!1);let d=$t(l=>p.subscribe(s,l),()=>p.getArrayItems(s)??e),c={add:l=>p.addArrayItem(s,n||l),remove:l=>p.removeArrayItem(s,l),isLast:l=>l===d.length-1,arrayLength:d.length};return Ne(jt,{children:d.map((l,m)=>{let h=`${s}.${m}`,v=t?t(l,m):h;return Ne($.Provider,{value:h,children:o(l,m,c)},v||h)})})},pe=At(Ht);import{memo as Bt}from"react";import{jsx as _t}from"react/jsx-runtime";var Kt=({name:r,children:e})=>{let t=F(),o=t?`${t}.${r}`:r;return _t($.Provider,{value:o,children:e})},ke=Bt(Kt);ke.displayName="ObjectContainer";var de=ke;import{memo as fr,useCallback as mr,useEffect as hr}from"react";import{useMemo as Wt,useSyncExternalStore as Ut}from"react";var Ve=({options:r,dependsOn:e,optionsMap:t,initialLabel:o,initialValue:n})=>{let a=e?Ut(i=>p.subscribe(e,i),()=>p.getInputNestedValue(e)):null;return Wt(()=>{let i=e&&t?t[a??""]??[]:r??[],s=typeof i[0]=="string"?i.map(d=>({label:d,value:d})):i;return o?[{label:o,value:n},...s]:s},[a,r,t,o,n])};import{memo as dr,useCallback as ce,useEffect as He,useRef as je,useState as Be}from"react";function Y(r,e){if(r===e)return!0;if(r==null||e==null)return r===e;if(typeof r!=typeof e)return!1;if(typeof r!="object")return r===e;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(let n=0;n<r.length;n++)if(!Y(r[n],e[n]))return!1;return!0}let t=Object.keys(r),o=Object.keys(e);if(t.length!==o.length)return!1;for(let n of t)if(!e.hasOwnProperty(n)||!Y(r[n],e[n]))return!1;return!0}import{forwardRef as Yt,memo as qt,useImperativeHandle as Zt,useRef as Gt}from"react";import{jsx as Oe}from"react/jsx-runtime";var Jt=Yt((r,e)=>{let t=Gt(null);return Zt(e,()=>({open:()=>{t.current?.classList.add("rotate-180")},close:()=>{t.current?.classList.remove("rotate-180")}})),Oe("svg",{ref:t,className:"w-4 h-4 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Oe("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),Me=qt(Jt);import{memo as nr,useEffect as ze,useLayoutEffect as ar,useMemo as ir,useRef as $e,useState as sr}from"react";import{useRef as Fe}from"react";function Te(r,e){let t=Fe(0),o=Fe([]),n=()=>{t.current=0},a=d=>{if(!r.length)return;let c=t.current;c!==d&&(o.current[c]?.classList.remove("bg-gray-100"),o.current[d]?.classList.add("bg-gray-100"),o.current[d]?.scrollIntoView({block:"nearest"}),t.current=d)};return{highlightIndexRef:t,handleKeyDown:(d,c)=>{if(r.length){if(d.key==="ArrowDown"&&(d.preventDefault(),a(Math.min(t.current+1,r.length-1))),d.key==="ArrowUp"&&(d.preventDefault(),a(Math.max(t.current-1,0))),d.key==="Enter"){d.preventDefault();let l=r[t.current];l&&c(l)}d.key==="Escape"&&(n(),e())}},registerOption:d=>c=>{c&&(o.current[d]=c)},reset:n}}import{useLayoutEffect as Qt,useState as Xt}from"react";var Le=({fixedRef:r,modalRef:e,dropdownOffset:t=0,isOpen:o})=>{let[n,a]=Xt(void 0);Qt(()=>{o&&i()},[o]);let i=()=>{let s=r.current?.getBoundingClientRect(),d=e.current?.getBoundingClientRect(),c=window.innerHeight;if(!s||!d)return;let h=(c-s.bottom>d.height?"down":"up")==="down"?s.bottom+t:s.top-d.height-t;a({left:s.left,width:s.width,top:h})};return{position:n,calculatePosition:i}};import{memo as er}from"react";import{Fragment as rr,jsx as or}from"react/jsx-runtime";var tr=({item:r,index:e,highlighted:t,register:o,renderItem:n})=>or(rr,{children:n(r,e,t,o)}),Ae=er(tr);import{jsx as K,jsxs as pr}from"react/jsx-runtime";var lr=({open:r,options:e,onSelect:t,close:o,renderItem:n,inputRef:a,dropdownOffset:i=0,searchable:s,onSearchChange:d,className:c=""})=>{let[l,m]=sr(""),h=$e(null),v=$e(null),{position:S,calculatePosition:x}=Le({modalRef:h,fixedRef:a,isOpen:r,dropdownOffset:i}),y=ir(()=>{if(!l)return e;let g=l.toLowerCase();return e.filter(w=>w.label.toLowerCase().indexOf(g)!==-1)},[l,e]),{highlightIndexRef:I,handleKeyDown:b,registerOption:D,reset:R}=Te(y,o);ar(()=>{r&&(x(),R())},[r,e.length]);let C=g=>{m(g.target.value),d?.(g.target.value)};return ze(()=>{if(!r)return;let g=w=>{if(!(!w.code.startsWith("Arrow")&&w.code!=="Enter"&&w.code!=="Escape"))return b(w,t)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[r,e,t]),ze(()=>{if(!r)return;v.current?.focus();let g=()=>x();return window.addEventListener("resize",g),window.addEventListener("scroll",g,!0),()=>{window.removeEventListener("resize",g),window.removeEventListener("scroll",g,!0)}},[r]),r?pr("div",{ref:h,className:`fixed z-50 bg-white border rounded-lg shadow-xl ${c}`,style:S,onMouseDown:g=>g.stopPropagation(),children:[s&&K("div",{className:"p-2 border-b",children:K("input",{ref:v,value:l,onChange:g=>C(g),className:"w-full px-3 py-1 border rounded",placeholder:"Search..."})}),K("div",{className:"max-h-60 overflow-y-auto",children:y.length===0?K("div",{className:"px-4 py-2 text-gray-500",children:"No options found"}):y.map((g,w)=>K(Ae,{item:g,index:w,highlighted:I.current===w,register:D(w),renderItem:n},typeof g=="string"?g:g.value))})]}):null},q=nr(lr);import{jsx as Z,jsxs as ur}from"react/jsx-runtime";var cr=({options:r,onSelect:e,onToggleDropdown:t,disabled:o,searchable:n,name:a,style:i,twStyle:s})=>{let d=U(a),c=je(null),[l,m]=Be(!1),[h,v]=Be(d||"Select an Option");console.log("inside dropdownmodal",i);let{inputInlineStyle:S,dropdownOffset:x}=i,{optionStyles:y="",modalBoxStyles:I="",inputStyles:b=""}=s,D=je(null);He(()=>{if(!l)return;let w=E=>{D.current&&!D.current.contains(E.target)&&g()};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[l]);let R=ce(w=>{let E=w.value;console.log("selected value",E),g(),v(E),e(E)},[e]),C=ce(()=>{l||o||(c.current?.open(),m(!0))},[l,o]),g=ce(()=>{c.current?.close(),m(!1)},[l]);return He(()=>{t?.(l)},[l]),ur("div",{ref:D,onClick:C,onFocus:C,tabIndex:0,style:S,className:`relative w-full flex input-border justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${b}`,children:[Z("span",{children:h}),Z(Me,{ref:c}),l&&Z(q,{open:l,options:r,close:g,onSelect:w=>{R(w)},inputRef:D,dropdownOffset:x,searchable:n,renderItem:(w,E,V,Q)=>{let X=w;return Z("div",{ref:Q,className:`px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 ${V?"bg-gray-100":""}`,onMouseDown:at=>{at.preventDefault(),R(X)},children:X.label},X.value)}})]})},Ke=dr(cr,(r,e)=>Y(r.options,e.options));var G={borderWidth:"2px",boxHeight:"8px",boxWidth:"100%",placeHolderOffset:"16px",dropdownOffset:5};import{jsx as _e,jsxs as wr}from"react/jsx-runtime";var yr=({name:r,placeholder:e,options:t,children:o,onChange:n,dependsOn:a,onToggleDropdown:i,optionsMap:s,initialLabel:d,twStyle:c={},disabled:l=!1,hideElement:m=!1,searchable:h=!1,onDisableChange:v,initialValue:S="",style:x})=>{let y=k(e,r),{sharedStyles:I,modalContainerRef:b}=z(),D=mr(V=>{B({[y]:V})},[y]),R=P(l),C=P(m),g={...G,...I,...x};hr(()=>{if(v){let V=p.getInputNestedValue(y);v({state:R,disabledKey:y,disabledValue:V,storeValue:p.getSnapshot().inputData,setValue:D})}},[R]);let w=Ve({options:t,dependsOn:a,optionsMap:s,initialLabel:d,initialValue:S}),E=V=>{n?.(V),p.setValue(y,V)};return C?null:wr("div",{className:`relative ${c?.containerStyles}`,children:[_e(N,{name:y,placeholder:e,style:x,placeholderStyles:c?.placeholderStyles,childType:"dropdown",children:_e(Ke,{onSelect:E,options:w,name:y,style:g,twStyle:c,onToggleDropdown:i,searchable:h,disabled:R,modalContainerRef:b})}),o]})},We=fr(yr,(r,e)=>r.placeholder===e.placeholder);We.displayName="SelectInput";var gr=We;import{memo as br,useMemo as Ue}from"react";import{Fragment as xr,jsx as A}from"react/jsx-runtime";var ue=({initialData:r,exclusionKeys:e})=>{let t=F()??"",o=Ue(()=>e?L(e)?e.map(H):[H(e)]:[],[e]),n=Ue(()=>r??p.getSnapshot().inputData,[r]);if(!n)return null;let a=(i,s,d)=>{let c=d?`${d}.${i}`:i,l={initialValue:s,name:i,placeholder:xe(i)};return typeof s=="string"?A(se,{...l},c):typeof s=="number"?A(le,{...l},c):Array.isArray(s)?A(pe,{name:i,items:s,getKey:(m,h)=>`${c}.${h}`,children:m=>A(ue,{initialData:m})},i):ge(s)?A(de,{name:i,children:A(ue,{initialData:s})},c):null};return A(xr,{children:Object.entries(n).map(([i,s])=>o.includes(i)?null:a(i,s,t))})},Ye=br(ue);Ye.displayName="AutoInput";var vr=Ye;import{forwardRef as Sr,memo as Cr,useEffect as Ir}from"react";import{jsx as qe,jsxs as Er}from"react/jsx-runtime";var Dr=Sr(({placeholder:r,onDateSelect:e,onEnterPress:t=()=>{},children:o,defaultTodayDate:n=!0,disabled:a=!1,style:i,hideElement:s=!1,containerStyles:d="",inputStyles:c="",placeholderStyles:l="",defaultDate:m,name:h},v)=>{let S=k(r,h),x=new Date().toISOString().split("T")[0],y=n?x:m??"";Ir(()=>{O(S,y)},[]);let I=R=>{let C=R.target.value;p.setValue(S,C),e?.(C)},b=P(a);return P(s)?null:Er("div",{className:`relative ${d}`,children:[qe(N,{name:S,placeholder:r,style:i,childType:"input",placeholderStyles:l,children:qe(M,{ref:v,name:S,placeholder:r,inputInlineStyle:i?.inputInlineStyle,disabled:b,type:"date",handleChange:I,inputStyles:c})}),o]})}),Ze=Cr(Dr);Ze.displayName="DateInput";var Rr=Ze;import{memo as Pr,useEffect as Nr}from"react";import{jsx as Ge,jsxs as Or}from"react/jsx-runtime";var kr=({initialValue:r="",containerStyles:e="",privacy:t=!1,children:o,style:n,placeholder:a,hideElement:i=!1,placeholderStyles:s,name:d,...c})=>{let l=k(a,d);return Nr(()=>{O(l,r)},[]),P(i)?null:Or("div",{className:`relative ${e}`,children:[Ge(N,{name:l,placeholder:a,style:n,childType:"input",placeholderStyles:s,children:Ge(M,{name:l,placeholder:a,inputInlineStyle:n?.inputInlineStyle,disabled:!0,type:t?"password":"text",fixedValue:r,...c})}),o]})},Je=Pr(kr);Je.displayName="DisabledInput";var Vr=Je;import{memo as Mr}from"react";import{jsx as J,jsxs as Lr}from"react/jsx-runtime";var Fr=({label:r,separator:e,children:t,className:o="",labelWidth:n="12rem"})=>J(oe.Provider,{value:{labelMode:!0},children:Lr("div",{className:`
          grid items-center gap-x-3
          ${o}
        `,style:{gridTemplateColumns:`${n} auto 1fr`},children:[J("div",{className:"whitespace-nowrap",children:r}),J("div",{className:"whitespace-nowrap text-center",children:e??null}),J("div",{children:t})]})}),Tr=Mr(Fr);import{forwardRef as Br,memo as Kr,useEffect as _r,useRef as Wr}from"react";import{memo as Ar,useEffect as zr,useSyncExternalStore as $r}from"react";import{Fragment as jr,jsx as fe}from"react/jsx-runtime";var Hr=({name:r,style:e,onSelect:t,renderItem:o})=>{console.log("lkdjfgos");let n=$r(l=>p.subscribe(`d_${r}`,l),()=>p.getDropdownSearch(`d_${r}`)),a=p.getDropdownContext(`ref_${r}`),i=()=>{p.setDropdownSearch(`d_${r}`,[])},{dropdownOffset:s}=e;console.log("logging outside");let d=n?.length>0||!1,c=l=>{console.log("opt",l),t?.(l),p.setValue(r,l),i()};return zr(()=>{if(!d)return;let l=m=>{a.current&&!a.current.contains(m.target)&&i()};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[d,a]),d?fe(jr,{children:fe(q,{open:d,options:n,close:i,onSelect:l=>{c(l)},inputRef:a,dropdownOffset:s,renderItem:(l,m,h,v)=>fe("div",{ref:v,className:`px-3 py-2 cursor-pointer hover:bg-gray-100 ${h?"bg-gray-100":""}`,onMouseDown:S=>{S.preventDefault(),c(l)},children:o?o(l,m,h):String(l)},m)})}):null},Qe=Ar(Hr);import{jsx as me,jsxs as qr}from"react/jsx-runtime";var Ur=Br(({...r},e)=>{let{placeholder:t,name:o,children:n,onChange:a,style:i,renderItem:s,onSelect:d,placeholderStyles:c="",initialValue:l="",disabled:m=!1,hideElement:h=!1,containerStyles:v="",privacy:S=!1,...x}=r,{sharedStyles:y}=z(),I=Wr(null),b=k(t,o),D={...G,...y,...i};_r(()=>{O(b,l)},[]);let R=P(m,b),C=P(h),g=E=>{let V=E.target.value;clearTimeout(I.current),I.current=setTimeout(async()=>{let Q=await a(V);p.setDropdownSearch(`d_${b}`,Q)},800),p.setValue(b,V)},w=E=>{p.setValue(b,E),d?.(E)};return C?null:qr("div",{className:`relative ${v}`,children:[me(N,{name:b,placeholder:t,childType:"input",style:i,placeholderStyles:c,children:me(M,{ref:e,name:b,refRequired:!0,placeholder:t,inputInlineStyle:i?.inputInlineStyle,disabled:R,type:S?"password":"text",handleChange:g,...x})}),me(Qe,{onSelect:w,renderItem:s,name:b,style:D}),n]})}),Yr=Kr(Ur);import et,{forwardRef as Zr,memo as Gr,useCallback as Jr,useImperativeHandle as Qr,useState as tt}from"react";var Xe=()=>{let{editedKeys:r,inputData:e}=p.getSnapshot(),t={};return!r||r.size===0?{data:e,edited:null}:(r.forEach(o=>{t[o]=_(e,o)}),{data:e,edited:t})};import{jsx as he,jsxs as to}from"react/jsx-runtime";var Xr=Zr(({children:r,className:e,closeModal:t,disabled:o=!1,onClick:n,modal:a},i)=>{let{isDisabled:s=!1,modalStyle:d,onConfirm:c,renderConfirmationModel:l}=a||{},[m,h]=tt(!1),[v,S]=tt(null),x=D=>{c?.(D),h(!1),I(),t?.()},y=()=>{h(!1)},I=p.reset(),b=Jr(async()=>{if(o||m)return;let{data:D,edited:R}=Xe();if(S(D),!n&&l){h(!0);return}n&&await n({data:D,edited:R,resetForm:I})&&l&&h(!0)},[n,o,m,l]);return Qr(i,()=>({submit:b}),[b]),to("div",{className:`${e}`,onClick:b,children:[r,m?he("div",{className:"fixed flex cursor-default justify-center items-center z-50 left-0 top-0 w-full h-full bg-gray-500/50 backdrop-blur-lg ",children:he("div",{className:"relative grid rounded-lg shadow-lg bg-gray-400 overflow-y-auto max-h-4/5",style:{height:d?.height,width:d?.width||"80%"},children:he("div",{className:"",children:typeof l=="function"?l({cancel:y,success:x,resetForm:I,data:v,isDisabled:s}):et.isValidElement(l)?et.cloneElement(l,{cancel:y,success:x,resetForm:I,data:v,isDisabled:s}):null})})}):null]})}),rt=Gr(Xr);rt.displayName="SubmitButton";var eo=rt;import{useEffect as ro,useRef as ot}from"react";import{memo as oo}from"react";import{jsx as nt}from"react/jsx-runtime";var no=({children:r,inputContainerStyles:e,sharedStyles:t,modalContainerRef:o,mode:n="default"})=>{let a=ot(null),i=ot(!0);return i.current&&(p.initializeInputStore(n),i.current=!1),ro(()=>{if(a.current instanceof HTMLElement){let s=a.current,d="";for(;s&&(d=window.getComputedStyle(s).backgroundColor,!(d&&d!=="rgba(0, 0, 0, 0)"&&d!=="transparent"));)s=s.parentElement;d=="rgba(0, 0, 0, 0)"||d==""?p.setBackgroundColor("white"):p.setBackgroundColor(d)}return()=>{p.reset()()}},[]),nt(ne.Provider,{value:{sharedStyles:t,modalContainerRef:o},children:nt("div",{ref:a,className:e,children:r})})},ao=oo(no);var io=r=>{p.setEditData(r)};var so=r=>p.reset(r),lo=()=>p.clear();var po={get:r=>r?p.sharedContext.get(r):Object.fromEntries(p.sharedContext),set:(r,e)=>p.sharedContext.set(r,e),addMany:r=>co(r),remove:r=>p.sharedContext.delete(r),clear:()=>p.sharedContext.clear()},co=r=>{Object.entries(r).forEach(([e,t])=>p.sharedContext.set(e,t))};export{pe as ArrayContainer,vr as AutoInput,lo as ClearForm,Rr as DateInput,Vr as DisabledInput,Tr as FormRow,ao as InputContainer,le as NumInput,de as ObjectContainer,so as ResetForm,Yr as SearchInput,gr as SelectInput,po as SharedContext,se as StrInput,eo as SubmitButton,io as setEditData,B as setFieldValue};
//# sourceMappingURL=index.mjs.map