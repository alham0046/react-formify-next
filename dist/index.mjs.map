{"version":3,"sources":["#style-inject:#style-inject","../src/styles.css","../src/components/StrInput.tsx","../src/hooks/useComputedExpression.ts","../src/Utils/inputStoreUtils.ts","../src/Utils/expressionHelper.ts","../src/functions/dataTypesValidation.ts","../src/store/InputStore.ts","../src/components/InputTemplate.tsx","../src/typeDeclaration/stylesProps.ts","../src/context/LabelLayoutContext.ts","../src/context/ContainerContext.ts","../src/Utils/setInitialValue.ts","../src/context/NameScopeContext.ts","../src/functions/camelCase.ts","../src/hooks/useFieldName.ts","../src/components/Input.tsx","../src/hooks/useInputStore.ts","../src/store/styleStore.ts","../src/typeDeclaration/fieldVisualState.ts","../src/components/NumInput.tsx","../src/Utils/SetFieldValue.ts","../src/components/ArrayContainer.tsx","../src/components/ObjContainer.tsx","../src/components/SelectInput.tsx","../src/hooks/useSelectOptions.ts","../src/components/DropdownModal.tsx","../src/functions/shallowOrDeepEqual.ts","../src/Icons/RotatingDropdown.tsx","../src/components/BaseDropdown.tsx","../src/hooks/useDropdownNavigation.tsx","../src/hooks/useDropdownPosition.tsx","../src/components/DropdownItem.tsx","../src/styles/DropdownStyles.ts","../src/components/AutoInput.tsx","../src/components/DateInput.tsx","../src/components/DisabledInput.tsx","../src/components/FormRow.tsx","../src/components/SearchInput.tsx","../src/components/DropdownSearchModal.tsx","../src/components/SubmitButton.tsx","../src/Utils/getEditedData.ts","../src/components/InputContainer.tsx","../src/Utils/SetEditData.ts","../src/Utils/resetForm.ts","../src/Utils/sharedContextManager.ts"],"sourcesContent":["\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\"/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties;@layer theme,base,components,utilities;@layer theme{:root,:host{--font-sans: ui-sans-serif, system-ui, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\";--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace;--color-blue-100: oklch(93.2% .032 255.585);--color-blue-200: oklch(88.2% .059 254.128);--color-blue-700: oklch(48.8% .243 264.376);--color-gray-50: oklch(98.5% .002 247.839);--color-gray-100: oklch(96.7% .003 264.542);--color-gray-200: oklch(92.8% .006 264.531);--color-gray-300: oklch(87.2% .01 258.338);--color-gray-400: oklch(70.7% .022 261.325);--color-gray-500: oklch(55.1% .027 264.364);--color-white: #fff;--spacing: .25rem;--font-weight-medium: 500;--radius-md: .375rem;--radius-lg: .5rem;--blur-lg: 16px;--default-transition-duration: .15s;--default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-mono-font-family: var(--font-mono)}}@layer base{*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\");font-feature-settings:var(--default-font-feature-settings, normal);font-variation-settings:var(--default-font-variation-settings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace);font-feature-settings:var(--default-mono-font-feature-settings, normal);font-variation-settings:var(--default-mono-font-variation-settings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:currentcolor;@supports (color: color-mix(in lab,red,red)){color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{.pointer-events-none{pointer-events:none}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.top-0{top:calc(var(--spacing) * 0)}.top-2{top:calc(var(--spacing) * 2)}.top-full{top:100%}.left-0{left:calc(var(--spacing) * 0)}.left-4{left:calc(var(--spacing) * 4)}.left-5{left:calc(var(--spacing) * 5)}.z-10{z-index:10}.z-50{z-index:50}.container{width:100%;@media(width>=40rem){max-width:40rem}@media(width>=48rem){max-width:48rem}@media(width>=64rem){max-width:64rem}@media(width>=80rem){max-width:80rem}@media(width>=96rem){max-width:96rem}}.mt-1{margin-top:calc(var(--spacing) * 1)}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.h-4{height:calc(var(--spacing) * 4)}.h-12{height:calc(var(--spacing) * 12)}.h-full{height:100%}.max-h-4\\\\/5{max-height:80%}.max-h-48{max-height:calc(var(--spacing) * 48)}.max-h-60{max-height:calc(var(--spacing) * 60)}.w-4{width:calc(var(--spacing) * 4)}.w-full{width:100%}.w-max{width:max-content}.origin-\\\\[0\\\\],.origin-left{transform-origin:0}.-translate-y-5{--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-6{--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-\\\\[20px\\\\]{--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}.scale-75{--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.appearance-none{appearance:none}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-x-3{column-gap:calc(var(--spacing) * 3)}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500\\\\/50{background-color:color-mix(in srgb,oklch(55.1% .027 264.364) 50%,transparent);@supports (color: color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-gray-500) 50%,transparent)}}.bg-transparent{background-color:transparent}.bg-white{background-color:var(--color-white)}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.px-1{padding-inline:calc(var(--spacing) * 1)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-2{padding-block:calc(var(--spacing) * 2)}.text-center{text-align:center}.font-medium{--tw-font-weight: var(--font-weight-medium);font-weight:var(--font-weight-medium)}.whitespace-nowrap{white-space:nowrap}.text-blue-700{color:var(--color-blue-700)}.text-gray-500{color:var(--color-gray-500)}.shadow-lg{--tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / .1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.backdrop-blur-lg{--tw-backdrop-blur: blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.duration-200{--tw-duration: .2s;transition-duration:.2s}.duration-300{--tw-duration: .3s;transition-duration:.3s}.outline-none{--tw-outline-style: none;outline-style:none}.peer-placeholder-shown\\\\:translate-y-0{&:is(:where(.peer):placeholder-shown~*){--tw-translate-y: calc(var(--spacing) * 0);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-placeholder-shown\\\\:scale-100{&:is(:where(.peer):placeholder-shown~*){--tw-scale-x: 100%;--tw-scale-y: 100%;--tw-scale-z: 100%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-placeholder-shown\\\\:opacity-0{&:is(:where(.peer):placeholder-shown~*){opacity:0%}}.peer-focus\\\\:-translate-y-5{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -5);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\\\:-translate-y-6{&:is(:where(.peer):focus~*){--tw-translate-y: calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\\\:-translate-y-\\\\[20px\\\\]{&:is(:where(.peer):focus~*){--tw-translate-y: -20px ;translate:var(--tw-translate-x) var(--tw-translate-y)}}.peer-focus\\\\:scale-75{&:is(:where(.peer):focus~*){--tw-scale-x: 75%;--tw-scale-y: 75%;--tw-scale-z: 75%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.peer-focus\\\\:scale-\\\\[85\\\\%\\\\]{&:is(:where(.peer):focus~*){scale:85%}}.peer-focus\\\\:opacity-100{&:is(:where(.peer):focus~*){opacity:100%}}.hover\\\\:bg-blue-200{&:hover{@media(hover:hover){background-color:var(--color-blue-200)}}}.hover\\\\:bg-gray-100{&:hover{@media(hover:hover){background-color:var(--color-gray-100)}}}.hover\\\\:bg-gray-200{&:hover{@media(hover:hover){background-color:var(--color-gray-200)}}}}.input-root{position:relative}.input-border{border:var(--bw) solid black;padding-block:var(--bh);padding-inline:var(--po);transition:border-color .2s ease}.label-input{position:absolute;left:var(--po);top:0%;display:inline-flex;align-items:center;pointer-events:none;transition:top .2s ease,transform .2s ease}.placeholder-input{transform-origin:left center;transform:scale(calc(1 - .25 * var(--float))) translateY(calc(-66% * var(--float))) translate(calc(10% * var(--float)));display:flex;align-items:center;transition:transform .2s ease;background:transparent}.line-input{position:absolute;width:100%;left:-2px;height:var(--bw);top:0;opacity:calc(var(--float));transition:opacity .2s ease}input:focus+.label-input .placeholder-input,input:not(:placeholder-shown)+.label-input .placeholder-input{transform:scale(.75) translateY(-66%) translate(10%)}input:focus+.label-input .line-input,input:not(:placeholder-shown)+.label-input .line-input{opacity:1}@property --tw-translate-x{syntax: \\\"*\\\"; inherits: false; initial-value: 0;}@property --tw-translate-y{syntax: \\\"*\\\"; inherits: false; initial-value: 0;}@property --tw-translate-z{syntax: \\\"*\\\"; inherits: false; initial-value: 0;}@property --tw-scale-x{syntax: \\\"*\\\"; inherits: false; initial-value: 1;}@property --tw-scale-y{syntax: \\\"*\\\"; inherits: false; initial-value: 1;}@property --tw-scale-z{syntax: \\\"*\\\"; inherits: false; initial-value: 1;}@property --tw-rotate-x{syntax: \\\"*\\\"; inherits: false;}@property --tw-rotate-y{syntax: \\\"*\\\"; inherits: false;}@property --tw-rotate-z{syntax: \\\"*\\\"; inherits: false;}@property --tw-skew-x{syntax: \\\"*\\\"; inherits: false;}@property --tw-skew-y{syntax: \\\"*\\\"; inherits: false;}@property --tw-border-style{syntax: \\\"*\\\"; inherits: false; initial-value: solid;}@property --tw-font-weight{syntax: \\\"*\\\"; inherits: false;}@property --tw-shadow{syntax: \\\"*\\\"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: \\\"*\\\"; inherits: false;}@property --tw-shadow-alpha{syntax: \\\"<percentage>\\\"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: \\\"*\\\"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: \\\"*\\\"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: \\\"<percentage>\\\"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: \\\"*\\\"; inherits: false;}@property --tw-ring-shadow{syntax: \\\"*\\\"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: \\\"*\\\"; inherits: false;}@property --tw-inset-ring-shadow{syntax: \\\"*\\\"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: \\\"*\\\"; inherits: false;}@property --tw-ring-offset-width{syntax: \\\"<length>\\\"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: \\\"*\\\"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: \\\"*\\\"; inherits: false; initial-value: 0 0 #0000;}@property --tw-blur{syntax: \\\"*\\\"; inherits: false;}@property --tw-brightness{syntax: \\\"*\\\"; inherits: false;}@property --tw-contrast{syntax: \\\"*\\\"; inherits: false;}@property --tw-grayscale{syntax: \\\"*\\\"; inherits: false;}@property --tw-hue-rotate{syntax: \\\"*\\\"; inherits: false;}@property --tw-invert{syntax: \\\"*\\\"; inherits: false;}@property --tw-opacity{syntax: \\\"*\\\"; inherits: false;}@property --tw-saturate{syntax: \\\"*\\\"; inherits: false;}@property --tw-sepia{syntax: \\\"*\\\"; inherits: false;}@property --tw-drop-shadow{syntax: \\\"*\\\"; inherits: false;}@property --tw-drop-shadow-color{syntax: \\\"*\\\"; inherits: false;}@property --tw-drop-shadow-alpha{syntax: \\\"<percentage>\\\"; inherits: false; initial-value: 100%;}@property --tw-drop-shadow-size{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-blur{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-brightness{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-contrast{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-grayscale{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-hue-rotate{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-invert{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-opacity{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-saturate{syntax: \\\"*\\\"; inherits: false;}@property --tw-backdrop-sepia{syntax: \\\"*\\\"; inherits: false;}@property --tw-duration{syntax: \\\"*\\\"; inherits: false;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x: 0;--tw-translate-y: 0;--tw-translate-z: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-scale-z: 1;--tw-rotate-x: initial;--tw-rotate-y: initial;--tw-rotate-z: initial;--tw-skew-x: initial;--tw-skew-y: initial;--tw-border-style: solid;--tw-font-weight: initial;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000;--tw-blur: initial;--tw-brightness: initial;--tw-contrast: initial;--tw-grayscale: initial;--tw-hue-rotate: initial;--tw-invert: initial;--tw-opacity: initial;--tw-saturate: initial;--tw-sepia: initial;--tw-drop-shadow: initial;--tw-drop-shadow-color: initial;--tw-drop-shadow-alpha: 100%;--tw-drop-shadow-size: initial;--tw-backdrop-blur: initial;--tw-backdrop-brightness: initial;--tw-backdrop-contrast: initial;--tw-backdrop-grayscale: initial;--tw-backdrop-hue-rotate: initial;--tw-backdrop-invert: initial;--tw-backdrop-opacity: initial;--tw-backdrop-saturate: initial;--tw-backdrop-sepia: initial;--tw-duration: initial}}}\\n\")","import { forwardRef, memo, useEffect } from \"react\";\nimport type { InputProps, InputRefProps } from \"../typeDeclaration/inputProps\";\nimport { useInputStore } from \"../hooks/useInputStore\";\nimport { useComputedExpression } from \"../hooks/useComputedExpression\";\nimport InputTemplate from \"./InputTemplate\";\nimport { handleInitialValue } from \"../Utils/setInitialValue\";\nimport { useFieldName } from \"../hooks/useFieldName\";\nimport { inputStore } from \"src/store/InputStore\";\nimport Input from \"./Input\";\n\n\nconst StrInput = forwardRef<InputRefProps, InputProps>(({...props}, ref) => {\n    const {placeholder, name,children,style,placeholderStyles, initialValue=\"\", disabled=false, hideElement=false, containerStyles=\"\", privacy=false, ...rest} = props\n    const modifiedName = useFieldName(placeholder, name)\n\n    useEffect(() => {\n        handleInitialValue(modifiedName, initialValue)\n    }, [])\n\n    const disabledValue: boolean = useComputedExpression(disabled, modifiedName)\n\n    const hiddenValue: boolean = useComputedExpression(hideElement)\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        // const nativeEvent = e.nativeEvent as unknown as InputEvent; // Type assertion to InputEvent\n        // onChange?.(changedValue, nativeEvent.data);\n        inputStore.setValue(modifiedName, e.target.value)\n    }\n\n    if (hiddenValue) return null\n    \n    return (\n        <div className={`relative ${containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\n            <InputTemplate\n                name={modifiedName}\n                placeholder={placeholder}\n                style={style}\n                childType=\"input\"\n                placeholderStyles={placeholderStyles}\n            >\n                <Input\n                    ref={ref}\n                    name={modifiedName}\n                    placeholder={placeholder}\n                    inputInlineStyle={style?.inputInlineStyle}\n                    disabled={disabledValue}\n                    type={privacy ? 'password' : 'text'}\n                    handleChange={handleChange}\n                    {...rest}\n                />\n            </InputTemplate>\n            {children}\n        </div>\n    );\n});\n\n// 1. Export the memoized component\nconst MemoizedStrInput = memo(StrInput)\n\n// 2. Set the displayName on the exported component\nMemoizedStrInput.displayName = 'StrInput';\n\nexport default MemoizedStrInput;\n\n\n\n\n\n// import { forwardRef, memo, useEffect } from \"react\";\n// import type { InputProps, InputRefProps } from \"../typeDeclaration/inputProps\";\n// import { useInputStore } from \"../hooks/useInputStore\";\n// import { useComputedExpression } from \"../hooks/useComputedExpression\";\n// import InputTemplate from \"./InputTemplate\";\n// import { handleInitialValue } from \"../Utils/setInitialValue\";\n// import { useFieldName } from \"../hooks/useFieldName\";\n// import { inputStore } from \"src/store/InputStore\";\n\n\n// const StrInput = forwardRef<InputRefProps, InputProps>(({\n//     placeholder,\n//     containerStyles = \"\",\n//     onEnterPress,\n//     onBlur,\n//     onDisableChange,\n//     maxLength,\n//     autoFocus = false,\n//     privacy = false,\n//     disabled = false,\n//     hideElement = false,\n//     inputStyles,\n//     placeholderStyles,\n//     onChange,\n//     initialValue = \"\",\n//     name,\n//     ...props\n// }, ref) => {\n//     const modifiedName = useFieldName(placeholder, name)\n\n//     // const modifiedName = name || camelCase(placeholder);\n\n//     useEffect(() => {\n//         handleInitialValue(modifiedName, initialValue)\n//     }, [])\n\n//     // const value = useInputStore(state => state.inputData[modifiedName] ?? \"\")\n//     const value: string = useInputStore(modifiedName) ?? \"\"\n\n//     const disabledValue: boolean = useComputedExpression(disabled, modifiedName)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement)\n\n//     useEffect(() => {\n//         // inputStore.currentValue = value\n//         onChange?.(value)  // Pass null as no event.data\n//     }, [value])\n\n//     const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         // const nativeEvent = e.nativeEvent as unknown as InputEvent; // Type assertion to InputEvent\n//         // onChange?.(changedValue, nativeEvent.data);\n//         inputStore.setValue(modifiedName, e.target.value)\n//     }\n\n\n//     return (\n//         <div style={{ display: hiddenValue ? 'none' : 'block' }}>\n//             <InputTemplate\n//                 ref={ref}\n//                 name={modifiedName}\n//                 value={value}\n//                 handleChange={handleChange}\n//                 onEnterPress={onEnterPress}\n//                 disabled={disabledValue}\n//                 // hideElement={hiddenValue}\n//                 onBlur={onBlur}\n//                 autoFocus={autoFocus}\n//                 maxLength={maxLength}\n//                 placeholder={placeholder}\n//                 type={privacy ? 'password' : 'text'}\n//                 containerStyles={containerStyles}\n//                 inputStyles={inputStyles}\n//                 placeholderStyles={placeholderStyles}\n//                 {...props}\n//             />\n//         </div>\n//     );\n// });\n\n// // 1. Export the memoized component\n// const MemoizedStrInput = memo(StrInput)\n\n// // 2. Set the displayName on the exported component\n// MemoizedStrInput.displayName = 'StrInput';\n\n// export default MemoizedStrInput;\n\n\n\n\n// import React, { FC, memo, useCallback, useEffect, useRef } from 'react';\n// import { useInputStore } from 'src/hooks/useInputStore';\n// import InputTemplate from './InputTemplate';\n// import { FullInputProps, InputProps } from 'src/typeDeclaration/inputProps';\n// import { getNestedValue } from 'src/Utils/inputStoreUtils';\n// import { useComputedExpression } from 'src/hooks/useComputedExpression';\n// import { useFormInitials } from 'src/hooks/useFormInitialState';\n\n\n// const StrInput: FC<InputProps> = ({\n//     placeholder,\n//     containerStyles = \"\",\n//     onEnterPress = () => { },\n//     onBlur = () => { },\n//     onDisableChange,\n//     maxLength,\n//     privacy = false,\n//     disabled = false,\n//     hideElement = false,\n//     inputStyles,\n//     placeholderStyles,\n//     onChange = () => { },\n//     initialValue = \"\",\n//     name,\n//     ...props\n// }) => {\n//     const fullProps = props as FullInputProps\n\n//     const value: string = useInputStore(\n//         (state) => {\n//             if (fullProps.isArrayObject) {\n//                 const arrData = fullProps.arrayData!;\n//                 return (\n//                     state.inputData[arrData.arrayName]?.[arrData.arrayIndex]?.[name!] ?? \"\"\n//                 );\n//             }\n//             return getNestedValue(state.inputData, name!) ?? \"\"\n//             // return state.inputData[name] ?? \"\";\n//         }\n//     );\n    \n//     const handleOnDisableChange = useCallback((value: any) => {\n//         useFormInitials({ [name!]: value })\n//     }, [name])\n\n//     const disabledValue: boolean = useComputedExpression(disabled, name!)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement, name!)\n\n\n//     useEffect(() => {\n//         if (onDisableChange) {\n//             const { inputData } = useInputStore.getState()\n//             const currentDisabled = getNestedValue(inputData, name)\n//             onDisableChange({\n//                 state: disabledValue,\n//                 disabledKey: name,\n//                 disabledValue: currentDisabled,\n//                 storeValue: inputData,\n//                 setValue: handleOnDisableChange\n//             })\n//         }\n//     }, [disabledValue])\n\n//     const prevValueRef = useRef(value)\n\n//     useEffect(() => {\n//         if (value !== prevValueRef.current) {\n//             prevValueRef.current = value\n//             if (value !== \"\") {\n//                 onChange(value, null)  // Pass null as no event.data\n//             }\n//         }\n//     }, [value])\n\n//     const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         const changedValue = e.target.value;\n//         const nativeEvent = e.nativeEvent as unknown as InputEvent; // Type assertion to InputEvent\n//         onChange(changedValue, nativeEvent.data);\n//         fullProps.onInputChange(name!, e.target.value);\n//     }\n\n//     return (\n//         <div style={{ display: hiddenValue ? 'none' : 'block' }}>\n//             <InputTemplate\n//                 name={name!}\n//                 value={value}\n//                 handleChange={handleChange}\n//                 onEnterPress={onEnterPress}\n//                 disabled={disabledValue}\n//                 hideElement={hiddenValue}\n//                 onBlur={onBlur}\n//                 maxLength={maxLength}\n//                 placeholder={placeholder}\n//                 type={privacy ? 'password' : 'text'}\n//                 containerStyles={containerStyles}\n//                 inputStyles={inputStyles}\n//                 placeholderStyles={placeholderStyles}\n//                 {...props}\n//             />\n//         </div>\n//     );\n// };\n\n// // 1. Export the memoized component\n// const MemoizedStrInput = memo(StrInput)\n\n// // 2. Set the displayName on the exported component\n// MemoizedStrInput.displayName = 'StrInput';\n\n// export default MemoizedStrInput;","import { useSyncExternalStore } from \"react\"\nimport { compileExpression } from \"../Utils/expressionHelper\"\nimport { inputStore } from \"src/store/InputStore\"\n\nexport function useComputedExpression(expr?: boolean | string, name?: string) : boolean {\n  if (expr === undefined) return false\n  if (typeof expr === 'boolean') return expr\n\n  const { deps, evaluate } = compileExpression(expr)\n  // const { deps, evaluate } = useMemo(() => compileExpression(expr), [expr]);\n\n\n  const result = useSyncExternalStore(\n    (cb) => {\n      const unsubscribers = deps.map(k =>\n        inputStore.subscribe(k, cb)\n      )\n      return () => unsubscribers.forEach(u => u())\n    },\n    () => {\n      const val = evaluate(inputStore.getSnapshot().inputData ?? {})\n      return val\n    }\n  )\n\n  // return evaluate(inputStore.getSnapshot().inputData ?? {})\n  return result\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { useCallback, useMemo, useRef } from \"react\";\n// import { evalExpression, parseExpression } from \"../Utils/expressionHelper\";\n// import { useInputStore } from \"./useInputStore\";\n\n// /**\n//  * Hook to subscribe & evaluate any expression-based prop\n//  * Example: disabled=\"${age} >= 18 && ${citizen} === true\"\n//  */\n// export function useComputedExpression(propValue : string | boolean, name: string) {\n//     if (name === undefined) return\n//     const lastComputedRef = useRef<boolean | null>(null)\n//     // 1) Parse only once\n//     const parsed = useMemo(() => {\n//         if (typeof propValue === \"boolean\") return null;\n//         return parseExpression(propValue);\n//     }, [propValue]);\n\n//     if (typeof propValue === \"boolean\") {\n//         return propValue;\n//     }\n\n\n//     // 2) Zustand subscription only on dependencies\n//     const computedValue = useInputStore(\n//         useCallback((state) => {\n//             if (typeof propValue === \"boolean\"  || typeof parsed === \"boolean\") return propValue;\n\n//             if (lastComputedRef.current !== null && !parsed.deps.includes(state.currentInputKey)) {\n//                 return lastComputedRef.current;\n//             }\n            \n//             const result = evalExpression(\n//                 parsed.template,\n//                 parsed.deps,\n//                 state.inputData,\n//             );\n//             lastComputedRef.current = result;\n//             return result;\n//         }, [parsed])\n//     );\n//     return computedValue;\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { useCallback, useMemo, useRef } from \"react\";\n// import { evalExpression, parseExpression } from \"src/Utils/expressionHelper\";\n// import { useInputStore } from \"./useInputStore\";\n// import { shallow } from \"zustand/shallow\";\n// import { getNestedValue } from \"src/Utils/inputStoreUtils\";\n\n// /**\n//  * Hook to subscribe & evaluate any expression-based prop\n//  * Example: disabled=\"${age} >= 18 && ${citizen} === true\"\n//  */\n// export function useComputedExpression(propValue : string | boolean) {\n//     const lastComputedRef = useRef<boolean | null>(null)\n//     // 1) Parse only once\n//     const parsed = useMemo(() => {\n//         if (typeof propValue === \"boolean\") return null;\n//         return parseExpression(propValue);\n//     }, [propValue]);\n\n//     if (typeof propValue === \"boolean\") {\n//         return propValue;\n//     }\n\n\n//     // 2) Zustand subscription only on dependencies\n//     const computedValue = useInputStore(\n//         useCallback((state) => {\n//             if (typeof propValue === \"boolean\"  || typeof parsed === \"boolean\") return propValue;\n\n//             const inputData = state.inputData;\n//             const currentInputKey = state.currentInputKey;\n//             const isLastComputedValid = lastComputedRef.current !== null;\n//             if (isLastComputedValid && !parsed.deps.includes(currentInputKey)) {\n//                 return lastComputedRef.current;\n//             }\n//             const currentValue = getNestedValue(inputData, currentInputKey);\n//             if (isLastComputedValid && !currentValue) {\n//                 return lastComputedRef.current;\n//             }\n//             // if (isLastComputedValid && !inputData[currentInputKey]) {\n//             //     return lastComputedRef.current;\n//             // }\n//             return evalExpression(\n//                 parsed.template,\n//                 parsed.deps,\n//                 state.inputData,\n//                 lastComputedRef\n//             );\n//         }, [parsed])\n//     );\n\n//     return computedValue;\n// }\n","// export function getNestedValue(obj: any, path: any): any {\n//     if (!path || typeof path !== \"string\") return undefined; // <-- prevent crash\n//     if (!path.includes(\".\")) return obj[path]\n//     return path.split('.').reduce((acc, key) => acc?.[key], obj);\n// }\n\nexport function getNestedValue(obj: any, path: string) {\n  return path.split('.').reduce((curr, key) => {\n    if (curr == null) return undefined\n    return isIndex(key) ? curr[Number(key)] : curr[key]\n  }, obj)\n}\n\n\nexport const isIndex = (key: string) => {\n  return key !== \"\" && !isNaN(Number(key))\n}","import { getNestedValue } from \"./inputStoreUtils\";\n\nconst expressionCache = new Map();\n\nexport function evalExpression(template: string, deps: string[], store: any) {\n    let expr = template;\n\n    for (let key of deps) {\n        const value = getByPath(store, key);\n        expr = expr.replace(\"${\" + key + \"}\", JSON.stringify(value));\n    }\n\n\n    try {\n        return Function(`\"use strict\"; return (${expr});`)();\n    } catch (e) {\n        return false;\n    }\n}\n\ntype CompiledExpression = {\n    deps: string[]\n    evaluate: (data: Record<string, any>) => boolean\n}\n\nconst expressionCacheNew = new Map<string, CompiledExpression>()\n\n\nexport function compileExpression(expr: string): CompiledExpression {\n    if (expressionCacheNew.has(expr)) {\n        return expressionCacheNew.get(expr)!\n    }\n\n    const deps: string[] = []\n\n    const jsExpr = expr.replace(/\\$\\{(.*?)\\}/g, (_, key) => {\n        deps.push(key)\n        return `get(data, \"${key}\")`;\n        // return `data[\"${key}\"]`\n    })\n\n\n    const fn = new Function(\n        'data',\n        'get',\n        `try { return Boolean(${jsExpr}) } catch { return false }`\n    ) as (data: any, get: (obj: any, path: string) => any) => boolean\n\n    const compiled = {\n        deps,\n        evaluate: (data: any) => fn(data, getNestedValue)\n    }\n    //   const compiled = { deps, evaluate: fn }\n    expressionCacheNew.set(expr, compiled)\n    return compiled\n}\n\n\nexport function getByPath(obj: any, path: string) {\n    return path.split(\".\").reduce((acc, key) => {\n        if (!acc) return undefined;\n        return acc[key];\n    }, obj);\n}\n\nexport function parseExpression(expr: string): { deps: string[], template: string } {\n    if (expressionCache.has(expr)) return expressionCache.get(expr);\n\n    const regex = /\\$\\{([^}]+)\\}/g;\n    const deps = [];\n    let template = expr;\n\n    let match;\n    while ((match = regex.exec(expr))) {\n        const dep = match[1].trim();\n        deps.push(dep);\n    }\n\n    const result = { deps, template };\n    expressionCache.set(expr, result);\n    return result;\n}","const isEmptyObject = (obj : object) => Object.keys(obj).length === 0\n\nconst isArray = (arr : any) => Array.isArray(arr)\n\nconst isPlainObject = (obj : Record<string, any>) => typeof obj === 'object' && obj !== null && !isArray(obj);\n\nconst isEmptyArray = (arr : any[]) => arr.length === 0\n\nconst isDateType = (input : any) => !isNaN(new Date(input).getTime());\n\nconst isNumber = (str : string) => /^\\d+\\.?\\d*$/.test(str)\n\nexport {isEmptyObject, isArray, isEmptyArray, isPlainObject, isDateType, isNumber}","import { isArray } from \"src/functions/dataTypesValidation\"\r\nimport { isIndex } from \"src/Utils/inputStoreUtils\"\r\n\r\ntype Listener = () => void\r\n\r\nconst EMPTY_ARRAY: any[] = []\r\n\r\nconst EMPTY_REF: React.RefObject<HTMLDivElement | null> = {current : null}\r\n\r\nclass InputStore {\r\n  private rawData = {} as Record<string, any>\r\n  private state = {\r\n    inputData: null as Record<string, any> | null,\r\n    initialData: null as Record<string, any> | null,\r\n    editedKeys: new Set<string>()\r\n  }\r\n\r\n  sharedContext = new Map<string, any>()\r\n\r\n  dropdownSearch = new Map<string, any[]>()\r\n\r\n  dropdownContext = new Map<string, React.RefObject<HTMLDivElement | null>>()\r\n\r\n  getDropdownContext(key: string) {\r\n    return this.dropdownContext.get(key) ?? EMPTY_REF\r\n  }\r\n\r\n  setDropdownContext(key: string, value: React.RefObject<HTMLDivElement | null>) {\r\n    this.dropdownContext.set(key, value)\r\n    // this.notify(key)\r\n  }\r\n\r\n  getDropdownSearch(key: string) {\r\n    // if (!this.dropdownSearch.has('si')) return EMPTY_ARRAY\r\n    return this.dropdownSearch.get(key) || EMPTY_ARRAY\r\n  }\r\n\r\n  setDropdownSearch(key: string, value: any[]) {\r\n    this.dropdownSearch.set(key, value)\r\n    this.notify(key)\r\n  }\r\n\r\n  private isBatching = false\r\n  private pendingKeys = new Set<string>()\r\n\r\n\r\n  currentValue = \"\"\r\n\r\n  private _isEditMode = false;\r\n\r\n  set isEditMode(value: boolean) {\r\n    if (this._isEditMode !== value) {\r\n      this._isEditMode = value;\r\n      \r\n      // // RUN YOUR METHOD HERE\r\n      this.state.initialData = {}\r\n    }\r\n  }\r\n\r\n  get isEditMode() {\r\n    return this._isEditMode\r\n  }\r\n  \r\n  backgroundColor = 'white'\r\n\r\n  private listeners = new Map<string, Set<Listener>>()     /////// can fix this. can do new Map<string, Listener>() instead.\r\n\r\n  subscribe(key: string, listener: Listener) {\r\n    if (!this.listeners.has(key)) {\r\n      this.listeners.set(key, new Set())\r\n    }\r\n\r\n    this.listeners.get(key)!.add(listener)\r\n\r\n    return () => {\r\n      this.listeners.get(key)?.delete(listener)\r\n    }\r\n  }\r\n\r\n  private notify(key: string | string[]) {\r\n    if (isArray(key)) {\r\n      key.forEach(k => this.notify(k))\r\n      return\r\n    }\r\n\r\n    if (this.isBatching) {\r\n      this.pendingKeys.add(key)\r\n      return\r\n    }\r\n\r\n    this.listeners.get(key)?.forEach(l => l())\r\n  }\r\n\r\n  private notifyAll() {\r\n    this.listeners.forEach(i => i.forEach(l => l()))\r\n  }\r\n\r\n  batch(fn: () => void) {\r\n  this.isBatching = true\r\n  fn()\r\n  this.isBatching = false\r\n\r\n  this.pendingKeys.forEach(k => {\r\n    this.listeners.get(k)?.forEach(l => l())\r\n  })\r\n  this.pendingKeys.clear()\r\n}\r\n\r\n\r\n\r\n  getSnapshot = () => {\r\n    return this.state\r\n  }\r\n\r\n  initializeInputStore(mode : \"edit\" | \"default\") {\r\n    this.state.inputData = {}\r\n    if (mode === \"edit\") this.isEditMode = true\r\n  }\r\n\r\n  setBackgroundColor(color: string) {\r\n    this.backgroundColor = color\r\n  }\r\n\r\n  setEditData(data: Record<string, any>) {\r\n    if (!this.isEditMode) return\r\n    // const keys = Object.keys(data)\r\n    \r\n    // const paths = collectPaths(data)\r\n    this.batch(() => {\r\n      this.state = {\r\n        inputData: structuredClone(data),\r\n        initialData: structuredClone(data),\r\n        editedKeys: new Set()\r\n      }\r\n      this.collectKeys(data)\r\n    })\r\n  }\r\n\r\n  private collectKeys(\r\n    obj: Record<string, any>,\r\n    prefix = \"\",\r\n    paths: string[] = []\r\n  ) {\r\n    for (const key in obj) {\r\n      const value = obj[key]\r\n      const path = prefix ? `${prefix}.${key}` : key\r\n      \r\n      if (\r\n        typeof value === \"object\" &&\r\n        value !== null &&\r\n        !Array.isArray(value)\r\n      ) {\r\n        this.collectKeys(value, path, paths)\r\n      } else if (isArray(value)) {\r\n        this.arrayItems.set(path, [...value])\r\n        this.notify(path)\r\n        for (let i = 0; i < value.length; i++) {\r\n          this.collectKeys(value[i], `${path}.${i}`, paths)\r\n        }\r\n      }\r\n      else {\r\n        if (this.listeners.has(path)) {\r\n          this.currentValue = value\r\n          this.notify(path) // queued because batching = true\r\n        }\r\n        // paths.push(path)\r\n      }\r\n    }\r\n  }\r\n\r\n  setFieldInitialData (key: string, value: any, isDisabledInput?: boolean) {\r\n    this.setNestedValue(this.state.inputData, key, value)\r\n    if (isDisabledInput) {\r\n      this.setNestedValue(this.rawData, key, value)\r\n    } else {\r\n      this.setNestedValue(this.rawData, key, \"\")\r\n    }\r\n    if (this.isEditMode) {\r\n      this.setNestedValue(this.state.initialData, key, value)\r\n    }\r\n    this.currentValue = value\r\n    this.notify(key)\r\n  }\r\n\r\n  setValue(key: string, value: any) {\r\n    const inputData = this.state.inputData\r\n    if (!inputData) return\r\n    this.currentValue = value\r\n    const prev = this.getNestedValue(inputData, key)\r\n    this.setNestedValue(inputData, key, value)\r\n    if (prev !== value) {\r\n      this.notify(key)\r\n    }\r\n    if (!this.isEditMode) return\r\n    // const initialData = this.state.initialData\r\n    // if (initialData![key] === undefined) this.setNestedValue(initialData, key, value)\r\n    const initial = this.getNestedValue(this.state.initialData, key)\r\n    if (initial === undefined) this.setNestedValue(this.state.initialData, key, value)\r\n    if (value !== initial) this.state.editedKeys.add(key)\r\n    else this.state.editedKeys.delete(key)\r\n  }\r\n\r\n  getValue(key: string) {\r\n    return this.getNestedValue(this.state.inputData, key)\r\n  }\r\n  getHookValue(key: string) {\r\n    const hookValue = this.getNestedValue(this.state.inputData, key)\r\n    return hookValue\r\n  }\r\n\r\n  reset(nextData?: Record<string, any>) {\r\n    return (key?: string | string[]) => {\r\n      if (key) {\r\n        if (typeof key === \"string\") {\r\n          this.setValue(key, \"\")\r\n          return\r\n        }\r\n        if (isArray(key)) {\r\n          key.forEach(k => this.setValue(k, \"\"))\r\n          return\r\n        }\r\n      }\r\n      const data = structuredClone(nextData ?? this.rawData ?? {})\r\n      this.state = {\r\n        inputData: data,\r\n        initialData: this.isEditMode ? structuredClone(data) : null,\r\n        editedKeys: new Set()\r\n      }\r\n      this.currentValue = \"\"\r\n      this.arrayItems.clear()\r\n      this.notifyAll()\r\n      this.sharedContext.clear()\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.state = {\r\n      inputData: null,\r\n      initialData: null,\r\n      editedKeys: new Set()\r\n    }\r\n    this.currentValue = \"\"\r\n    this.arrayItems.clear()\r\n    this.sharedContext.clear()\r\n  }\r\n\r\n  private setNestedValue(obj: any, path: string, value: any) {\r\n    const keys = path.split('.')\r\n    let curr = obj\r\n\r\n    for (let i = 0; i < keys.length - 1; i++) {\r\n      const key = keys[i]\r\n      const nextKey = keys[i + 1]\r\n\r\n      // Decide container type for current key\r\n      if (isIndex(key)) {\r\n        const index = Number(key)\r\n        if (!Array.isArray(curr)) {\r\n          throw new Error(`Expected array at ${keys.slice(0, i).join('.')}`)\r\n        }\r\n        curr[index] ??= isIndex(nextKey) ? [] : {}\r\n        curr = curr[index]\r\n      } else {\r\n        curr[key] ??= isIndex(nextKey) ? [] : {}\r\n        curr = curr[key]\r\n      }\r\n    }\r\n\r\n    const lastKey = keys.at(-1)!\r\n\r\n    if (isIndex(lastKey)) {\r\n      if (!Array.isArray(curr)) {\r\n        throw new Error(`Expected array at ${keys.slice(0, -1).join('.')}`)\r\n      }\r\n      curr[Number(lastKey)] = value\r\n    } else {\r\n      curr[lastKey] = value\r\n    }\r\n  }\r\n\r\n  private getNestedValue(obj: any, path: string) {\r\n    return path.split('.').reduce((curr, key) => {\r\n      if (curr == null) return undefined\r\n      return isIndex(key) ? curr[Number(key)] : curr[key]\r\n    }, obj)\r\n  }\r\n\r\n  getInputNestedValue(path: string) {\r\n    return this.getNestedValue(this.state.inputData, path)\r\n  }\r\n\r\n  private arrayItems = new Map<string, any[]>()   ////// arraycontainer and items. it has nothing to do with inputs inside arraycontainer. which means it stores supposedly playLink -> [data1, data2, data3] just to map and do not store playLink.0 or playLink.0.host\r\n\r\n  getArrayItems(path: string) {\r\n    const arr = this.arrayItems.get(path)\r\n    return arr\r\n  }\r\n\r\n  addArrayItem(path: string, value: any) {\r\n    const prev = this.arrayItems.get(path) ?? []\r\n\r\n    \r\n    const next = Array.isArray(value)\r\n    ? [...prev, ...value]\r\n    : [...prev, value]\r\n    \r\n    this.arrayItems.set(path, next)\r\n    this.notify(path)\r\n  }\r\n\r\n  removeArrayItem(path: string, index: number) {\r\n    const prev = this.arrayItems.get(path)\r\n    if (!Array.isArray(prev)) return\r\n\r\n    const next = prev.filter((_, i) => i !== index)\r\n    this.arrayItems.set(path, next)\r\n\r\n    this.notify(path)\r\n  }\r\n  \r\n  //// this is to solve the problem of inputs inside arraycontainer which can change with setEditData. like if setEditData increases arrayItems from backend it will show replace and show the updated data in ui\r\n  private hydrateArrays(obj: any, prefix = '') {\r\n  for (const key in obj) {\r\n    const value = obj[key]\r\n    const path = prefix ? `${prefix}.${key}` : key\r\n\r\n    if (Array.isArray(value)) {\r\n      // ðŸ”¥ THIS IS THE KEY LINE\r\n      this.arrayItems.set(path, [...value])\r\n      this.notify(path)\r\n\r\n      // recurse into array objects\r\n      value.forEach((item, index) => {\r\n        if (typeof item === 'object' && item !== null) {\r\n          this.hydrateArrays(item, `${path}.${index}`)\r\n        }\r\n      })\r\n    }\r\n\r\n    else if (typeof value === 'object' && value !== null) {\r\n      this.hydrateArrays(value, path)\r\n    }\r\n  }\r\n}\r\n\r\n}\r\n\r\nexport const inputStore = new InputStore()\r\n\r\n\r\n\r\n  // private notify(key: string | string[]) {\r\n  //   if (isArray(key)) return key.forEach(k => this.notify(k))\r\n  //   this.listeners.get(key)?.forEach(l => l())\r\n  // }\r\n\r\n\r\n      // for (const key of paths) {\r\n      //   // inputStore.setValue(key, data[key])\r\n      //   if (this.listeners.has(key)) {\r\n      //     this.currentValue = data[key]\r\n      //     this.notify(key) // queued because batching = true\r\n      //   }\r\n      // }\r\n\r\n\r\n  // private setNestedValue(obj: any, path: string, value: any) {\r\n  //   const keys = path.split('.')\r\n  //   let curr = obj\r\n  //   for (let i = 0; i < keys.length - 1; i++) {\r\n  //     curr[keys[i]] ??= {}\r\n  //     curr = curr[keys[i]]\r\n  //   }\r\n  //   curr[keys.at(-1)!] = value\r\n  // }\r\n\r\n\r\n\r\n\r\n// private getNestedValue(obj: any, path: string) {\r\n//   return path.split('.').reduce((a, c) => a?.[c], obj)\r\n// }\r\n\r\n\r\n\r\n/////////   above code allows to set the value only if user uses InputContainer. and also reuse of this.state.inputData is ensured\r\n// setValue(key: string, value: any) {\r\n//     const prev = this.getValue(key)\r\n//     this.setNestedValue(this.state.inputData, key, value)\r\n//     if (prev !== value) {\r\n//       this.notify(key)\r\n//     }\r\n//     const initialData = this.state.initialData\r\n//     if (!initialData) return\r\n//     const initial = this.getNestedValue(initialData, key)\r\n//     if (value !== initial) this.state.editedKeys.add(key)\r\n//     else this.state.editedKeys.delete(key)\r\n//   }\r\n\r\n\r\n\r\n\r\n// type Listener = () => void\r\n\r\n// class InputStore {\r\n//   private state = {\r\n//     inputData: null as Record<string, any> | null,\r\n//     initialData: null as Record<string, any> | null,\r\n//     editedKeys: new Set<string>()\r\n//   }\r\n  \r\n//   backgroundColor = 'white'\r\n\r\n//   private listeners = new Set<Listener>()\r\n\r\n//   subscribe = (listener: Listener) => {\r\n//     this.listeners.add(listener)\r\n//     return () => this.listeners.delete(listener)\r\n//   }\r\n\r\n//   private notify() {\r\n//     this.listeners.forEach(l => l())\r\n//   }\r\n\r\n//   getSnapshot = () => {\r\n//     return this.state\r\n//   }\r\n\r\n//   initializeInputStore() {\r\n//     this.state.inputData = {}\r\n//   }\r\n\r\n//   setInitialData(data: Record<string, any>) {\r\n//     this.state = {\r\n//       inputData: structuredClone(data),\r\n//       initialData: structuredClone(data),\r\n//       editedKeys: new Set()\r\n//     }\r\n//     this.notify()\r\n//   }\r\n\r\n//   setBackgroundColor(color: string) {\r\n//     this.backgroundColor = color\r\n//   }\r\n\r\n//   setValue(key: string, value: any) {\r\n//     const prev = this.getValue(key)\r\n//     this.setNestedValue(this.state.inputData, key, value)\r\n\r\n//     const initial = this.getNestedValue(this.state.initialData, key)\r\n//     if (value !== initial) this.state.editedKeys.add(key)\r\n//     else this.state.editedKeys.delete(key)\r\n\r\n//     if (prev !== value) this.notify()\r\n//   }\r\n\r\n//   getValue(key: string) {\r\n//     return this.getNestedValue(this.state.inputData, key)\r\n//   }\r\n\r\n//   reset() {\r\n//     this.state = {\r\n//       inputData: {},\r\n//       initialData: {},\r\n//       editedKeys: new Set()\r\n//     }\r\n//     this.notify()\r\n//   }\r\n\r\n//   private setNestedValue(obj: any, path: string, value: any) {\r\n//     const keys = path.split('.')\r\n//     let curr = obj\r\n//     for (let i = 0; i < keys.length - 1; i++) {\r\n//       curr[keys[i]] ??= {}\r\n//       curr = curr[keys[i]]\r\n//     }\r\n//     curr[keys.at(-1)!] = value\r\n//   }\r\n\r\n//   private getNestedValue(obj: any, path: string) {\r\n//     return path.split('.').reduce((a, c) => a?.[c], obj)\r\n//   }\r\n// }\r\n\r\n// export const inputStore = new InputStore()","import React, { type ComponentProps, forwardRef, memo, useImperativeHandle, useLayoutEffect, useRef, useState } from 'react'\nimport type { InputRefProps } from '../typeDeclaration/inputProps'\nimport { inputStore } from 'src/store/InputStore'\nimport { DEFAULT_INPUT_STYLE, InputStyle } from 'src/typeDeclaration/stylesProps'\nimport { useFormLayout } from 'src/context/LabelLayoutContext'\nimport { useContainerContext } from 'src/context/ContainerContext'\n\ninterface FullTemplateProps {\n    name: string\n    children: React.ReactNode\n    childType: 'input' | 'dropdown'\n    placeholder: string\n    style?: Partial<InputStyle>\n    placeholderStyles?: string\n}\n\ntype TemplateProps = Omit<FullTemplateProps, \"sharedStyles\">\n\nconst InputTemplate = forwardRef<InputRefProps, TemplateProps>(({\n    name,\n    children,\n    childType,\n    placeholder,\n    style,\n    placeholderStyles = \"\",\n}, ref) => {\n    const { sharedStyles } = useContainerContext()\n    const resolvedStyle: InputStyle = {\n        ...DEFAULT_INPUT_STYLE,\n        ...sharedStyles,\n        ...style, // ðŸ‘ˆ highest priority\n    }\n\n    const { borderWidth, boxHeight, boxWidth, placeHolderOffset, inputInlineStyle, placeholderInlineStyle } = resolvedStyle\n    const { labelMode } = useFormLayout()\n    const bgColor = inputStore.backgroundColor\n\n    return (\n        <div\n            className={`relative w-full group input-root`} /* onFocus={() => setFocusInputKey(name)} */\n            style={{ ['--bw' as any]: borderWidth, ['--bh' as any]: boxHeight, ['--po' as any]: placeHolderOffset, ['--float' as any]: childType === 'dropdown' ? 1 : 0 }}\n        >\n            {children}\n            {!labelMode && <label\n                id={`floating_input_${name}`}\n                htmlFor={`floating_input_${name}`}\n                className={`\n                            label-input h-full\n                          `}\n            >\n                {/* BORDER CUT MASK */}\n                <span\n                    className=\"line-input\"\n                    style={{\n                        backgroundColor: bgColor || 'white',\n                    }}\n                />\n\n                {/* TEXT */}\n                <span className={`placeholder-input h-full ${placeholderStyles}`} style={placeholderInlineStyle}>{placeholder}</span>\n            </label>}\n        </div>\n    )\n})\n\nexport default memo(InputTemplate)\n\n\n\n\n\n\n\n// import React, { type ComponentProps, forwardRef, memo, useImperativeHandle, useLayoutEffect, useRef, useState } from 'react'\n// import type { InputRefProps } from '../typeDeclaration/inputProps'\n// import { inputStore } from 'src/store/InputStore'\n\n// interface FullTemplateProps {\n//     name: string\n//     type: ComponentProps<'input'>['type']\n//     placeholder: string\n//     autoFocus?: boolean\n//     maxLength?: number\n//     onBlur?: (args: { currentValue?: string, allData?: Record<string, any> }) => void\n//     onFocus?: (key: string) => void\n//     onEnterPress?: (args: { currentValue?: string, allData?: Record<string, any> }) => void\n//     disabled?: boolean\n//     hideElement?: boolean\n//     value: string\n//     handleChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n//     containerStyles?: string\n//     inputStyles?: string\n//     placeholderStyles?: string\n//     // bgColor: string\n//     sharedStyles?: {\n//         placeholderStyles?: string\n//         [key: string]: any\n//     }\n// }\n\n// type TemplateProps = Omit<FullTemplateProps, \"sharedStyles\">\n\n// const InputTemplate = forwardRef<InputRefProps, TemplateProps>(({\n//     name,\n//     type,\n//     placeholder,\n//     maxLength,\n//     value,\n//     onBlur,\n//     autoFocus,\n//     onEnterPress,\n//     onFocus,\n//     disabled = false,\n//     hideElement = false,\n//     handleChange = () => { },\n//     containerStyles = \"\",\n//     inputStyles = \"\",\n//     placeholderStyles = \"\",\n//     ...props\n// }, ref) => {\n//     // const setFocusInputKey = useInputStore((state) => state.setCurrentInputKey);\n//     const pattern = /border-(\\d+|\\[([^\\]]+)\\])/\n//     const inputRef = useRef<HTMLInputElement>(null)\n//     const match = inputStyles.match(pattern)\n//     const dynamicHeight = match ? (match[2] ? match[2] : `${match[1]}px`) : undefined;\n//     const labelRef = useRef<any>(\"\")\n//     const bgColor = inputStore.backgroundColor\n//     const handlePreInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         const evalue = e.target.value\n//         // inputStore.currentValue = evalue\n//         if (maxLength && evalue.length == maxLength + 1) {\n//             return\n//         }\n//         // inputStore.setValue(name, e.target.value)\n//         handleChange(e)\n//     }\n\n//     useImperativeHandle(ref, () => ({\n//         focus: () => {\n//             inputRef.current?.focus()\n//         },\n//         blur: () => {\n//             inputRef.current?.blur()\n//         },\n//         reset: () => {\n//             inputStore.reset()(name)\n//         }\n//     }))\n\n//     const handleBlur = () => {\n//         const data = inputStore.getSnapshot().inputData\n//         onBlur?.({ currentValue: value ?? \"\", allData: data as Record<string, any> })\n//     }\n//     const handleFocus = () => {\n//         onFocus?.(name)\n//     }\n//     const handleKeyPresses = (event: React.KeyboardEvent<HTMLInputElement>) => {\n//         if (event.key === 'Enter') {\n//             const data = inputStore.getSnapshot()\n//             onEnterPress?.({ currentValue: value ?? \"\", allData: data as Record<string, any> })\n//         }\n//     }\n//     const [labelWidth, setLabelWidth] = useState<number | null>(null);\n\n//     useLayoutEffect(() => {\n//         if (labelRef.current) {\n//             setLabelWidth(labelRef.current.offsetWidth);\n//         }\n//     }, [value, placeholder, hideElement]);\n//     return (\n//         <div className={`relative w-full group ${containerStyles}`} /* onFocus={() => setFocusInputKey(name)} */>\n//             <input\n//                 type={type}\n//                 id={`floating_input_${name}`}\n//                 ref={inputRef}\n//                 onBlur={handleBlur}\n//                 onFocus={handleFocus}\n//                 value={value}\n//                 maxLength={maxLength}\n//                 autoFocus={autoFocus}\n//                 onKeyDown={handleKeyPresses}\n//                 onChange={handlePreInput}\n//                 className={`py-2 px-2 border-2 w-full outline-none rounded-lg bg-transparent appearance-none peer ${inputStyles}`}\n//                 placeholder=\" \"\n//                 disabled={disabled}\n//                 required\n//             />\n//             {labelWidth && (\n//                 <div\n//                     className='absolute top-0 left-4 peer-focus:opacity-100 peer-placeholder-shown:opacity-0 transition-opacity duration-200'\n//                     style={{\n//                         height: dynamicHeight || 2,\n//                         width: labelWidth * 0.75 + 8,\n//                         backgroundColor: bgColor || 'white'\n//                     }}\n//                 />\n//             )}\n//             <label\n//                 ref={labelRef}\n//                 htmlFor={`floating_input_${name}`}\n//                 className={`\n//                     absolute left-5 duration-300 transform -translate-y-5 scale-75 top-2 origin-left\n//                     peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0\n//                     peer-focus:scale-75 peer-focus:-translate-y-5\n//                     ${(props as FullTemplateProps).sharedStyles?.placeholderStyles || ''} ${placeholderStyles}\n//                     `}\n//             >\n//                 {placeholder}\n//             </label>\n//         </div>\n//     )\n// })\n\n// export default memo(InputTemplate)\n\n\n\n\n\n// import React, { ComponentProps, memo, useLayoutEffect, useRef, useState } from 'react'\n// import { useInputStore } from 'src/hooks/useInputStore'\n// import { inputStore } from 'src/InputStore'\n\n// interface FullTemplateProps {\n//     name: string\n//     type: ComponentProps<'input'>['type']\n//     placeholder: string\n//     maxLength?: number\n//     onBlur?: (args: { currentValue: string, allData: Record<string, any> }) => void\n//     onEnterPress?: (args: { currentValue: string, allData: Record<string, any> }) => void\n//     disabled?: boolean\n//     hideElement?: boolean\n//     value: string\n//     handleChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n//     containerStyles?: string\n//     inputStyles?: string\n//     placeholderStyles?: string\n//     // bgColor: string\n//     sharedStyles?: {\n//         placeholderStyles?: string\n//         [key: string]: any\n//     }\n// }\n\n// type TemplateProps = Omit<FullTemplateProps, \"sharedStyles\" | \"bgColor\">\n\n// const InputTemplate: React.FC<TemplateProps> = ({\n//     name,\n//     type,\n//     placeholder,\n//     maxLength,\n//     value,\n//     onBlur = () => { },\n//     onEnterPress = () => { },\n//     disabled = false,\n//     hideElement = false,\n//     handleChange = () => { },\n//     containerStyles = \"\",\n//     inputStyles = \"\",\n//     placeholderStyles = \"\",\n//     ...props\n// }) => {\n//     const setFocusInputKey = useInputStore((state) => state.setCurrentInputKey);\n//     const pattern = /border-(\\d+|\\[([^\\]]+)\\])/\n//     const match = inputStyles.match(pattern)\n//     const dynamicHeight = match ? (match[2] ? match[2] : `${match[1]}px`) : undefined;\n//     const labelRef = useRef<any>(\"\")\n//     const bgColor = inputStore.backgroundColor\n//     const handlePreInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         const evalue = e.target.value\n//         if (maxLength && evalue.length == maxLength + 1) {\n//             return\n//         }\n//         handleChange(e)\n//     }\n//     const handleBlur = () => {\n//         const { inputData: data } = useInputStore.getState()\n//         onBlur({currentValue : value, allData : data})\n//     }\n//     const handleKeyPresses = (event: React.KeyboardEvent<HTMLInputElement>) => {\n//         if (event.key === 'Enter') {\n//             const { inputData: data } = useInputStore.getState()\n//             onEnterPress({currentValue : value, allData : data})\n//         }\n//     }\n//     const [labelWidth, setLabelWidth] = useState<number | null>(null);\n\n//     useLayoutEffect(() => {\n//         if (labelRef.current) {\n//             setLabelWidth(labelRef.current.offsetWidth);\n//         }\n//     }, [value, placeholder, hideElement]);\n//     return (\n//         <div className={`relative w-full group ${containerStyles}`} onFocus={() => setFocusInputKey(name)}>\n//             <input\n//                 type={type}\n//                 id={`floating_input_${name}`}\n//                 onBlur={handleBlur}\n//                 value={value}\n//                 maxLength={maxLength}\n//                 onKeyDown={handleKeyPresses}\n//                 onChange={handlePreInput}\n//                 className={`py-2 px-2 border-2 w-full outline-none rounded-lg bg-transparent appearance-none peer ${inputStyles}`}\n//                 placeholder=\" \"\n//                 disabled={disabled}\n//                 required\n//             />\n//             {labelWidth && (\n//                 <div\n//                     className='absolute top-0 left-4 peer-focus:opacity-100 peer-placeholder-shown:opacity-0 transition-opacity duration-200'\n//                     style={{\n//                         height: dynamicHeight || 2,\n//                         width: labelWidth * 0.75 + 8,\n//                         backgroundColor: bgColor || 'white'\n//                     }}\n//                 />\n//             )}\n//             <label\n//                 ref={labelRef}\n//                 htmlFor={`floating_input_${name}`}\n//                 className={`\n//                     absolute left-5 duration-300 transform -translate-y-5 scale-75 top-2 origin-left\n//                     peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0\n//                     peer-focus:scale-75 peer-focus:-translate-y-5\n//                     ${(props as FullTemplateProps).sharedStyles?.placeholderStyles || ''} ${placeholderStyles}\n//                     `}\n//             >\n//                 {placeholder}\n//             </label>\n//         </div>\n//     )\n// }\n\n// export default memo(InputTemplate)","export interface DropdownStyleProp {\n    dropdownOffset: number;\n    selectedStyles?: React.CSSProperties;\n    highlightedStyles?: React.CSSProperties;\n    inputStyles?: string;\n    placeholderStyles?: string;\n    containerStyles?: string;\n    modalBoxStyles?: string;\n    optionBoxStyles?: string;\n    optionStyles?: string;\n}\n\nexport interface InputStyle {\n    borderWidth: number | string\n    boxHeight: number | string\n    boxWidth: number | string\n    placeHolderOffset: number | string\n    /* visuals only */\n    inputInlineStyle?: Omit<\n        React.CSSProperties,\n        'border' | 'borderWidth'\n    >\n    placeholderInlineStyle?: React.CSSProperties\n}\n\nexport const DEFAULT_INPUT_STYLE: InputStyle = {\n  borderWidth: '2px',\n  boxHeight: '8px',\n  boxWidth: '100%',\n  placeHolderOffset: '16px',\n}\n\n// export interface InputStyle {\n//     /* geometry */\n//     borderWidth: number | string\n//     boxHeight: number | string\n//     boxWidth: number | string\n//     placeHolderOffset: number | string\n\n//     /* shape */\n//     borderRadius?: number | string\n//     borderStyle?: 'solid' | 'dashed' | 'dotted'\n\n//     /* spacing */\n//     paddingX?: number | string\n//     paddingY?: number | string\n//     labelPaddingX?: number | string\n\n//     /* typography */\n//     fontSize?: number | string\n//     labelFontSize?: number | string\n//     labelScale?: number\n//     fontWeight?: number | string\n//     letterSpacing?: number | string\n//     lineHeight?: number | string\n\n//     /* colors */\n//     colors?: {\n//         border?: string\n//         focusBorder?: string\n//         errorBorder?: string\n//         text?: string\n//         placeholder?: string\n//         label?: string\n//         disabled?: string\n//         background?: string\n//     }\n\n//     /* motion */\n//     transitionDuration?: number\n//     transitionEasing?: string\n\n//     /* behavior */\n//     floatOnFocusOnly?: boolean\n//     alwaysFloatLabel?: boolean\n//     cutBorder?: boolean\n// }\n\n\n","import { createContext, useContext } from \"react\"\r\n\r\ntype LabelMode = boolean\r\n// type LabelMode = \"floating\" | \"row\"\r\n\r\ninterface FormLayoutContextValue {\r\n  labelMode: LabelMode\r\n}\r\n\r\nexport const FormLayoutContext = createContext<FormLayoutContextValue>({labelMode : false})\r\n\r\nexport const useFormLayout = () => useContext(FormLayoutContext)\r\n","import { createContext, useContext } from \"react\";\r\n\r\ninterface ContainerContextProps {\r\n    sharedStyles?: Record<string, any>;\r\n    modalContainerRef?: React.RefObject<HTMLDivElement>\r\n}\r\n\r\nexport const ContainerContext = createContext<ContainerContextProps | null>(null);\r\n\r\nexport const useContainerContext = () => {\r\n    const ctx = useContext(ContainerContext)\r\n    if (!ctx) {\r\n    throw new Error('Modal components must be used inside <Modal>')\r\n  }\r\n  return ctx\r\n}","import { inputStore } from \"src/store/InputStore\";\n\nexport const handleInitialValue = (path: string, initialValue: string, compName?: string) => {\n    const existingValue = inputStore.getInputNestedValue(path)\n    const value = existingValue || initialValue\n    inputStore.setFieldInitialData(path, value)\n}","// NameScopeContext.ts\r\nimport { createContext, useContext } from \"react\";\r\n\r\nexport const NameScopeContext = createContext<string | null>(null);\r\n\r\nexport const useNameScope = () => useContext(NameScopeContext);\r\n","export const camelCase = (str: string) => {\n    if (str == '_id') return str\n\n    // If it's already camelCase, return it unchanged\n    if (/^[a-z][a-zA-Z0-9]*$/.test(str)) return str;\n    \n    const lowerStr = str.toLowerCase();\n    return lowerStr\n        .replace(/[^a-zA-Z0-9]+(.)/g, (match, chr) => chr.toUpperCase())\n        .replace(/^[A-Z]/, (match) => match.toLowerCase());\n}\n\n\nexport const fromCamelCase = (str : string) => {\n    return str\n    .replace(/([A-Z])/g, ' $1')     // Add space before capital letters\n    .replace(/^./, char => char.toUpperCase()); // Capitalize first letter\n}","import { useNameScope } from \"../context/NameScopeContext\"\r\nimport { camelCase } from \"../functions/camelCase\"\r\n\r\nexport const useFieldName = (placeholder: string, name?: string) => {\r\n  const parent = useNameScope()\r\n  const local = name || camelCase(placeholder)\r\n  return parent ? `${parent}.${local}` : local\r\n}\r\n","import { forwardRef, memo, useEffect, useImperativeHandle, useLayoutEffect, useRef, type ComponentProps } from 'react'\r\nimport { useInputStore } from '../hooks/useInputStore'\r\nimport type { InputRefProps } from '../typeDeclaration/inputProps'\r\nimport { useFormLayout } from 'src/context/LabelLayoutContext'\r\nimport { inputStore } from 'src/store/InputStore'\r\nimport { inputStylesStore } from 'src/store/styleStore'\r\nimport { FieldVisualState } from 'src/typeDeclaration/fieldVisualState'\r\ninterface InputProps {\r\n    onBlur?: (args: { currentValue?: string | number, allData?: Record<string, any> }) => void\r\n    onFocus?: (key: string) => void\r\n    handleChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n    onChange?: (value: string | number) => void\r\n    onEnterPress?: (args: { currentValue?: string | number, allData?: Record<string, any> }) => void\r\n    fixedValue?: string\r\n    refRequired?: boolean\r\n    maxLength?: number\r\n    autoFocus?: boolean\r\n    inputStyles?: string\r\n    disabled: boolean\r\n    placeholder: string\r\n    type: ComponentProps<'input'>['type']\r\n    name: string\r\n    inputInlineStyle?: Omit<\r\n        React.CSSProperties,\r\n        'border' | 'borderWidth'\r\n    >\r\n}\r\nconst Input = forwardRef<InputRefProps, InputProps>(({\r\n    name,\r\n    fixedValue,\r\n    maxLength,\r\n    autoFocus=false,\r\n    refRequired=false,\r\n    onBlur,\r\n    onFocus,\r\n    inputStyles=\"\",\r\n    handleChange,\r\n    onChange,\r\n    onEnterPress,\r\n    disabled,\r\n    placeholder,\r\n    type,\r\n    inputInlineStyle\r\n}, ref) => {\r\n    const inputRef = useRef<HTMLInputElement>(null)\r\n    const {labelMode} = useFormLayout()\r\n    const value: string | number = fixedValue ?? useInputStore(name) ?? \"\"\r\n    const handlePreInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const evalue = e.target.value\r\n        // inputStore.currentValue = evalue\r\n        if (maxLength && evalue.length == maxLength + 1) {\r\n            return\r\n        }\r\n        // inputStore.setValue(name, e.target.value)\r\n        handleChange?.(e)\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        if (refRequired && inputRef.current) {\r\n            inputStore.setDropdownContext(`ref_${name}`, inputRef)\r\n        }\r\n    }, [inputRef])\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        focus: () => {\r\n            inputRef.current?.focus()\r\n        },\r\n        blur: () => {\r\n            inputRef.current?.blur()\r\n        },\r\n        reset: () => {\r\n            inputStore.reset()(name)\r\n        }\r\n    }))\r\n\r\n\r\n    const handleBlur = () => {\r\n        inputStylesStore.disable(name, FieldVisualState.Focus)\r\n        const data = inputStore.getSnapshot().inputData\r\n        onBlur?.({ currentValue: value ?? \"\", allData: data as Record<string, any> })\r\n    }\r\n    const handleFocus = () => {\r\n        inputStylesStore.enable(name, FieldVisualState.Focus)\r\n        onFocus?.(name)\r\n    }\r\n\r\n    const handleKeyPresses = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (event.key === 'Enter') {\r\n            const data = inputStore.getSnapshot().inputData\r\n            onEnterPress?.({ currentValue: value ?? \"\", allData: data as Record<string, any> })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        onChange?.(value)\r\n    }, [value])\r\n\r\n    useLayoutEffect(() => {\r\n        if (!inputRef.current) return\r\n\r\n        inputStylesStore.register(name, inputRef.current)\r\n\r\n        return () => {\r\n            inputStylesStore.unregister(name)\r\n        }\r\n    }, [name])\r\n    return (\r\n        <input\r\n            type={type}\r\n            id={`floating_input_${name}`}\r\n            ref={inputRef}\r\n            onBlur={handleBlur}\r\n            onFocus={handleFocus}\r\n            value={value}\r\n            maxLength={maxLength}\r\n            autoFocus={autoFocus}\r\n            onKeyDown={handleKeyPresses}\r\n            onChange={handlePreInput}\r\n            style={inputInlineStyle}\r\n            className={labelMode ? inputStyles : `w-full outline-none rounded-lg input-border bg-transparent appearance-none peer ${inputStyles}`}\r\n            placeholder={labelMode ? placeholder : \" \"}\r\n            disabled={disabled}\r\n            required\r\n        />\r\n    )\r\n})\r\n\r\nexport default memo(Input)\r\n","import { useEffect, useRef, useSyncExternalStore } from 'react'\nimport { inputStore } from 'src/store/InputStore';\n\nexport function useInputStore(key: string) {\n  const valueRef = useRef(\"\")\n  const initialRender = useRef(true)\n  useEffect(() => {\n    setTimeout(() => {\n      initialRender.current = false\n    }, 200);\n  }, [])\n  return useSyncExternalStore(\n    (listener) => inputStore.subscribe(key, listener),\n    () => {\n      if (initialRender.current) {\n        if (valueRef.current === inputStore.getInputNestedValue(key)) return valueRef.current\n      }\n      if (valueRef.current === inputStore.currentValue) return valueRef.current\n      const value = inputStore.getHookValue(key)\n      valueRef.current = value\n      return value\n    }\n  )\n}\n","import { FieldVisualState } from \"src/typeDeclaration/fieldVisualState\"\r\n\r\nexport type NormalizedStyle = {\r\n    className?: string\r\n    style?: React.CSSProperties\r\n}\r\n\r\nclass InputStyles {\r\n    private elements = new Map<string, HTMLInputElement>()\r\n    private fieldStates = new Map<string, Set<FieldVisualState>>()\r\n    private styles = new Map<FieldVisualState, NormalizedStyle>()\r\n    // colorScheme = new Set<FieldVisualState>()\r\n\r\n    /* ---------------- register ---------------- */\r\n\r\n    register(key: string, el: HTMLInputElement) {\r\n        this.elements.set(key, el)\r\n    }\r\n\r\n    unregister(key: string) {\r\n        this.elements.delete(key)\r\n        this.fieldStates.delete(key)\r\n    }\r\n\r\n    /* ---------------- config ---------------- */\r\n\r\n    setStyle(state: FieldVisualState, style: NormalizedStyle) {\r\n        this.styles.set(state, style)\r\n    }\r\n\r\n    /* ---------------- state toggle ---------------- */\r\n\r\n    enable(key: string, state: FieldVisualState) {\r\n        if (!this.styles.has(state)) return\r\n        const states = this.getStates(key)\r\n        if (states.has(state)) return\r\n\r\n        states.add(state)\r\n        this.apply(key, state)\r\n    }\r\n\r\n    disable(key: string, state: FieldVisualState) {\r\n        if (!this.styles.has(state)) return\r\n        const states = this.getStates(key)\r\n        if (!states.has(state)) return\r\n\r\n        states.delete(state)\r\n        this.remove(key, state)\r\n    }\r\n\r\n    /* ---------------- internals ---------------- */\r\n\r\n    private getStates(key: string) {\r\n        if (!this.fieldStates.has(key)) {\r\n            this.fieldStates.set(key, new Set())\r\n        }\r\n        return this.fieldStates.get(key)!\r\n    }\r\n\r\n    private apply(key: string, state: FieldVisualState) {\r\n        const el = this.elements.get(key)\r\n        const style = this.styles.get(state)\r\n        if (!el || !style) return\r\n\r\n        if (style.className) {\r\n            el.classList.add(...style.className.split(' '))\r\n            const label = el.parentElement?.querySelector('label')\r\n            label?.classList.add(...style.className.split(' '))\r\n        }\r\n\r\n        if (style.style) {\r\n            Object.assign(el.style, style.style)\r\n            const label = el.parentElement?.querySelector('label')\r\n            Object.assign(label?.style || {}, style.style)\r\n        }\r\n    }\r\n\r\n    private remove(key: string, state: FieldVisualState) {\r\n        const el = this.elements.get(key)\r\n        const style = this.styles.get(state)\r\n        if (!el || !style) return\r\n\r\n        if (style.className) {\r\n            el.classList.remove(...style.className.split(' '))\r\n            const label = el.parentElement?.querySelector('label')\r\n            label?.classList.remove(...style.className.split(' '))\r\n        }\r\n\r\n        if (style.style) {\r\n            for (const k of Object.keys(style.style)) {\r\n                ; (el.style as any)[k] = ''\r\n                const label = el.parentElement?.querySelector('label')\r\n                    ; (label?.style as any)[k] = ''\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const inputStylesStore = new InputStyles()","export const FieldVisualState = {\r\n  Edited: 'edited',\r\n  Error: 'error',\r\n  Warning: 'warning',\r\n  Focus: 'focus',\r\n  Disabled: 'disabled',\r\n} as const\r\n\r\nexport type FieldVisualState =\r\n  (typeof FieldVisualState)[keyof typeof FieldVisualState]\r\n","import React, { forwardRef, memo, useCallback, useEffect, useRef } from 'react'\nimport type { InputProps, InputRefProps } from \"../typeDeclaration/inputProps\";\nimport { useInputStore } from \"../hooks/useInputStore\";\nimport { useComputedExpression } from \"../hooks/useComputedExpression\";\nimport InputTemplate from \"./InputTemplate\";\nimport { handleInitialValue } from '../Utils/setInitialValue';\nimport { setFieldValue } from '../Utils/SetFieldValue';\nimport { isIndex } from '../Utils/Helper';\nimport { useFieldName } from '../hooks/useFieldName';\nimport { inputStore } from 'src/store/InputStore';\nimport Input from './Input';\n\ninterface NumInputProps extends InputProps {\n    stringify?: boolean\n}\n\nconst NumInput = forwardRef<InputRefProps, NumInputProps>(({...props}, ref) => {\n    const {placeholder, name,children,style,placeholderStyles,onDisableChange, initialValue=\"\", disabled=false, hideElement=false, containerStyles=\"\", privacy=false, stringify=false, ...rest} = props\n    const modifiedName = useFieldName(placeholder, name)\n\n    useEffect(() => {\n        handleInitialValue(modifiedName, initialValue)\n    }, [])\n\n    const stringValidation = (data: number) => {\n        if (!stringify) {\n            return data\n        }\n        else {\n            return data.toString()\n        }\n    }\n\n    const handleOnDisableChange = useCallback((value: any) => {\n        setFieldValue({ [modifiedName]: value })\n    }, [modifiedName])\n\n    const disabledValue: boolean = useComputedExpression(disabled)\n\n    const hiddenValue: boolean = useComputedExpression(hideElement)\n\n    useEffect(() => {\n        if (onDisableChange) {\n            // const { inputData } = inputStore.getSnapshot()\n            const currentDisabled = inputStore.getInputNestedValue(modifiedName)\n            onDisableChange({\n                state: disabledValue,\n                disabledKey: name,\n                disabledValue: currentDisabled,\n                storeValue: inputStore.getSnapshot().inputData,\n                setValue: handleOnDisableChange\n            })\n        }\n    }, [disabledValue])\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const inputVal = e.target.value\n        const newValue = inputVal === \"\" ? \"\" : stringValidation(Number(inputVal))\n        inputStore.setValue(modifiedName, newValue)\n    }\n\n    if (hiddenValue) return null\n\n    return (\n        <div className={`relative ${containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\n            <InputTemplate\n                name={modifiedName}\n                placeholder={placeholder}\n                style={style}\n                childType='input'\n                placeholderStyles={placeholderStyles}\n            >\n                <Input\n                    ref={ref}\n                    name={modifiedName}\n                    placeholder={placeholder}\n                    inputInlineStyle={style?.inputInlineStyle}\n                    disabled={disabledValue}\n                    type={privacy ? 'password' : 'number'}\n                    handleChange={handleChange}\n                    {...rest}\n                />\n            </InputTemplate>\n            {children}\n        </div>\n    )\n})\n\n// 1. Export the memoized component\nconst MemoizedNumInput = memo(NumInput)\n\n// 2. Set the displayName on the exported component\nMemoizedNumInput.displayName = 'NumInput';\n\nexport default MemoizedNumInput;\n\n\n\n\n\n// import React, { forwardRef, memo, useCallback, useEffect, useRef } from 'react'\n// import type { InputProps, InputRefProps } from \"../typeDeclaration/inputProps\";\n// import { useInputStore } from \"../hooks/useInputStore\";\n// import { useComputedExpression } from \"../hooks/useComputedExpression\";\n// import InputTemplate from \"./InputTemplate\";\n// import { handleInitialValue } from '../Utils/setInitialValue';\n// import { setFieldValue } from '../Utils/SetFieldValue';\n// import { isIndex } from '../Utils/Helper';\n// import { useFieldName } from '../hooks/useFieldName';\n// import { inputStore } from 'src/store/InputStore';\n\n// interface NumInputProps extends InputProps {\n//     stringify?: boolean\n// }\n\n// const NumInput = forwardRef<InputRefProps, NumInputProps>(({\n//     placeholder,\n//     onEnterPress,\n//     onBlur,\n//     containerStyles,\n//     stringify = false,\n//     autoFocus = false,\n//     privacy = false,\n//     disabled = false,\n//     hideElement = false,\n//     onDisableChange,\n//     maxLength,\n//     inputStyles,\n//     placeholderStyles,\n//     onChange,\n//     initialValue = \"\",\n//     name,\n//     ...props\n// }, ref) => {\n//     const modifiedName = useFieldName(placeholder, name)\n\n//     useEffect(() => {\n//         handleInitialValue(modifiedName, initialValue)\n//     }, [])\n\n//     const value: string = useInputStore(modifiedName) ?? \"\"\n//     const stringValidation = (data: number) => {\n//         if (!stringify) {\n//             return data\n//         }\n//         else {\n//             return data.toString()\n//         }\n//     }\n\n//     const handleOnDisableChange = useCallback((value: any) => {\n//         setFieldValue({ [modifiedName]: value })\n//     }, [modifiedName])\n\n//     const disabledValue: boolean = useComputedExpression(disabled)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement)\n\n//     useEffect(() => {\n//         if (onDisableChange) {\n//             // const { inputData } = inputStore.getSnapshot()\n//             const currentDisabled = inputStore.getInputNestedValue(modifiedName)\n//             onDisableChange({\n//                 state: disabledValue,\n//                 disabledKey: name,\n//                 disabledValue: currentDisabled,\n//                 storeValue: inputStore.getSnapshot().inputData,\n//                 setValue: handleOnDisableChange\n//             })\n//         }\n//     }, [disabledValue])\n\n//     const prevValueRef = useRef(value)\n//     useEffect(() => {\n//         if (!onChange) return\n//         if (value !== prevValueRef.current) {\n//             prevValueRef.current = value\n//             if (isIndex(value)) {\n//                 onChange(Number(value))  // Pass null as no event.data\n//             }\n//         }\n//     }, [value])\n//     const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         const inputVal = e.target.value\n//         const newValue = inputVal === \"\" ? \"\" : stringValidation(Number(inputVal))\n//         // const nativeEvent = e.nativeEvent as unknown as InputEvent; // Type assertion to InputEvent\n//         // onChange(newValue, nativeEvent.data);\n//         // fullProps.onInputChange(modifiedName, newValue)\n//         inputStore.setValue(modifiedName, newValue)\n//     }\n//     return (\n//         <InputTemplate\n//             ref={ref}\n//             name={modifiedName}\n//             value={value}\n//             handleChange={handleChange}\n//             autoFocus={autoFocus}\n//             maxLength={maxLength}\n//             onBlur={onBlur}\n//             onEnterPress={onEnterPress}\n//             placeholder={placeholder}\n//             type={privacy ? 'password' : 'number'}\n//             disabled={disabledValue}\n//             hideElement={hiddenValue}\n//             containerStyles={containerStyles}\n//             inputStyles={inputStyles}\n//             placeholderStyles={placeholderStyles}\n//             {...props}\n//         />\n//     )\n// })\n\n// // 1. Export the memoized component\n// const MemoizedNumInput = memo(NumInput)\n\n// // 2. Set the displayName on the exported component\n// MemoizedNumInput.displayName = 'NumInput';\n\n// export default MemoizedNumInput;","import { inputStore } from \"src/store/InputStore\";\r\n\r\nexport interface FieldProps {\r\n    [key: string]: any;\r\n}\r\nexport const setFieldValue = (FieldCredentials: FieldProps) => {\r\n    const keys = Object.keys(FieldCredentials);\r\n    for (const key of keys) {\r\n        inputStore.setValue(key, FieldCredentials[key])\r\n    }\r\n}","import { type FC, memo, ReactNode, useRef, useSyncExternalStore } from \"react\";\r\nimport { NameScopeContext, useNameScope } from \"src/context/NameScopeContext\";\r\nimport { inputStore } from \"src/store/InputStore\";\r\n\r\n\r\ninterface ArrayHelpers {\r\n  add: (item : any) => void\r\n  remove: (index: number) => void\r\n  isLast: (index: number) => boolean\r\n  arrayLength: number\r\n}\r\n\r\ninterface ArrayContainerProps {\r\n    name: string;\r\n    items: any[];\r\n    defaultAddItem?: any\r\n    getKey?: (item: any, index: number) => string;\r\n    children: (item: any, index: number, helpers: ArrayHelpers) => ReactNode\r\n}\r\nconst ArrayContainer: FC<ArrayContainerProps> = ({ name, items, getKey, children, defaultAddItem }) => {\r\n    const initialRender = useRef(true)\r\n    const parent = useNameScope()\r\n    const arrayScope = parent ? `${parent}.${name}` : name\r\n    if (initialRender.current) {\r\n        inputStore.addArrayItem(arrayScope, items)\r\n        initialRender.current = false\r\n    }\r\n    const dynamicItem: any[] = useSyncExternalStore(\r\n        (cb) => inputStore.subscribe(arrayScope, cb),\r\n        () => {\r\n            return inputStore.getArrayItems(arrayScope) ?? items\r\n        }\r\n    )\r\n\r\n    const helpers: ArrayHelpers = {\r\n        add: (addItem) => inputStore.addArrayItem(arrayScope, defaultAddItem || addItem),\r\n        remove: (index) => inputStore.removeArrayItem(arrayScope, index),\r\n        isLast: (index) => index === dynamicItem.length - 1,\r\n        arrayLength: dynamicItem.length\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                dynamicItem.map((item, index) => {\r\n                    const scope = `${arrayScope}.${index}`\r\n                    const modifiedKey = getKey\r\n                        ? getKey(item, index)\r\n                        : scope\r\n                    return (\r\n                        <NameScopeContext.Provider key={modifiedKey || scope} value={scope}>\r\n                            {children(item, index, helpers)}\r\n                        </NameScopeContext.Provider>\r\n                    )\r\n                })\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n// ArrayContainer.Add = AddInputBox\r\n// ArrayContainer.Remove = RemoveInputBox\r\n\r\nexport default memo(ArrayContainer)\r\n","import { type FC, memo, type ReactNode } from 'react'\nimport { NameScopeContext, useNameScope } from '../context/NameScopeContext';\n\ninterface ObjContainerProps {\n    name: string\n    // inputContainerStyles?: string\n    children: ReactNode\n}\n\n\nconst ObjectContainer: FC<ObjContainerProps> = ({\n    name,\n    // inputContainerStyles = '',\n    children\n}) => {\n    const parent = useNameScope();\n    const scope = parent ? `${parent}.${name}` : name;\n\n    return (\n        <NameScopeContext.Provider value={scope}>\n                {\n                    children\n                }\n        </NameScopeContext.Provider>\n    )\n}\n\n\n// 1. Export the memoized component\nconst MemoizedObjectContainer = memo(ObjectContainer)\n\n// 2. Set the displayName on the exported component\nMemoizedObjectContainer.displayName = 'ObjectContainer';\n\nexport default MemoizedObjectContainer;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// export default memo(ObjectContainer)\n\n{/* <div className={inputContainerStyles ? inputContainerStyles : 'contents'}> */}\n    {/* </div> */}\n// import React, { type FC, memo, type ReactNode, type RefObject, useMemo } from 'react'\n// import { camelCase } from '../functions/camelCase';\n// import { useInputStore } from '../hooks/useInputStore';\n// import { flattenChildren } from '../Utils/flattenChildren';\n// import { handleInitialValue } from '../Utils/setInitialValue';\n\n\n// interface FullProps {\n    //     onInputChange: (name: string, value: any) => void;\n    //     sharedStyles : string\n    //     bgColor : string\n//     modalContainerRef: RefObject<HTMLDivElement>\n// }\n\n// interface ObjContainerProps {\n    //     objName: string\n    //     inputContainerStyles?: string\n    //     children: ReactNode\n// }\n\n// interface InputChildProps {\n    //   onInputChange: (modifiedName: string, value: any) => void;\n//   [key: string]: any; // optional if child has more props\n// }\n\n// const ObjectContainer: FC<ObjContainerProps> = ({\n//     objName,\n//     inputContainerStyles = '',\n//     children,\n//     ...props\n// }) => {\n//     const fullProps = props as FullProps\n//     const setInputValue = useInputStore((state) => state.setInputValue)\n//     const childrenArray = useMemo(() => flattenChildren(children), [children]);\n    \n//     const handleInputChange = (modifiedName : string, value : any) => {\n//         fullProps.onInputChange(modifiedName, value)\n//     }\n\n//     return (\n//         <div className={inputContainerStyles ? inputContainerStyles : 'contents'}>\n//             {\n//                 childrenArray.map((child, index) => {\n//                     if (!React.isValidElement<InputChildProps>(child)) return child;\n//                     const childType = child.type\n//                     const isDOMElement = typeof childType === 'string';\n//                     if (isDOMElement) return child;\n//                     const childProps = child.props\n//                     const modifiedName = (childProps.name || childProps.placeholder) ? childProps.name || camelCase(childProps.placeholder) : undefined\n//                     const changedName = `${objName}.${modifiedName}`\n//                     if (childProps.placeholder) {\n//                         handleInitialValue(changedName, childProps.initialValue,setInputValue, (childType as any).type.name)\n//                     }\n//                     if (React.isValidElement(child)) {\n//                         return React.cloneElement(child, {\n//                             key: child.key ?? index,\n//                             onInputChange: handleInputChange,\n//                             name: changedName,\n//                             sharedStyles : fullProps.sharedStyles,\n//                             bgColor : fullProps.bgColor,\n//                             modalContainerRef: fullProps.modalContainerRef,\n//                             // ...props\n//                             // isArray : isChildArray\n//                         })\n//                     }\n//                     return child\n//                 })\n//             }\n//         </div>\n//     )\n// }\n\n\n// // 1. Export the memoized component\n// const MemoizedObjectContainer = memo(ObjectContainer)\n\n// // 2. Set the displayName on the exported component\n// MemoizedObjectContainer.displayName = 'ObjectContainer';\n\n// export default MemoizedObjectContainer;\n\n\n// // export default memo(ObjectContainer)","import { type FC, memo, useCallback, useEffect } from 'react';\nimport SelectTemplate from './SelectTemplate';\nimport { useComputedExpression } from '../hooks/useComputedExpression';\nimport { setFieldValue } from '../Utils/SetFieldValue';\nimport { useFieldName } from '../hooks/useFieldName';\nimport { useSelectOptions, type OptionMap } from '../hooks/useSelectOptions';\nimport { inputStore } from 'src/store/InputStore';\nimport { handleInitialValue } from 'src/Utils/setInitialValue';\nimport InputTemplate from './InputTemplate';\nimport DropdownModal from './DropdownModal';\nimport { DropdownStyleProp, InputStyle } from 'src/typeDeclaration/stylesProps';\nimport { useContainerContext } from 'src/context/ContainerContext';\nimport { DEFAULT_DROPDOWN_STYLE } from 'src/styles/DropdownStyles';\n\ninterface SelectOption {\n    label: string;\n    value: string;\n}\n\ninterface FullInputProps {\n    name?: string\n    placeholder: string\n    /** NEW â€” generic dependent dropdown system */\n    dependsOn?: string;\n    optionsMap?: OptionMap;\n    children?: React.ReactNode\n    options: SelectOption[] | string[]\n    initialValue?: string;\n    initialLabel?: string\n    disabled?: boolean | string\n    hideElement?: boolean | string\n    style?: Partial<InputStyle> & Partial<Pick<DropdownStyleProp, 'dropdownOffset'>>\n    twStyle?: Omit<DropdownStyleProp, 'dropdownOffset'>\n    // styles?: StyleProp\n    searchable?: boolean\n    onDisableChange?: (args: {\n        state: boolean,\n        disabledKey?: string,\n        disabledValue: any,\n        storeValue: Record<string, any> | null,\n        setValue: (value: any) => void\n    }) => void\n    onChange?: (value: string) => void\n    onToggleDropdown?: (isOpen: boolean) => void\n}\n\ntype SelectProps = Omit<FullInputProps, \"isArrayObject\" | \"arrayData\" | \"onInputChange\">\n\nconst SelectInput: FC<SelectProps> = ({\n    name,\n    placeholder,\n    options,\n    children,\n    onChange,\n    dependsOn,\n    onToggleDropdown,\n    optionsMap,\n    initialLabel,\n    twStyle ={},\n    disabled = false,\n    hideElement = false,\n    searchable = false,\n    onDisableChange,\n    initialValue = '',\n    style,\n}) => {\n    const modifiedName = useFieldName(placeholder, name)\n\n    const {sharedStyles, modalContainerRef} = useContainerContext()\n\n    const handleOnDisableChange = useCallback((value: any) => {\n        setFieldValue({ [modifiedName]: value })\n    }, [modifiedName])\n\n    const disabledValue: boolean = useComputedExpression(disabled)\n\n    const hiddenValue: boolean = useComputedExpression(hideElement)\n\n    const resolvedStyle: InputStyle & Pick<DropdownStyleProp, 'dropdownOffset'> = {\n            ...DEFAULT_DROPDOWN_STYLE,\n            ...sharedStyles,\n            ...style, // ðŸ‘ˆ highest priority\n        }\n\n    // const {inputInlineStyle} = resolvedStyle\n\n    useEffect(() => {\n        if (onDisableChange) {\n            // const { inputData } = inputStore.getSnapshot()\n            const currentDisabled = inputStore.getInputNestedValue(modifiedName)\n            onDisableChange({\n                state: disabledValue,\n                disabledKey: modifiedName,\n                disabledValue: currentDisabled,\n                storeValue: inputStore.getSnapshot().inputData,\n                setValue: handleOnDisableChange\n            })\n        }\n    }, [disabledValue])\n\n    const staticOptions = useSelectOptions({\n        options,\n        dependsOn,\n        optionsMap,\n        initialLabel,\n        initialValue\n    })\n\n    const handleSelect = (selectedValue: string) => {\n        onChange?.(selectedValue);\n        inputStore.setValue(modifiedName, selectedValue);\n    };\n\n    if (hiddenValue) {\n        return null;\n    }\n\n    return (\n        <div className={`relative ${twStyle?.containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\n            <InputTemplate\n                name={modifiedName}\n                placeholder={placeholder}\n                style={style}\n                placeholderStyles={twStyle?.placeholderStyles}\n                childType={'dropdown'}\n            >\n                <DropdownModal\n                    onSelect={handleSelect}\n                    options={staticOptions}\n                    name={modifiedName}\n                    style={resolvedStyle}\n                    twStyle={twStyle}\n                    onToggleDropdown={onToggleDropdown}\n                    searchable={searchable}\n                    disabled={disabledValue}\n                    modalContainerRef={modalContainerRef}\n                    \n                />\n            </InputTemplate>\n            {children}\n        </div>\n    );\n};\n\n// export default memo(SelectInput, (prev, next) => prev.name === next.name);\nconst MemoizedSelectInput = memo(SelectInput, (prev, next) => prev.placeholder === next.placeholder)\nMemoizedSelectInput.displayName = 'SelectInput';\nexport default MemoizedSelectInput;\n\n\n\n\n\n\n\n\n// import { type FC, memo, useCallback, useEffect } from 'react';\n// import SelectTemplate from './SelectTemplate';\n// import { useComputedExpression } from '../hooks/useComputedExpression';\n// import { type StyleProp } from '../typeDeclaration/stylesProps';\n// import { setFieldValue } from '../Utils/SetFieldValue';\n// import { useFieldName } from '../hooks/useFieldName';\n// import { useSelectOptions, type OptionMap } from '../hooks/useSelectOptions';\n// import { inputStore } from 'src/store/InputStore';\n// import { handleInitialValue } from 'src/Utils/setInitialValue';\n\n// interface SelectOption {\n//     label: string;\n//     value: string;\n// }\n\n// interface FullInputProps {\n//     name?: string\n//     placeholder: string\n//     /** NEW â€” generic dependent dropdown system */\n//     dependsOn?: string;\n//     optionsMap?: OptionMap;\n//     options: SelectOption[] | string[]\n//     initialValue?: string;\n//     initialLabel?: string\n//     disabled?: boolean | string\n//     hideElement?: boolean | string\n//     styles?: StyleProp\n//     searchable?: boolean\n//     onDisableChange?: (args: {\n//         state: boolean,\n//         disabledKey?: string,\n//         disabledValue: any,\n//         storeValue: Record<string, any> | null,\n//         setValue: (value: any) => void\n//     }) => void\n//     onChange?: (value: string) => void\n//     onToggleDropdown?: (isOpen: boolean) => void\n//     onInputChange: (name: string, value: string) => void\n//     isArrayObject?: boolean\n//     arrayData?: {\n//         arrayName: string\n//         arrayIndex: number\n//     }\n//     //   sharedStyles?: {\n//     //     placeholderStyles?: string;\n//     //   };\n//     //   bgColor: string;\n// }\n\n// type SelectProps = Omit<FullInputProps, \"isArrayObject\" | \"arrayData\" | \"onInputChange\">\n\n// const SelectInput: FC<SelectProps> = ({\n//     name,\n//     placeholder,\n//     options,\n//     onChange,\n//     dependsOn,\n//     onToggleDropdown,\n//     optionsMap,\n//     initialLabel,\n//     disabled = false,\n//     hideElement = false,\n//     searchable = false,\n//     onDisableChange,\n//     initialValue = '',\n//     styles = {\n//         inputStyles: '',\n//         placeholderStyles: '',\n//         containerStyles: '',\n//         modalBoxStyles: '',\n//         optionBoxStyles: '',\n//         optionStyles: '',\n//         dropdownOffset: 5\n//     },\n//     ...props\n// }) => {\n//     const modifiedName = useFieldName(placeholder, name)\n\n//     const handleOnDisableChange = useCallback((value: any) => {\n//         setFieldValue({ [modifiedName]: value })\n//     }, [modifiedName])\n\n//     useEffect(() => {\n//         handleInitialValue(modifiedName, initialValue)\n//     }, [])\n\n//     const disabledValue: boolean = useComputedExpression(disabled)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement)\n\n//     useEffect(() => {\n//         if (onDisableChange) {\n//             // const { inputData } = inputStore.getSnapshot()\n//             const currentDisabled = inputStore.getInputNestedValue(modifiedName)\n//             onDisableChange({\n//                 state: disabledValue,\n//                 disabledKey: modifiedName,\n//                 disabledValue: currentDisabled,\n//                 storeValue: inputStore.getSnapshot().inputData,\n//                 setValue: handleOnDisableChange\n//             })\n//         }\n//     }, [disabledValue])\n\n//     const staticOptions = useSelectOptions({\n//         options,\n//         dependsOn,\n//         optionsMap,\n//         initialLabel,\n//         initialValue\n//     })\n\n//     const handleSelect = (selectedValue: string) => {\n//         onChange?.(selectedValue);\n//         inputStore.setValue(modifiedName, selectedValue);\n//     };\n\n//     return (\n//         <div style={{ display: hiddenValue ? 'none' : 'block' }}>\n//             <SelectTemplate\n//                 name={modifiedName}\n//                 placeholder={placeholder}\n//                 onToggleDropdown={onToggleDropdown}\n//                 options={staticOptions}\n//                 disabled={disabledValue}\n//                 hideElement={hiddenValue}\n//                 seachable={searchable}\n//                 onSelect={handleSelect}\n//                 styles={styles}\n//                 {...props}\n//             />\n//         </div>\n//     );\n// };\n\n// // export default memo(SelectInput, (prev, next) => prev.name === next.name);\n// const MemoizedSelectInput = memo(SelectInput, (prev, next) => prev.placeholder === next.placeholder)\n// MemoizedSelectInput.displayName = 'SelectInput';\n// export default MemoizedSelectInput;\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, memo, useCallback, useEffect, useMemo, useRef } from 'react';\n// import { useInputStore } from 'src/hooks/useInputStore';\n// import { getNestedValue } from 'src/Utils/inputStoreUtils';\n// import SelectTemplate from './SelectTemplate';\n// import { useComputedExpression } from 'src/hooks/useComputedExpression';\n// import { useFormInitials } from 'src/hooks/useFormInitialState';\n\n// interface SelectOption {\n//     label: string;\n//     value: string;\n// }\n\n// interface FullInputProps {\n//     name?: string\n//     placeholder: string\n//     options: SelectOption[] | string[]\n//     initialValue?: string;\n//     initialLabel?: string\n//     disabled?: boolean | string\n//     hideElement?: boolean | string\n//     onDisableChange?: (args: {\n//         state: boolean,\n//         disabledKey?: string,\n//         disabledValue: any,\n//         storeValue: Record<string, any>,\n//         setValue: (value: any) => void\n//     }) => void\n//     onChange?: (value: string) => void\n//     onInputChange: (name: string, value: string) => void\n//     inputStyles?: string\n//     placeholderStyles?: string\n//     containerStyles?: string\n//     isArrayObject?: boolean\n//     arrayData?: {\n//         arrayName: string\n//         arrayIndex: number\n//     }\n//     //   sharedStyles?: {\n//     //     placeholderStyles?: string;\n//     //   };\n//     //   bgColor: string;\n// }\n\n// type SelectProps = Omit<FullInputProps, \"isArrayObject\" | \"arrayData\" | \"onInputChange\">\n\n// const SelectInput: FC<SelectProps> = ({\n//     name,\n//     placeholder,\n//     options,\n//     onChange = () => { },\n//     disabled = false,\n//     hideElement = false,\n//     onDisableChange,\n//     initialLabel,\n//     initialValue = '',\n//     inputStyles = '',\n//     placeholderStyles = '',\n//     containerStyles = '',\n//     //   sharedStyles = {},\n//     //   bgColor = 'white',\n//     ...props\n// }) => {\n//     const fullProps = props as FullInputProps\n//     const value: string = useInputStore((state) => {\n//         if (fullProps.isArrayObject) {\n//             const arr = fullProps.arrayData!;\n//             return state.inputData[arr.arrayName]?.[arr.arrayIndex]?.[name!] ?? '';\n//         }\n//         return getNestedValue(state.inputData, name!) ?? '';\n//     });\n\n//     const handleOnDisableChange = useCallback((value: any) => {\n//         useFormInitials({ [name!]: value })\n//     }, [name])\n\n//     const disabledValue: boolean = useComputedExpression(disabled, name!)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement, name!)\n\n//     useEffect(() => {\n//         if (onDisableChange) {\n//             const { inputData } = useInputStore.getState()\n//             const currentDisabled = getNestedValue(inputData, name)\n//             onDisableChange({\n//                 state: disabledValue,\n//                 disabledKey: name,\n//                 disabledValue: currentDisabled,\n//                 storeValue: inputData,\n//                 setValue: handleOnDisableChange\n//             })\n//         }\n//     }, [disabledValue])\n\n//     const prevValueRef = useRef(value);\n\n//     useEffect(() => {\n//         if (value !== prevValueRef.current) {\n//             prevValueRef.current = value;\n//             if (value !== '') onChange(value);\n//         }\n//     }, [value]);\n\n//     const refinedOption: SelectOption[] = useMemo(() => {\n//         if (options.length > 0 && typeof options[0] !== 'string') {\n//             return options as SelectOption[]\n//         }\n//         const initialItem = initialLabel ? [{ label: initialLabel, value: initialValue }] : []\n//         const newOption = (options as string[]).map((item) => ({ label: item, value: item }))\n//         return [...initialItem, ...newOption]\n//     }, [options])\n\n//     const handleSelect = (selectedValue: string) => {\n//         onChange(selectedValue);\n//         if (fullProps.onInputChange) {\n//             fullProps.onInputChange(name!, selectedValue);\n//         }\n//         // useInputStore.getState().setInputValue(name, selectedValue);\n//     };\n\n//     return (\n//         <div style={{ display: hiddenValue ? 'none' : 'block' }}>\n//             <SelectTemplate\n//                 name={name!}\n//                 value={value}\n//                 placeholder={placeholder}\n//                 options={refinedOption}\n//                 disabled={disabledValue}\n//                 hideElement={hiddenValue}\n//                 onSelect={handleSelect}\n//                 inputStyles={inputStyles}\n//                 placeholderStyles={placeholderStyles}\n//                 containerStyles={containerStyles}\n//                 {...props}\n//             />\n//         </div>\n//     );\n// };\n\n// const MemoizedSelectInput = memo(SelectInput)\n// MemoizedSelectInput.displayName = 'SelectInput';\n// export default MemoizedSelectInput;\n","import { useMemo, useSyncExternalStore } from \"react\";\r\nimport { inputStore } from \"src/store/InputStore\";\r\n\r\nexport interface SelectOption {\r\n    label: string;\r\n    value: string;\r\n}\r\n\r\nexport interface OptionMap {\r\n    [key: string]: string[];\r\n}\r\n\r\nexport const useSelectOptions = ({\r\n//   name,\r\n  options,\r\n  dependsOn,\r\n  optionsMap,\r\n  initialLabel,\r\n  initialValue\r\n}: {\r\n  options?: SelectOption[] | string[]\r\n  dependsOn?: string\r\n  optionsMap?: OptionMap\r\n  initialLabel?: string\r\n  initialValue?: string\r\n}) => {\r\n  const depValue = dependsOn\r\n    ? useSyncExternalStore(\r\n        cb => inputStore.subscribe(dependsOn, cb),\r\n        () => inputStore.getInputNestedValue(dependsOn)\r\n      )\r\n    : null;\r\n\r\n  return useMemo(() => {\r\n    const base =\r\n      dependsOn && optionsMap\r\n        ? optionsMap[depValue ?? \"\"] ?? []\r\n        : options ?? [];\r\n\r\n    const normalized =\r\n      typeof base[0] === \"string\"\r\n        ? (base as string[]).map(v => ({ label: v, value: v }))\r\n        : base as SelectOption[];\r\n\r\n    return initialLabel\r\n      ? [{ label: initialLabel, value: initialValue! }, ...normalized]\r\n      : normalized;\r\n  }, [depValue, options, optionsMap, initialLabel, initialValue]);\r\n};\r\n","import { type FC, memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { useInputStore } from \"../hooks/useInputStore\";\nimport { DropdownStyleProp, InputStyle } from \"../typeDeclaration/stylesProps\";\nimport { shallowOrDeepEqual } from \"../functions/shallowOrDeepEqual\";\nimport RotatingDropdown, { RotatingDropdownRef } from \"src/Icons/RotatingDropdown\";\nimport BaseDropdown from \"./BaseDropdown\";\n\n\ninterface DropdownOption {\n    label: string;\n    value: string;\n}\ninterface DropdownModalProps {\n    options: DropdownOption[];\n    onSelect: (value: string) => void;\n    disabled: boolean;\n    searchable: boolean;\n    // style: StyleProp\n    style: Partial<InputStyle> & Pick<DropdownStyleProp, 'dropdownOffset'>\n    twStyle: Omit<DropdownStyleProp, 'dropdownOffset'>\n    name: string;\n    onToggleDropdown?: (isOpen: boolean) => void;\n    modalContainerRef?: React.RefObject<HTMLDivElement>;\n    // You should typically pass the current value in as a prop for a controlled component\n    initialValue?: string;\n}\n\nconst DropdownModal: FC<DropdownModalProps> = ({\n    options,\n    onSelect,\n    onToggleDropdown,\n    disabled,\n    searchable,\n    name,\n    style,\n    twStyle,\n    // modalContainerRef,\n}) => {\n    const value: string = useInputStore(name)\n    const rotateRef = useRef<RotatingDropdownRef>(null)\n    const [isOpen, setIsOpen] = useState(false);\n    const [label, setLabel] = useState(value ||'Select an Option');\n    const {inputInlineStyle, dropdownOffset} = style\n    const {optionStyles=\"\", modalBoxStyles=\"\", inputStyles=\"\"} = twStyle\n    \n    const inputRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (!isOpen) return\n        const handleClickOutside = (event: MouseEvent) => {\n            if (inputRef.current && !inputRef.current.contains(event.target as Node)) {\n                // setIsOpen(false);\n                closeDropdown();\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isOpen]);\n\n    const handleOptionSelect = useCallback((option: DropdownOption) => {\n        const selectedValue = option.value;\n        closeDropdown();\n        setLabel(selectedValue)\n        onSelect(selectedValue);\n    }, [onSelect]);\n\n    const openDropdown = useCallback(() => {\n      if (isOpen) return\n      if (disabled) return\n      rotateRef.current?.open()\n      setIsOpen(true)\n    }, [isOpen, disabled])\n    \n    const closeDropdown = useCallback(() => {\n        rotateRef.current?.close()\n      setIsOpen(false)\n    }, [isOpen])\n\n    useEffect(() => {\n        onToggleDropdown?.(isOpen);\n    }, [isOpen])\n\n    return (\n        <div\n            ref={inputRef}\n            onClick={openDropdown}\n            // onKeyDown={handleKeyDown}\n            onFocus={openDropdown}\n            tabIndex={0} // Makes the div focusable for keyboard navigation\n            style={inputInlineStyle}\n            className={`relative w-full flex input-border justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${inputStyles}`}\n        >\n            <span>{label}</span>\n            <RotatingDropdown ref={rotateRef} />\n            {isOpen && (\n                <BaseDropdown\n                    open={isOpen}\n                    options={options}\n                    close={closeDropdown}\n                    onSelect={(opt) => {\n                      handleOptionSelect(opt as DropdownOption)\n                    }}\n                    // position={position}\n                    inputRef={inputRef}\n                    dropdownOffset={dropdownOffset}\n                    searchable={searchable}\n                    // onSearchChange={(v) => {\n                    //   setSearch(v)\n                    // }}\n                    renderItem={(opt, index, highlighted, ref) => {\n                        const option = opt as DropdownOption\n                        return (\n                        <div\n                          key={option.value}\n                          ref={ref}\n                          className={`px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 ${\n                            highlighted ? \"bg-gray-100\" : \"\"\n                          }`}\n                          onMouseDown={(e) => {\n                            e.preventDefault()\n                            handleOptionSelect(option)\n                        }}\n                        >\n                          {option.label}\n                        </div>\n                    )\n                }}\n                />\n            )}\n            {/* {isOpen && dropdownPanel} */}\n        </div>\n    )\n}\n\nexport default memo(DropdownModal, (prev, next) => shallowOrDeepEqual(prev.options, next.options))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { type FC, memo, useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from \"react\";\n// import { isEmptyArray } from \"../functions/dataTypesValidation\";\n// import { useInputStore } from \"../hooks/useInputStore\";\n// import { type StyleProp } from \"../typeDeclaration/stylesProps\";\n// // import { createPortal } from 'react-dom'\n// import { shallowOrDeepEqual } from \"../functions/shallowOrDeepEqual\";\n// import OptionItem from \"./OptionItem\";\n// import { useContainerContext } from \"src/context/ContainerContext\";\n\n\n// interface DropdownOption {\n//     label: string;\n//     value: string;\n// }\n// interface DropdownModalProps {\n//     options: DropdownOption[];\n//     onSelect: (value: string) => void;\n//     disabled: boolean;\n//     seachable: boolean;\n//     styles: StyleProp\n//     name: string;\n//     onToggleDropdown?: (isOpen: boolean) => void;\n//     // modalContainerRef?: React.RefObject<HTMLDivElement>;\n//     // You should typically pass the current value in as a prop for a controlled component\n//     initialValue?: string;\n// }\n\n// const DropdownModal: FC<DropdownModalProps> = ({\n//     options,\n//     onSelect,\n//     onToggleDropdown,\n//     disabled,\n//     seachable,\n//     name,\n//     styles,\n//     // modalContainerRef,\n// }) => {\n//     const [isOpen, setIsOpen] = useState(false);\n//     // Use the initialValue prop for the controlled state\n//     // const [value, setValue] = useState<string>(initialValue);\n//     const {modalContainerRef} = useContainerContext()\n//     const value: string = useInputStore(name)\n//     const [search, setSearch] = useState<string>('');\n//     const highlightIndexRef = useRef<number>(0);\n//     const optionRefs = useRef<HTMLDivElement[]>([]);\n//     const [position, setPosition] = useState<{\n//         top: number;\n//         left: number;\n//         width: number;\n//         direction: \"up\" | \"down\";\n//     } | null>(null);\n//     const inputRef = useRef<HTMLDivElement>(null);\n//     const modalRef = useRef<HTMLDivElement>(null)\n//     const searchRef = useRef<HTMLInputElement>(null);\n\n//     // Sync external value changes if needed (useful if initialValue can change)\n//     // useEffect(() => {\n//     //     setValue(initialValue);\n//     // }, [initialValue]);\n\n//     useEffect(() => {\n//         const handleClickOutside = (event: MouseEvent) => {\n//             if (inputRef.current && !inputRef.current.contains(event.target as Node)) {\n//                 // setIsOpen(false);\n//                 closeDropdown();\n//             }\n//         };\n//         document.addEventListener('mousedown', handleClickOutside);\n//         return () => {\n//             document.removeEventListener('mousedown', handleClickOutside);\n//         };\n//     }, []);\n\n//     const handleOptionClick = (selectedValue: string) => {\n//         // setValue(selectedValue);\n//         onSelect(selectedValue);\n//         setIsOpen(false);\n//     }\n\n//     // 2. Stable click handler function for options\n//     const handleOptionSelect = (option: DropdownOption) => {\n//         handleOptionClick(option.value);\n//     }\n\n//     const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         setSearch(e.target.value)\n//         updateHighlight(0)\n//     }\n    \n//     const filteredOptions = useMemo(() => {\n//         if (!search) return options;\n//         const lowered = search.toLowerCase();\n\n//         return options.filter((opt) => {\n//             const label = opt.label.toLowerCase();\n//             return label.indexOf(lowered) !== -1;\n//         });\n//         /////// ChatGPT says indexOf() is 30â€“40% faster than includes() and does not allocate regex objects.\n//         // return options.filter(option =>\n//         //     option.label.toLowerCase().includes(search.toLowerCase())\n//         // );\n//     }, [search, options]);\n\n//     const optionRefsCallback = useCallback((el: HTMLDivElement | null) => {\n//         if (!el) return;\n\n//         // Get index from dataset\n//         const label = el.dataset.label;\n//         if (!label) return;\n\n//         // Find index ONCE\n//         const idx = filteredOptions.findIndex(o => o.label === label);\n//         if (idx !== -1) {\n//             optionRefs.current[idx] = el;\n//         }\n//     }, [filteredOptions]);\n    \n//     useLayoutEffect(() => {\n//         if (isOpen && modalRef.current) {\n//             calculatePosition();\n//             updateHighlight(0);\n//         }\n//     }, [filteredOptions.length, isOpen]);\n\n\n\n//     const calculatePosition = () => {\n//         const inputRect = inputRef.current?.getBoundingClientRect();\n//         // Use document.documentElement.clientHeight for viewport height fallback\n//         const modalContainer = modalContainerRef?.current || document.documentElement;\n//         const modalRect = modalContainer.getBoundingClientRect();\n//         const dropdownRect = modalRef.current?.getBoundingClientRect()\n\n//         if (!inputRect || !dropdownRect) return;\n\n        \n//         const spaceBelow = modalRect.bottom - inputRect.bottom;\n//         const spaceAbove = inputRect.top - modalRect.top;\n        \n//         const direction =\n//         spaceBelow < spaceAbove\n//         ? \"up\"\n//         : \"down\";\n        \n        \n//         const scrollOffset = modalContainer === document.documentElement ? window.scrollY : 0;\n//         const top = direction === \"down\"\n//             ? inputRect.bottom + scrollOffset + styles.dropdownOffset!\n//             : inputRect.top - dropdownRect.height + scrollOffset - styles.dropdownOffset!\n\n//         setPosition({\n//             left: inputRect.left,\n//             width: inputRect.width,\n//             top,\n//             direction,\n//         });\n//     };\n\n//     const openDropdown = () => {\n//       if (disabled) return\n//       setIsOpen(true)\n//       highlightIndexRef.current = 0;\n//       setSearch('');\n//       setTimeout(() => {\n//           searchRef.current?.focus()\n//           updateHighlight(0);\n//       }, 10);\n//     }\n    \n//     const closeDropdown = () => {\n//       setIsOpen(false)\n//     }\n\n//     useEffect(() => {\n//         onToggleDropdown?.(isOpen);\n//     }, [isOpen])\n\n//     /** update highlight without rerender */\n//     const updateHighlight = (newIndex: number) => {\n//         if (filteredOptions.length === 0) return; // <-- FIX\n//         const oldIndex = highlightIndexRef.current;\n//         if (oldIndex == newIndex) return\n        \n//         // Remove highlight from old element\n//         optionRefs.current[oldIndex]?.classList.remove(\"bg-blue-100\");\n//         // Add highlight to new element\n//         optionRefs.current[newIndex]?.classList.add(\"bg-blue-100\");\n//         // Scroll the element into view\n//         optionRefs.current[newIndex]?.scrollIntoView({ block: \"nearest\" });\n        \n//         highlightIndexRef.current = newIndex;\n//     };\n\n//     // keyboard navigation\n//     const handleKeyDown = (e: React.KeyboardEvent) => {\n//         if (!isOpen) return;\n\n        \n//         if (e.key === \"ArrowDown\") {\n//             e.preventDefault();\n//             const next = Math.min(\n//                 highlightIndexRef.current + 1,\n//                 filteredOptions.length - 1\n//             );\n//             updateHighlight(next);\n//         }\n\n//         if (e.key === \"ArrowUp\") {\n//             e.preventDefault();\n//             const prev = Math.max(highlightIndexRef.current - 1, 0);\n//             updateHighlight(prev);\n//         }\n\n//         if (e.key === \"Enter\") {\n//             e.preventDefault();\n//             const chosen = filteredOptions[highlightIndexRef.current];\n//             if (chosen) {\n//                 handleOptionClick(chosen.value);\n//             }\n//         }\n\n//         if (e.key === \"Escape\") {\n//             // setIsOpen(false);\n//             closeDropdown();\n//             // inputRef.current?.focus(); // Return focus to the main input\n//         }\n//     };\n\n//     // const handleSelectOption = useCallback((opt : string) => {\n//     //     onSelect(opt);\n//     // }, [onSelect]);\n\n\n//     // JSX for the dropdown panel, placed in a separate variable for portal usage\n//     const dropdownPanel = isOpen ? (\n//         <div\n//             className={`fixed z-10 bg-white border border-gray-300 rounded-lg shadow-xl max-h-60 overflow-hidden ${styles.modalBoxStyles}`}\n//             style={{\n//                 top: position?.top,\n//                 left: position?.left,\n//                 width: position?.width,\n//             }}\n//             ref={modalRef}\n//             // Prevent outside click handler from firing when clicking the panel itself\n//             // onClick={(e) => e.stopPropagation()}\n//             onMouseDown={(e) => e.stopPropagation()}\n//         >\n//             {/* ðŸ” Search box */}\n//             {\n//                 seachable && (\n//                     <div className=\"p-2 border-b border-gray-200\">\n//                         <input\n//                             ref={searchRef}\n//                             type=\"text\"\n//                             placeholder=\"Search...\"\n//                             className=\"w-full px-3 py-1 border rounded-lg bg-gray-50 outline-none\"\n//                             value={search}\n//                             onChange={handleSearchChange}\n//                             // Keep search input focused for typing\n//                             onClick={(e) => e.stopPropagation()}\n//                             onMouseDown={(e) => e.stopPropagation()}\n//                             onKeyDown={(e) => {\n//                                 e.stopPropagation();\n//                                 handleKeyDown(e);\n//                             }} // Listen for keyboard navigation here too\n//                         />\n//                     </div>\n//                 )\n//             }\n//             <div className=\"max-h-48 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n//                 {/* No Options Found */}\n//                 {\n//                     isEmptyArray(filteredOptions) ? (\n//                         <div className={`py-2 px-4 text-gray-500 ${styles.optionStyles}`}>\n//                             No options found.\n//                         </div>\n//                     ) : (\n//                         filteredOptions.map((option, index) => (\n//                             <OptionItem\n//                             key={option.value}\n//                             label={option.label}\n//                             isSelected={value === option.value}\n//                             isHighlighted = {highlightIndexRef.current === index}\n//                             name={name!}\n//                             optionClass={styles.optionStyles!}\n//                             onSelect={() => handleOptionSelect(option)}\n//                             ref={optionRefsCallback}\n//                             // ref={(el) => {\n//                             //     if (el) optionRefs.current[index] = el;\n//                             // }}\n//                         />\n//                         ))\n//                     )\n//                 }\n//             </div>\n//         </div>\n//     ) : null;\n\n//     // Determine the portal target (document.body is the safest default)\n//     const portalTarget = document.body;\n\n//     return (\n//         <div\n//             ref={inputRef}\n//             onClick={openDropdown}\n//             onKeyDown={handleKeyDown}\n//             onFocus={openDropdown}\n//             tabIndex={0} // Makes the div focusable for keyboard navigation\n//             className={`py-2 px-2 relative border-2 w-full h-12 flex justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${styles.inputStyles}`}\n//         >\n//             <span>{options.find((opt) => opt.value === value)?.label || 'Select an Option'}</span>\n//             <svg\n//                 className={`w-4 h-4 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n//                 fill=\"none\"\n//                 stroke=\"currentColor\"\n//                 viewBox=\"0 0 24 24\"\n//                 xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n//             </svg>\n\n//             {/* 1. Use createPortal to render the dropdown outside the component's DOM */}\n//             {isOpen && portalTarget && dropdownPanel}\n//             {/* {isOpen && portalTarget && createPortal(dropdownPanel, portalTarget)} */}\n//         </div>\n//     )\n// }\n\n// export default memo(DropdownModal, (prev, next) => shallowOrDeepEqual(prev.options, next.options))\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, memo, RefObject, useEffect, useMemo, useRef, useState } from 'react'\n// import { isEmptyArray } from '../../../Functions/dataTypesValidation';\n// import { createPortal } from 'react-dom'; // 1. Imported createPortal\n\n// interface DropdownOption {\n//     label: string;\n//     value: string;\n// }\n// interface DropdownStyles {\n//     modalBoxStyles?: string\n//     optionBoxStyles?: string\n//     optionStyles?: string\n// }\n// interface DropdownModalProps {\n//     options: DropdownOption[];\n//     onSelect: (value: string) => void;\n//     disabled: boolean;\n//     seachable: boolean;\n//     inputStyles?: string;\n//     dropdownStyles?: DropdownStyles\n//     name?: string;\n//     onToggleDropdown?: (isOpen: boolean) => void;\n//     modalContainerRef?: React.RefObject<HTMLDivElement>;\n//     // You should typically pass the current value in as a prop for a controlled component\n//     initialValue?: string;\n// }\n\n// const DropdownModal: FC<DropdownModalProps> = ({\n//     options,\n//     onSelect,\n//     disabled,\n//     seachable,\n//     name,\n//     inputStyles = '',\n//     dropdownStyles,\n//     onToggleDropdown,\n//     modalContainerRef,\n//     initialValue = ''\n// }) => {\n//     const [isOpen, setIsOpen] = useState(false);\n//     // Use the initialValue prop for the controlled state\n//     const [value, setValue] = useState<string>(initialValue);\n//     const [search, setSearch] = useState<string>('');\n//     const highlightIndexRef = useRef<number>(0);\n//     const optionRefs = useRef<HTMLDivElement[]>([]);\n//     const [position, setPosition] = useState<{\n//         top: number;\n//         left: number;\n//         width: number;\n//         direction: \"up\" | \"down\";\n//     } | null>(null);\n//     const containerRef = useRef<HTMLDivElement>(null);\n//     const searchRef = useRef<HTMLInputElement>(null);\n\n//     // Sync external value changes if needed (useful if initialValue can change)\n//     useEffect(() => {\n//         setValue(initialValue);\n//     }, [initialValue]);\n\n//     useEffect(() => {\n//         const handleClickOutside = (event: MouseEvent) => {\n//             if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n//                 setIsOpen(false);\n//             }\n//         };\n//         document.addEventListener('mousedown', handleClickOutside);\n//         return () => {\n//             document.removeEventListener('mousedown', handleClickOutside);\n//         };\n//     }, []);\n\n//     const handleOptionClick = (selectedValue: string) => {\n//         setValue(selectedValue);\n//         onSelect(selectedValue);\n//         setIsOpen(false);\n//     }\n\n//     // 2. Stable click handler function for options\n//     const handleOptionSelect = (option: DropdownOption) => {\n//         handleOptionClick(option.value);\n//     }\n\n//     const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         setSearch(e.target.value)\n//         highlightIndexRef.current = 0;\n//     }\n\n//     const filteredOptions = useMemo(() => {\n//         if (!search) return options;\n//         return options.filter(option =>\n//             option.label.toLowerCase().includes(search.toLowerCase())\n//         );\n//     }, [search, options]);\n\n//     // Recalculate position on filter change if dropdown is open\n//     useEffect(() => {\n//         if (isOpen) {\n//             calculatePosition();\n//             // Reset highlight index on filtering\n//             updateHighlight(0);\n//         }\n//     }, [filteredOptions.length, isOpen])\n\n\n//     const calculatePosition = () => {\n//         const inputRect = containerRef.current?.getBoundingClientRect();\n//         // Use document.documentElement.clientHeight for viewport height fallback\n//         const modalContainer = modalContainerRef?.current || document.documentElement;\n//         const modalRect = modalContainer.getBoundingClientRect();\n\n//         if (!inputRect) return;\n\n//         // Max height of the dropdown list container\n//         const dropdownMaxHeight = 250;\n//         // Height of all rendered options (40px per option + padding/border estimate)\n//         // A better calculation might be to render the options off-screen first to measure\n//         const optionsListHeight = !isEmptyArray(filteredOptions) ? filteredOptions.length * 40 : 40\n//         const dropdownHeight = Math.min(dropdownMaxHeight, optionsListHeight + (seachable ? 40 : 0)); // +40 for search bar height\n\n\n//         const spaceBelow = modalContainer.clientHeight - inputRect.bottom;\n//         const spaceAbove = inputRect.top - modalRect.top;\n\n//         const direction =\n//             spaceBelow < dropdownHeight && spaceAbove > dropdownHeight\n//                 ? \"up\"\n//                 : \"down\";\n        \n//         const multiFactor = direction === \"down\" ? 1 : -1;\n\n//         const scrollOffset = modalContainer === document.documentElement ? window.scrollY : 0;\n\n//         const topRaw = direction === \"down\"\n//             ? inputRect.bottom + scrollOffset + 4\n//             : inputRect.top + scrollOffset - dropdownHeight - 4;\n\n//         setPosition({\n//             left: inputRect.left,\n//             width: inputRect.width,\n//             top: seachable ? topRaw + (12*multiFactor) : topRaw, // Adjust for search bar height\n//             direction,\n//         });\n//     };\n\n//     const toggleDropdown = () => {\n//         if (disabled || isEmptyArray(options)) return\n//         onToggleDropdown && onToggleDropdown(isOpen);\n//         const newState = !isOpen;\n\n//         if (newState) {\n//             calculatePosition();\n//             highlightIndexRef.current = 0;\n//             // Reset search when opening\n//             setSearch('');\n//         }\n\n//         setIsOpen(newState);\n\n//         if (newState) {\n//             // Focus search input after state transition\n//             setTimeout(() => {\n//                 searchRef.current?.focus()\n//                 updateHighlight(0);\n//             }, 10);\n//         }\n//     };\n\n//     /** update highlight without rerender */\n//     const updateHighlight = (newIndex: number) => {\n//         if (filteredOptions.length === 0) return; // <-- FIX\n//         const oldIndex = highlightIndexRef.current;\n\n//         // Remove highlight from old element\n//         optionRefs.current[oldIndex]?.classList.remove(\"bg-blue-100\");\n//         // Add highlight to new element\n//         optionRefs.current[newIndex]?.classList.add(\"bg-blue-100\");\n//         // Scroll the element into view\n//         optionRefs.current[newIndex]?.scrollIntoView({ block: \"nearest\" });\n\n//         highlightIndexRef.current = newIndex;\n//     };\n\n//     // keyboard navigation\n//     const handleKeyDown = (e: React.KeyboardEvent) => {\n//         if (!isOpen) return;\n\n//         if (e.key === \"ArrowDown\") {\n//             e.preventDefault();\n//             const next = Math.min(\n//                 highlightIndexRef.current + 1,\n//                 filteredOptions.length - 1\n//             );\n//             updateHighlight(next);\n//         }\n\n//         if (e.key === \"ArrowUp\") {\n//             e.preventDefault();\n//             const prev = Math.max(highlightIndexRef.current - 1, 0);\n//             updateHighlight(prev);\n//         }\n\n//         if (e.key === \"Enter\") {\n//             e.preventDefault();\n//             const chosen = filteredOptions[highlightIndexRef.current];\n//             if (chosen) {\n//                 handleOptionClick(chosen.value);\n//             }\n//         }\n\n//         if (e.key === \"Escape\") {\n//             setIsOpen(false);\n//             containerRef.current?.focus(); // Return focus to the main input\n//         }\n//     };\n\n//     // JSX for the dropdown panel, placed in a separate variable for portal usage\n//     const dropdownPanel = isOpen && position ? (\n//         <div\n//             className={`fixed z-10 bg-white border border-gray-300 rounded-lg shadow-xl max-h-60 overflow-hidden ${dropdownStyles?.modalBoxStyles || \"\"}`}\n//             style={{\n//                 top: position.top,\n//                 left: position.left,\n//                 width: position.width,\n//                 // Adjust margin based on direction\n//                 // marginTop: position.direction === \"up\" ? -4 : 4,\n//             }}\n//             // Prevent outside click handler from firing when clicking the panel itself\n//             // onClick={(e) => e.stopPropagation()}\n//             onMouseDown={(e) => e.stopPropagation()}\n//         >\n//             {/* ðŸ” Search box */}\n//             {\n//                 seachable && (\n//                     <div className=\"p-2 border-b border-gray-200\">\n//                         <input\n//                             ref={searchRef}\n//                             type=\"text\"\n//                             placeholder=\"Search...\"\n//                             className=\"w-full px-3 py-1 border rounded-lg bg-gray-50 outline-none\"\n//                             value={search}\n//                             onChange={handleSearchChange}\n//                             // Keep search input focused for typing\n//                             onClick={(e) => e.stopPropagation()}\n//                             onKeyDown={handleKeyDown} // Listen for keyboard navigation here too\n//                         />\n//                     </div>\n//                 )\n//             }\n//             <div className=\"max-h-48 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n//                 {/* No Options Found */}\n//                 {\n//                     isEmptyArray(filteredOptions) ? (\n//                         <div className=\"py-2 px-4 text-gray-500\">\n//                             No options found.\n//                         </div>\n//                     ) : (\n//                         filteredOptions.map((option, index) => (\n//                             <div\n//                                 key={option.value}\n//                                 onClick={() => handleOptionSelect(option)} // 2. Stable click handler\n//                                 ref={(el) => {\n//                                     if (el) optionRefs.current[index] = el;\n//                                 }}\n//                                 className={`\n//                                     py-2 px-4 cursor-pointer hover:bg-blue-200\n//                                     ${value === option.value ? 'text-blue-700 font-medium' : ''}\n//                                     ${highlightIndexRef.current === index ? 'bg-blue-100' : ''} \n//                                 `}\n//                             >\n//                                 {option.label}\n//                             </div>\n//                         ))\n//                     )\n//                 }\n//             </div>\n//         </div>\n//     ) : null;\n\n//     // Determine the portal target (document.body is the safest default)\n//     const portalTarget = document.body;\n\n//     return (\n//         <div\n//             ref={containerRef}\n//             onClick={toggleDropdown}\n//             onKeyDown={handleKeyDown}\n//             tabIndex={0} // Makes the div focusable for keyboard navigation\n//             className={`py-2 px-2 relative border-2 w-full h-12 flex justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${inputStyles}`}\n//         >\n//             <span>{options.find((opt) => opt.value === value)?.label || 'Select an Option'}</span>\n//             <svg\n//                 className={`w-4 h-4 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n//                 fill=\"none\"\n//                 stroke=\"currentColor\"\n//                 viewBox=\"0 0 24 24\"\n//                 xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n//             </svg>\n\n//             {/* 1. Use createPortal to render the dropdown outside the component's DOM */}\n//             {isOpen && portalTarget && createPortal(dropdownPanel, portalTarget)}\n//         </div>\n//     )\n// }\n\n// export default memo(DropdownModal)\n\n\n\n\n\n\n\n// import React, { FC, memo, RefObject, useEffect, useMemo, useRef, useState } from 'react'\n// import { useInputStore } from '../../../Hooks/useInputStore';\n// import { isEmptyArray } from '../../../Functions/dataTypesValidation';\n// import { createPortal } from 'react-dom';\n// import Options from './Options';\n\n// interface DropdownOption {\n//     label: string;\n//     value: string;\n// }\n// interface DropdownModalProps {\n//     options: DropdownOption[];\n//     // containerRef: RefObject<HTMLDivElement>;\n//     onSelect: (value: string) => void;\n//     disabled: boolean;\n//     seachable: boolean;\n//     inputStyles?: string;\n//     name?: string;\n//     onToggleDropdown?: (isOpen: boolean) => void;\n//     modalContainerRef?: React.RefObject<HTMLDivElement>;\n// }\n\n// const DropdownModal: FC<DropdownModalProps> = ({\n//     options,\n//     // containerRef,\n//     onSelect,\n//     disabled,\n//     seachable,\n//     name,\n//     inputStyles = '',\n//     onToggleDropdown,\n//     modalContainerRef\n// }) => {\n//     const [isOpen, setIsOpen] = useState(false);\n//     const [value, setValue] = useState<string>('')\n//     const [search, setSearch] = useState<string>('')\n//     // const [highlightIndex, setHighlightIndex] = useState<number>(0);\n//     const highlightIndexRef = useRef<number>(0);\n//     /** DOM refs for each option */\n//     const optionRefs = useRef<HTMLDivElement[]>([]);\n//     const [position, setPosition] = useState<{\n//         top: number;\n//         left: number;\n//         width: number;\n//         direction: \"up\" | \"down\";\n//     } | null>(null);\n//     const containerRef = useRef<HTMLDivElement>(null);\n//     const searchRef = useRef<HTMLInputElement>(null);\n//     useEffect(() => {\n//         const handleClickOutside = (event: MouseEvent) => {\n//             if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n//                 setIsOpen(false);\n//             }\n//         };\n//         document.addEventListener('mousedown', handleClickOutside);\n//         return () => {\n//             document.removeEventListener('mousedown', handleClickOutside);\n//         };\n//     }, []);\n//     const handleOptionClick = (selectedValue: string) => {\n//         setValue(selectedValue);\n//         onSelect(selectedValue);\n//         setIsOpen(false);\n//     }\n\n//     const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         setSearch(e.target.value)\n//         highlightIndexRef.current = 0;\n//         // setHighlightIndex(0);\n//         // const searchValue = e.target.value\n//     }\n\n//     const filteredOptions = useMemo(() => {\n//         if (!search) return options;\n//         return options.filter(option =>\n//             option.label.toLowerCase().includes(search.toLowerCase())\n//         );\n//     }, [search, options]);\n//     const toggleDropdown = () => {\n//         if (disabled || isEmptyArray(options)) return\n//         onToggleDropdown && onToggleDropdown(isOpen);\n//         const newState = !isOpen;\n//         if (newState) {\n//             calculatePosition();\n//         }\n//         setIsOpen(newState);\n//         if (newState) {\n//             // focus search input after opening\n//             setTimeout(() => {\n//                 highlightIndexRef.current = 0;\n//                 updateHighlight(0);\n//                 // setHighlightIndex(0)\n//                 searchRef.current?.focus()\n//             }, 10);\n//         }\n//     };\n\n//     /** update highlight without rerender */\n//     const updateHighlight = (newIndex: number) => {\n//         const oldIndex = highlightIndexRef.current;\n\n//         optionRefs.current[oldIndex]?.classList.remove(\"bg-blue-100\");\n//         optionRefs.current[newIndex]?.classList.add(\"bg-blue-100\");\n//         optionRefs.current[newIndex]?.scrollIntoView({ block: \"nearest\" });\n\n//         highlightIndexRef.current = newIndex;\n//     };\n\n//     const calculatePosition = () => {\n//         const inputRect = containerRef.current?.getBoundingClientRect();\n//         const modalRect = modalContainerRef?.current?.getBoundingClientRect();\n\n//         if (!inputRect || !modalRect) return;\n\n//         const dropdownHeight = Math.min(250, filteredOptions.length * 45);\n\n//         const spaceBelow = modalRect.bottom - inputRect.bottom;\n//         const spaceAbove = inputRect.top - modalRect.top;\n\n//         const direction =\n//             spaceBelow < dropdownHeight && spaceAbove > dropdownHeight\n//                 ? \"up\"\n//                 : \"down\";\n\n//         setPosition({\n//             left: inputRect.left,\n//             width: inputRect.width,\n//             top:\n//                 direction === \"down\"\n//                     ? inputRect.bottom\n//                     : inputRect.top - dropdownHeight,\n//             direction,\n//         });\n//     };\n\n//     // keyboard navigation\n//     const handleKeyDown = (e: React.KeyboardEvent) => {\n//         if (!isOpen) return;\n\n//         if (e.key === \"ArrowDown\") {\n//             e.preventDefault();\n//             // highlightIndexRef.current += (highlightIndexRef.current < filteredOptions.length - 1) ? 1 : 0;\n//             const next = Math.min(\n//                 highlightIndexRef.current + 1,\n//                 filteredOptions.length - 1\n//             );\n//             updateHighlight(next);\n//             // setHighlightIndex((prev) =>\n//             //     prev < filteredOptions.length - 1 ? prev + 1 : prev\n//             // );\n//         }\n\n//         if (e.key === \"ArrowUp\") {\n//             e.preventDefault();\n//             // highlightIndexRef.current -= (highlightIndexRef.current > 0) ? 1 : 0;\n//             const prev = Math.max(highlightIndexRef.current - 1, 0);\n//             updateHighlight(prev);\n//             // setHighlightIndex((prev) => (prev > 0 ? prev - 1 : 0));\n//         }\n\n//         if (e.key === \"Enter\") {\n//             e.preventDefault();\n//             // const chosen = filteredOptions[highlightIndex];\n//             const chosen = filteredOptions[highlightIndexRef.current];\n//             if (chosen) {\n//                 handleOptionClick(chosen.value);\n//             }\n//         }\n//     };\n//     return (\n//         <div\n//             ref={containerRef}\n//             onClick={(e) => {\n//                 e.stopPropagation();  // prevent closing on option click bubbling\n//                 toggleDropdown();\n//             }}\n//             onKeyDown={handleKeyDown}\n//             tabIndex={0}\n//             className={`py-2 px-2 relative border-2 w-full h-12 flex justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${inputStyles}`}\n//         >\n//             <span>{options.find((opt) => opt.value === value)?.label || ''}</span>\n//             <svg\n//                 className={`w-4 h-4 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n//                 fill=\"none\"\n//                 stroke=\"currentColor\"\n//                 viewBox=\"0 0 24 24\"\n//                 xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n//             </svg>\n//             {\n//                 isOpen && filteredOptions && (\n//                     <div\n//                         className=\"fixed z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-hidden\"\n//                         style={{\n//                             top: position?.top,\n//                             left: position?.left,\n//                             width: position?.width,\n//                             marginTop: position?.direction === \"up\" ? -4 : 4,\n//                         }}\n//                         onClick={(e) => e.stopPropagation()}\n//                     >\n//                         {/* ðŸ” Search box */}\n//                         {\n//                             seachable ? (\n//                                 <div className=\"p-2 border-b border-gray-200\">\n//                                     <input\n//                                         ref={searchRef}\n//                                         type=\"text\"\n//                                         placeholder=\"Search...\"\n//                                         className=\"w-full px-3 py-1 border rounded-lg bg-gray-50 outline-none\"\n//                                         // value={search}\n//                                         onChange={handleSearchChange}\n//                                         onClick={(e) => e.stopPropagation()}\n//                                     />\n//                                 </div>\n//                             ) : null\n//                         }\n//                         <div className=\"max-h-48 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n//                             {\n//                                 isEmptyArray(filteredOptions) ? (\n//                                     <div className=\"p-4 text-gray-500\">\n//                                         No options found.\n//                                     </div>\n//                                 ) : null\n//                             }\n//                             {filteredOptions.map((option, index) => (\n//                                 <div\n//                                     key={option.value}\n//                                     onClick={(e) => {\n//                                         e.stopPropagation();\n//                                         handleOptionClick(option.value)\n//                                     }}\n//                                     ref={(el) => {\n//                                         if (el) optionRefs.current[index] = el;\n//                                     }}\n\n//                                     className={`\n//                                         py-2 px-4 hover:bg-blue-200\n//                                         ${value === option.value ? 'text-blue-700 font-medium pointer-events-none' : ''}\n//                                     `}\n//                                 >\n//                                     {option.label}\n//                                 </div>\n//                             ))}\n//                         </div>\n//                     </div>\n//                     // , document.body\n//                 )\n//             }\n//         </div>\n//     )\n// }\n\n// export default memo(DropdownModal)\n\n\n\n// <Options\n//     handleOptionClick={handleOptionClick}\n//     index={index}\n//     name={name}\n//     optionLabel={option.label}\n//     optionValue={option.value}\n//     value={value}\n//     highlightIndexRef={highlightIndexRef}\n// />\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, memo, RefObject, useEffect, useMemo, useRef, useState } from 'react'\n// import { useInputStore } from '../../../Hooks/useInputStore';\n// import { isEmptyArray } from '../../../Functions/dataTypesValidation';\n\n// interface DropdownOption {\n//     label: string;\n//     value: string;\n// }\n// interface DropdownModalProps {\n//     options: DropdownOption[];\n//     // containerRef: RefObject<HTMLDivElement>;\n//     onSelect: (value: string) => void;\n//     disabled: boolean;\n//     seachable: boolean;\n//     inputStyles?: string;\n//     onToggleDropdown?: (isOpen: boolean) => void;\n// }\n\n// const DropdownModal: FC<DropdownModalProps> = ({\n//     options,\n//     // containerRef,\n//     onSelect,\n//     disabled,\n//     seachable,\n//     inputStyles = '',\n//     onToggleDropdown,\n// }) => {\n//     const [isOpen, setIsOpen] = useState(false);\n//     const [value, setValue] = useState<string>('')\n//     const [search, setSearch] = useState<string>('')\n//     const [highlightIndex, setHighlightIndex] = useState<number>(0);\n//     const containerRef = useRef<HTMLDivElement>(null);\n//     const searchRef = useRef<HTMLInputElement>(null);\n//     useEffect(() => {\n//         const handleClickOutside = (event: MouseEvent) => {\n//             if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n//                 setIsOpen(false);\n//             }\n//         };\n//         document.addEventListener('mousedown', handleClickOutside);\n//         return () => {\n//             document.removeEventListener('mousedown', handleClickOutside);\n//         };\n//     }, []);\n//     const handleOptionClick = (selectedValue: string) => {\n//         setValue(selectedValue);\n//         onSelect(selectedValue);\n//         setIsOpen(false);\n//     }\n\n//     const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         setSearch(e.target.value)\n//         setHighlightIndex(0);\n//         // const searchValue = e.target.value\n//     }\n\n//     const filteredOptions = useMemo(() => {\n//         if (!search) return options;\n//         return options.filter(option =>\n//             option.label.toLowerCase().includes(search.toLowerCase())\n//         );\n//     }, [search, options]);\n//     const toggleDropdown = () => {\n//         if (disabled || isEmptyArray(options)) return\n//         onToggleDropdown && onToggleDropdown(isOpen);\n//         const newState = !isOpen;\n//         setIsOpen(newState);\n//         if (newState) {\n//             // focus search input after opening\n//             setTimeout(() => {\n//                 setHighlightIndex(0)\n//                 searchRef.current?.focus()\n//             }, 10);\n//         }\n//     };\n\n//     // const calculatePosition = () => {\n//     //     const rect = containerRef.current?.getBoundingClientRect();\n//     //     if (!rect) return;\n\n//     //     const spaceBelow = window.innerHeight - rect.bottom;\n//     //     const spaceAbove = rect.top;\n\n//     //     const dropdownHeight = Math.min(250, filteredOptions.length * 45);\n\n//     //     const direction = spaceBelow < dropdownHeight && spaceAbove > dropdownHeight\n//     //         ? \"up\"\n//     //         : \"down\";\n\n//     //     setPosition({\n//     //         left: rect.left,\n//     //         width: rect.width,\n//     //         top: direction === \"down\" ? rect.bottom : rect.top - dropdownHeight,\n//     //         direction,\n//     //     });\n//     // };\n\n//     // keyboard navigation\n//     const handleKeyDown = (e: React.KeyboardEvent) => {\n//         if (!isOpen) return;\n\n//         if (e.key === \"ArrowDown\") {\n//             e.preventDefault();\n//             setHighlightIndex((prev) =>\n//                 prev < filteredOptions.length - 1 ? prev + 1 : prev\n//             );\n//         }\n\n//         if (e.key === \"ArrowUp\") {\n//             e.preventDefault();\n//             setHighlightIndex((prev) => (prev > 0 ? prev - 1 : 0));\n//         }\n\n//         if (e.key === \"Enter\") {\n//             e.preventDefault();\n//             const chosen = filteredOptions[highlightIndex];\n//             if (chosen) {\n//                 handleOptionClick(chosen.value);\n//             }\n//         }\n//     };\n//     return (\n//         <div\n//             ref={containerRef}\n//             onClick={toggleDropdown}\n//             onKeyDown={handleKeyDown}\n//             tabIndex={0}\n//             className={`py-2 px-2 relative border-2 w-full h-12 flex justify-between items-center rounded-lg outline-none bg-transparent cursor-pointer ${inputStyles}`}\n//         >\n//             <span>{options.find((opt) => opt.value === value)?.label || ''}</span>\n//             <svg\n//                 className={`w-4 h-4 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n//                 fill=\"none\"\n//                 stroke=\"currentColor\"\n//                 viewBox=\"0 0 24 24\"\n//                 xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n//             </svg>\n//             {\n//                 isOpen && filteredOptions && (\n//                     <div\n//                         // className=\"absolute z-10 left-0 top-full mt-1 w-full bg-white border-gray-300 border rounded-lg shadow-lg max-h-48 overflow-y-auto\"\n//                         className=\"absolute left-0 z-10 top-full mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-hidden\"\n//                         onClick={(e) => e.stopPropagation()}\n//                     >\n//                         {/* ðŸ” Search box */}\n//                         {\n//                             seachable ? (\n//                                 <div className=\"p-2 border-b border-gray-200\">\n//                                     <input\n//                                         ref={searchRef}\n//                                         type=\"text\"\n//                                         placeholder=\"Search...\"\n//                                         className=\"w-full px-3 py-1 border rounded-lg bg-gray-50 outline-none\"\n//                                         // value={search}\n//                                         onChange={handleSearchChange}\n//                                         onClick={(e) => e.stopPropagation()}\n//                                     />\n//                                 </div>\n//                             ) : null\n//                         }\n//                         <div className=\"max-h-48 overflow-y-auto\">\n//                             {\n//                                 isEmptyArray(filteredOptions) ? (\n//                                     <div className=\"p-4 text-gray-500\">\n//                                         No options found.\n//                                     </div>\n//                                 ) : null\n//                             }\n//                             {filteredOptions.map((option, index) => (\n//                                 <div\n//                                     key={option.value}\n//                                     onClick={() => handleOptionClick(option.value)}\n//                                     className={`\n//                                         ${(highlightIndex == index) ? 'bg-blue-100' : ''} py-2 px-4 hover:bg-blue-200\n//                                         ${value === option.value ? 'text-blue-700 font-medium pointer-events-none' : ''}\n//                                     `}\n//                                 >\n//                                     {option.label}\n//                                 </div>\n//                             ))}\n//                         </div>\n//                     </div>\n//                 )\n//             }\n//         </div>\n//     )\n// }\n\n// export default memo(DropdownModal)\n","export function shallowOrDeepEqual(a: any, b: any): boolean {\n    if (a === b) return true;\n\n    // handle null vs undefined\n    if (a == null || b == null) return a === b;\n\n    // different types\n    if (typeof a !== typeof b) return false;\n\n    // primitives handled above\n    if (typeof a !== \"object\") return a === b;\n\n    // Arrays\n    if (Array.isArray(a)) {\n        if (!Array.isArray(b) || a.length !== b.length) return false;\n        for (let i = 0; i < a.length; i++) {\n            if (!shallowOrDeepEqual(a[i], b[i])) return false;\n        }\n        return true;\n    }\n\n    // Objects\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    for (let key of aKeys) {\n        if (!b.hasOwnProperty(key)) return false;\n        if (!shallowOrDeepEqual(a[key], b[key])) return false;\n    }\n\n    return true;\n}\n","import { forwardRef, memo, useImperativeHandle, useRef } from \"react\";\r\n\r\nexport interface RotatingDropdownRef {\r\n    open: () => void,\r\n    close: () => void\r\n}\r\n\r\nconst RotatingDropdown = forwardRef<RotatingDropdownRef, {}>((_, ref) => {\r\n    const iconRef = useRef<SVGSVGElement>(null);\r\n    useImperativeHandle(ref, () => ({\r\n        open: () => {\r\n            iconRef.current?.classList.add('rotate-180')\r\n        },\r\n        close: () => {\r\n            iconRef.current?.classList.remove('rotate-180')\r\n        }\r\n    }))\r\n    return (\r\n        <svg\r\n            ref={iconRef}\r\n            className={`w-4 h-4 transition-transform duration-200`}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n        </svg>\r\n    )\r\n})\r\n\r\nexport default memo(RotatingDropdown)\r\n","import React, { memo, useEffect, useLayoutEffect, useMemo, useRef, useState } from \"react\"\r\nimport { useDropdownNavigation } from \"../hooks/useDropdownNavigation\"\r\nimport { useDropdownPosition } from \"../hooks/useDropdownPosition\"\r\nimport DropdownItem from \"./DropdownItem\";\r\n\r\nexport interface DropdownOption {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nexport interface BaseDropdownProps {\r\n  open: boolean\r\n  options: DropdownOption[] | string[]\r\n  onSelect: (item: string | DropdownOption) => void\r\n  close: () => void\r\n  inputRef: React.RefObject<HTMLDivElement | null>\r\n  dropdownOffset?: number\r\n  renderItem: (\r\n    item: string | DropdownOption,\r\n    index: number,\r\n    highlighted: boolean,\r\n    ref: (el: HTMLDivElement | null) => void\r\n  ) => React.ReactNode\r\n  searchable?: boolean\r\n  onSearchChange?: (v: string) => void\r\n  // position?: {\r\n  //   top?: number\r\n  //   bottom?: number\r\n  //   left?: number\r\n  //   width?: number\r\n  // }\r\n  className?: string\r\n}\r\n\r\nconst BaseDropdown: React.FC<BaseDropdownProps> = ({\r\n  open,\r\n  options,\r\n  onSelect,\r\n  close,\r\n  renderItem,\r\n  inputRef,\r\n  dropdownOffset = 0,\r\n  searchable,\r\n  onSearchChange,\r\n  // position,\r\n  className = \"\",\r\n}) => {\r\n  const [search, setSearch] = useState<string>('');\r\n  const modalRef = useRef<HTMLDivElement>(null)\r\n  const searchRef = useRef<HTMLInputElement>(null)\r\n  const { position, calculatePosition } = useDropdownPosition({\r\n    modalRef: modalRef,\r\n    fixedRef: inputRef,\r\n    isOpen: open,\r\n    dropdownOffset: dropdownOffset\r\n  })\r\n\r\n  const filteredOptions: (string | DropdownOption)[] = useMemo(() => {\r\n    if (!search) return options;\r\n    const lowered = search.toLowerCase();\r\n\r\n    return options.filter((opt) => {\r\n      const label = (opt as DropdownOption).label.toLowerCase();\r\n      return label.indexOf(lowered) !== -1;\r\n    });\r\n  }, [search, options]);\r\n\r\n  const {\r\n    highlightIndexRef,\r\n    handleKeyDown,\r\n    registerOption,\r\n    reset,\r\n  } = useDropdownNavigation(filteredOptions, close)\r\n\r\n  useLayoutEffect(() => {\r\n    if (open) {\r\n      calculatePosition()\r\n      reset()\r\n    }\r\n  }, [open, options.length])\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearch(e.target.value)\r\n    onSearchChange?.(e.target.value)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (!open) return\r\n\r\n    const handler = (e: KeyboardEvent) => {\r\n      // if (!e.code.includes('Arrow') && !e.code.includes('Enter')) return\r\n      if (\r\n        !e.code.startsWith(\"Arrow\") &&\r\n        e.code !== \"Enter\" &&\r\n        e.code !== \"Escape\"\r\n      ) return\r\n      return handleKeyDown(e, onSelect)\r\n    }\r\n\r\n    window.addEventListener(\"keydown\", handler)\r\n    return () => window.removeEventListener(\"keydown\", handler)\r\n  }, [open, options, onSelect])\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n\r\n    searchRef.current?.focus();\r\n\r\n    const handler = () => calculatePosition();\r\n\r\n    window.addEventListener(\"resize\", handler);\r\n    window.addEventListener(\"scroll\", handler, true);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handler);\r\n      window.removeEventListener(\"scroll\", handler, true);\r\n    };\r\n  }, [open]);\r\n\r\n  if (!open) return null\r\n\r\n  return (\r\n    <div\r\n      ref={modalRef}\r\n      className={`fixed z-50 bg-white border rounded-lg shadow-xl ${className}`}\r\n      style={position}\r\n      onMouseDown={(e) => e.stopPropagation()}\r\n    >\r\n      {searchable && (\r\n        <div className=\"p-2 border-b\">\r\n          <input\r\n            ref={searchRef}\r\n            value={search}\r\n            onChange={(e) => handleSearch(e)}\r\n            className=\"w-full px-3 py-1 border rounded\"\r\n            placeholder=\"Search...\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"max-h-60 overflow-y-auto\">\r\n        {filteredOptions.length === 0 ? (\r\n          <div className=\"px-4 py-2 text-gray-500\">\r\n            No options found\r\n          </div>\r\n        ) : (\r\n          filteredOptions.map((item, index) =>\r\n            <DropdownItem\r\n              key={typeof item === \"string\" ? item : item.value}\r\n              item={item}\r\n              index={index}\r\n              highlighted={highlightIndexRef.current === index}\r\n              register={registerOption(index)}\r\n              renderItem={renderItem}\r\n            />\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(BaseDropdown)","import { useRef } from \"react\"\r\nimport type { DropdownOption } from \"../components/BaseDropdown\"\r\n\r\nexport function useDropdownNavigation(options: (DropdownOption | string)[], close: () => void) {\r\n  const highlightIndexRef = useRef(0)\r\n  const optionRefs = useRef<HTMLDivElement[]>([])\r\n\r\n  const reset = () => {\r\n    highlightIndexRef.current = 0\r\n  }\r\n\r\n  const updateHighlight = (next: number) => {\r\n    if (!options.length) return\r\n\r\n    const prev = highlightIndexRef.current\r\n    if (prev === next) return\r\n\r\n    optionRefs.current[prev]?.classList.remove(\"bg-gray-100\")\r\n    optionRefs.current[next]?.classList.add(\"bg-gray-100\")\r\n    optionRefs.current[next]?.scrollIntoView({ block: \"nearest\" })\r\n\r\n    highlightIndexRef.current = next\r\n  }\r\n\r\n  const handleKeyDown = (\r\n    e: KeyboardEvent | React.KeyboardEvent,\r\n    onSelect: (item: string | DropdownOption) => void\r\n  ) => {\r\n    if (!options.length) return\r\n\r\n    if (e.key === \"ArrowDown\") {\r\n      e.preventDefault()\r\n      updateHighlight(\r\n        Math.min(highlightIndexRef.current + 1, options.length - 1)\r\n      )\r\n    }\r\n\r\n    if (e.key === \"ArrowUp\") {\r\n      e.preventDefault()\r\n      updateHighlight(\r\n        Math.max(highlightIndexRef.current - 1, 0)\r\n      )\r\n    }\r\n\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault()\r\n      const item = options[highlightIndexRef.current]\r\n      item && onSelect(item)\r\n    }\r\n\r\n    if (e.key === \"Escape\") {\r\n      reset()\r\n      close()\r\n    }\r\n  }\r\n\r\n  const registerOption = (index: number) => (el: HTMLDivElement | null) => {\r\n    if (el) optionRefs.current[index] = el\r\n  }\r\n\r\n  return {\r\n    highlightIndexRef,\r\n    handleKeyDown,\r\n    registerOption,\r\n    reset,\r\n  }\r\n}\r\n","import { useLayoutEffect, useState } from \"react\"\r\n\r\ninterface PositionProp {\r\n    fixedRef: React.RefObject<HTMLDivElement | null>\r\n    modalRef: React.RefObject<HTMLDivElement | null>\r\n    dropdownOffset?: number\r\n    isOpen: boolean\r\n}\r\n\r\nexport const useDropdownPosition = ({ fixedRef, modalRef, dropdownOffset = 0, isOpen }: PositionProp) => {\r\n    const [position, setPosition] = useState<{ top?: number; left?: number; width?: number; } | undefined>(undefined);\r\n    useLayoutEffect(() => {\r\n        if (isOpen) {\r\n            calculatePosition()\r\n        }\r\n    }, [isOpen])\r\n    const calculatePosition = () => {\r\n        const inputRect = fixedRef.current?.getBoundingClientRect();\r\n        const modalRect = modalRef.current?.getBoundingClientRect();\r\n        const innerHeight = window.innerHeight\r\n\r\n        if (!inputRect || !modalRect) return;\r\n\r\n\r\n        const spaceBelow = innerHeight - inputRect.bottom;\r\n        // const spaceAbove = inputRect.top\r\n\r\n\r\n        const direction =\r\n            spaceBelow > modalRect.height\r\n                ? \"down\"\r\n                : \"up\"\r\n\r\n\r\n        // const scrollOffset = window.scrollY\r\n        const top = direction === \"down\"\r\n            ? inputRect.bottom + (dropdownOffset)\r\n            : inputRect.top - modalRect.height - (dropdownOffset)\r\n\r\n        setPosition({\r\n            left: inputRect.left,\r\n            width: inputRect.width,\r\n            top\r\n        });\r\n    }\r\n\r\n    return { position, calculatePosition }\r\n}","import React, { memo } from 'react'\r\nimport type { BaseDropdownProps, DropdownOption } from './BaseDropdown'\r\n\r\ninterface DropdownItemProps {\r\n  item: string | DropdownOption\r\n  index: number\r\n  highlighted: boolean\r\n  register: (el: HTMLDivElement | null) => void\r\n  renderItem: BaseDropdownProps[\"renderItem\"]\r\n}\r\n\r\nconst DropdownItem : React.FC<DropdownItemProps> = ({ item, index, highlighted, register, renderItem }) => {\r\n  return (\r\n    <>\r\n        {renderItem(item, index, highlighted, register)}\r\n      </>\r\n  )\r\n}\r\n\r\nexport default memo(DropdownItem)\r\n","import { DropdownStyleProp, InputStyle } from \"src/typeDeclaration/stylesProps\";\r\n\r\nexport const DEFAULT_DROPDOWN_STYLE: InputStyle & Pick<DropdownStyleProp, 'dropdownOffset'> = {\r\n  borderWidth: '2px',\r\n  boxHeight: '8px',\r\n  boxWidth: '100%',\r\n  placeHolderOffset: '16px',\r\n  dropdownOffset: 5,\r\n}","import React, { memo, useMemo } from 'react'\nimport { camelCase, fromCamelCase } from '../functions/camelCase';\nimport { isArray, isPlainObject } from '../functions/dataTypesValidation';\nimport StrInput from './StrInput';\nimport NumInput from './NumInput';\nimport ArrayContainer from './ArrayContainer';\nimport ObjectContainer from './ObjContainer';\nimport { useNameScope } from '../context/NameScopeContext';\nimport type { InputProps } from '../typeDeclaration/inputProps';\nimport { inputStore } from 'src/store/InputStore';\n\ninterface FullAutoInputProps {\n    initialData?: object\n    exclusionKeys?: string | string[]\n    onInputChange?: () => void\n    sharedStyles?: object\n    name?: undefined\n    bgColor?: string\n}\n\ntype AutoInputProps = Omit<FullAutoInputProps, \"sharedStyles\" | \"bgColor\" | \"onInputChange\">\n\nconst AutoInput: React.FC<AutoInputProps> = ({ initialData, exclusionKeys }) => {\n    // const setInputValue = useInputStore((state) => state.setInputValue)\n    // const { name, ...rest } = props\n    const scope = useNameScope() ?? ''\n    const excludedKeys = useMemo(() => {\n        if (!exclusionKeys) return [];\n        return isArray(exclusionKeys)\n            ? exclusionKeys.map(camelCase)\n            : [camelCase(exclusionKeys)];\n    }, [exclusionKeys]);\n    const inputFields = useMemo(() => {\n        return initialData ?? inputStore.getSnapshot().inputData;\n    }, [initialData]);\n    if (!inputFields) return null\n\n    const renderField = (\n        key: string,\n        value: any,\n        scope: string\n    ): React.ReactNode => {\n        const modifiedKey = scope ? `${scope}.${key}` : key\n        const commonProps : InputProps = {\n            initialValue: value,\n            name: key,\n            placeholder: fromCamelCase(key),\n        }\n\n        // primitive\n        if (typeof value === 'string') {\n            return <StrInput key={modifiedKey} {...commonProps} />\n        }\n\n        if (typeof value === 'number') {\n            return <NumInput key={modifiedKey} {...commonProps} />\n        }\n\n        // array\n        if (Array.isArray(value)) {\n            return (\n                <ArrayContainer\n                    key={key}\n                    name={key}\n                    items={value}\n                    getKey={(_, i) => `${modifiedKey}.${i}`}\n                >\n                    {(item) => (\n                        <AutoInput initialData={item} />\n                    )}\n                </ArrayContainer>\n            )\n        }\n\n        // object\n        if (isPlainObject(value)) {\n            return (\n                <ObjectContainer key={modifiedKey} name={key}>\n                    <AutoInput initialData={value} />\n                </ObjectContainer>\n            )\n        }\n\n        return null\n    }\n\n    return (\n        <>\n            {\n                Object.entries(inputFields).map(([key, value]) => {\n                    if (excludedKeys.includes(key)) return null;\n\n                    return renderField(key, value, scope)\n                })\n            }\n        </>\n    )\n}\n\n// 1. Export the memoized component\nconst MemoizedAutoInput = memo(AutoInput)\n\n// 2. Set the displayName on the exported component\nMemoizedAutoInput.displayName = 'AutoInput';\n\nexport default MemoizedAutoInput;\n\n// export default memo(AutoInput)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { memo, useEffect, useMemo, useState } from 'react'\n// import { camelCase, fromCamelCase } from '../functions/camelCase';\n// import { isArray } from '../functions/dataTypesValidation';\n// import StrInput from './StrInput';\n// import NumInput from './NumInput';\n// import { inputStore } from '../InputStore';\n// interface mongoProps {\n//     key: string\n//     value: string | number\n// }\n\n// interface FullAutoInputProps {\n//     initialData?: object\n//     exclusionKeys?: string | string[]\n//     onInputChange?: () => void\n//     sharedStyles?: object\n//     name?: undefined\n//     bgColor? : string\n// }\n\n// type AutoInputProps = Omit<FullAutoInputProps, \"sharedStyles\" | \"bgColor\" | \"onInputChange\">\n\n// const AutoInput: React.FC<AutoInputProps> = ({ initialData, exclusionKeys, ...props }) => {\n//     // const setInputValue = useInputStore((state) => state.setInputValue)\n//     const { name, ...rest } = props\n//     const excludedKeys = useMemo(() => {\n//         if (!exclusionKeys) return [];\n//         return isArray(exclusionKeys)\n//             ? exclusionKeys.map(camelCase)\n//             : [camelCase(exclusionKeys)];\n//     }, [exclusionKeys]);\n//     const inputFields = useMemo<mongoProps[]>(() => {\n//         const data = initialData ?? inputStore.getSnapshot().inputData;\n\n//         if (!data) return [];\n\n//         if (!initialData) return Object.entries(data).map(([key, value]) => ({ key, value }));\n\n//         // Also set the data in store when `initialData` is present\n//         const normalized = Object.fromEntries(\n//             Object.entries(initialData).map(([key, val]) => [key, val === 0 ? \"\" : val])\n//         );\n//         // useInputStore.getState().setInitialInputData(normalized);\n//         inputStore.setInitialData(normalized)\n\n//         return Object.entries(normalized).map(([key, value]) => ({ key, value }));\n//     }, [initialData]);\n//     return (\n//         <>\n//             {\n//                 inputFields.map(({ key, value }) => {\n//                     if (excludedKeys.includes(key)) return null;\n\n//                     const commonProps = {\n//                         name: key,\n//                         placeholder: fromCamelCase(key),\n//                         sharedStyles: (props as FullAutoInputProps).sharedStyles,\n//                         bgColor: (props as FullAutoInputProps).bgColor,\n//                         ...rest\n//                     };\n\n//                     return typeof value === \"number\" ? (\n//                         <NumInput key={key} {...commonProps} />\n//                     ) : (\n//                         <StrInput key={key} {...commonProps} />\n//                     );\n//                 })\n//             }\n//         </>\n//     )\n// }\n\n// // 1. Export the memoized component\n// const MemoizedAutoInput = memo(AutoInput)\n\n// // 2. Set the displayName on the exported component\n// MemoizedAutoInput.displayName = 'AutoInput';\n\n// export default MemoizedAutoInput;\n\n// // export default memo(AutoInput)\n","import React, { type FC, forwardRef, memo, useEffect } from 'react';\nimport InputTemplate from './InputTemplate';\nimport { DateString, InputRefProps, type InputProps } from '../typeDeclaration/inputProps';\nimport { useComputedExpression } from '../hooks/useComputedExpression';\nimport { useFieldName } from '../hooks/useFieldName';\nimport { handleInitialValue } from '../Utils/setInitialValue';\nimport { inputStore } from 'src/store/InputStore';\nimport Input from './Input';\n\ninterface DateProps extends InputProps {\n    onDateSelect?: (date: string) => void\n    defaultTodayDate?: boolean\n    defaultDate?: DateString\n}\n\nconst DateInput: FC<DateProps> = forwardRef<InputRefProps, DateProps>(({\n    placeholder,\n    onDateSelect,\n    onEnterPress = () => { },\n    children,\n    defaultTodayDate = true,\n    disabled = false,\n    style,\n    hideElement = false,\n    containerStyles = \"\",\n    inputStyles = \"\",\n    placeholderStyles = \"\",\n    defaultDate,\n    name,\n}, ref) => {\n    const modifiedName = useFieldName(placeholder, name)\n    const todayDate = new Date().toISOString().split('T')[0]\n\n    const initialDate = defaultTodayDate ? todayDate : defaultDate ?? \"\"\n    useEffect(() => {\n        handleInitialValue(modifiedName, initialDate)\n    }, [])\n    const handleDateSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const newDate = e.target.value;\n        inputStore.setValue(modifiedName, newDate)\n        // (props as FullInputProps).onInputChange(name!, newDate)\n        onDateSelect?.(newDate)\n    };\n\n    const disabledValue: boolean = useComputedExpression(disabled)\n\n    const hiddenValue: boolean = useComputedExpression(hideElement)\n\n    if (hiddenValue) return null\n\n    return (\n        <div className={`relative ${containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\n            <InputTemplate\n                name={modifiedName}\n                placeholder={placeholder}\n                style={style}\n                childType='input'\n                placeholderStyles={placeholderStyles}\n            >\n                <Input\n                    ref={ref}\n                    name={modifiedName}\n                    placeholder={placeholder}\n                    inputInlineStyle={style?.inputInlineStyle}\n                    disabled={disabledValue}\n                    type='date'\n                    handleChange={handleDateSelect}\n                    inputStyles={inputStyles}\n                // {...rest}\n                />\n            </InputTemplate>\n            {children}\n        </div>\n    );\n});\n\nconst memoizedDateInput = memo(DateInput)\nmemoizedDateInput.displayName = 'DateInput'\nexport default memoizedDateInput\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { type FC, memo, useEffect } from 'react';\n// // import PickDate from './PickDate';\n// import { getDate } from '../functions/dateHelper';\n// import { useInputStore } from '../hooks/useInputStore';\n// import InputTemplate from './InputTemplate';\n// import { type InputProps } from '../typeDeclaration/inputProps';\n// import { useComputedExpression } from '../hooks/useComputedExpression';\n// import { useFieldName } from '../hooks/useFieldName';\n// import { handleInitialValue } from '../Utils/setInitialValue';\n// import { inputStore } from 'src/store/InputStore';\n\n// interface DateProps extends InputProps {\n//     onDateSelect?: (date: string) => void\n//     defaultTodayDate?: boolean\n//     defaultDate?: string\n// }\n\n// const DateInput: FC<DateProps> = ({\n//     placeholder,\n//     onDateSelect,\n//     onEnterPress = () => { },\n//     defaultTodayDate = true,\n//     disabled = false,\n//     hideElement = false,\n//     containerStyles = \"\",\n//     inputStyles = \"\",\n//     placeholderStyles = \"\",\n//     defaultDate,\n//     name,\n//     ...props\n// }) => {\n//     const modifiedName = useFieldName(placeholder, name)\n//     const todayDate = new Date().toISOString().split('T')[0]\n\n//     const initialDate = defaultTodayDate ? todayDate : \"\"\n//     useEffect(() => {\n//         handleInitialValue(modifiedName, initialDate)\n//     }, [])\n//     const handleDateSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n//         const newDate = e.target.value;\n//         inputStore.setValue(modifiedName, newDate)\n//         // (props as FullInputProps).onInputChange(name!, newDate)\n//         onDateSelect?.(newDate)\n//     };\n\n//     const value = useInputStore(modifiedName) ?? \"\"\n\n//     const disabledValue: boolean = useComputedExpression(disabled)\n\n//     const hiddenValue: boolean = useComputedExpression(hideElement)\n\n//     return (\n//         <>\n//             <InputTemplate\n//                 name={modifiedName}\n//                 value={value}\n//                 handleChange={handleDateSelect}\n//                 onEnterPress={onEnterPress}\n//                 placeholder={placeholder}\n//                 disabled={disabledValue}\n//                 hideElement={hiddenValue}\n//                 type='date'\n//                 containerStyles={containerStyles}\n//                 inputStyles={inputStyles}\n//                 placeholderStyles={placeholderStyles}\n//                 {...props}\n//             />\n//         </>\n//     );\n// };\n\n// const memoizedDateInput = memo(DateInput)\n// memoizedDateInput.displayName = 'DateInput'\n// export default memoizedDateInput\n\n// export default memo(DateInput);\n{/* <div className=\"relative w-full group border-2 rounded-lg\">\n    <input\n        type=\"date\"\n        value={value}\n        // defaultValue={initialDate}\n        onChange={e => handleDateSelect(e.target.value)}\n        id='customDate'\n        className={'py-2 px-2 w-max bg-transparent appearance-none peer'} />\n    <label\n        htmlFor={'customDate'}\n        className=\"absolute left-5 px-1 bg-gray-400 duration-300 transform -translate-y-6 scale-75 top-2 origin-[0] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-[85%] peer-focus:-translate-y-6\"\n        >\n        {placeholder}\n    </label>\n</div> */}\n{/* <PickDate onDateSelect={handleDateSelect} id={'customDate'} dateStyles={'py-2 px-2 w-full bg-transparent appearance-none peer'} /> */ }","import  { type FC, memo, useEffect } from 'react';\nimport InputTemplate from './InputTemplate';\nimport { useFieldName } from '../hooks/useFieldName';\nimport { handleInitialValue } from '../Utils/setInitialValue';\nimport { useComputedExpression } from 'src/hooks/useComputedExpression';\nimport { InputStyle } from 'src/typeDeclaration/stylesProps';\nimport Input from './Input';\n\ninterface FullDisabledProps {\n    initialValue?: string;\n    containerStyles?: string;\n    children?: React.ReactNode;\n    inputStyles?: string;\n    placeholderStyles?: string;\n    placeholder: string;\n    style?: Partial<InputStyle>\n    privacy?: boolean\n    hideElement?: string | boolean\n    onChange?: (value: string | number) => void\n    name?: string;\n}\n\ntype DisabledInputProps = Omit<FullDisabledProps, \"isArrayObject\" | \"arrayData\" | \"onInputChange\">;\n\nconst DisabledInput: FC<DisabledInputProps> = ({\n    initialValue = \"\",\n    containerStyles = \"\",\n    privacy = false,\n    children,\n    style,\n    placeholder,\n    hideElement = false,\n    placeholderStyles,\n    name,\n    ...rest\n}) => {\n    const modifiedName = useFieldName(placeholder, name)\n\n    useEffect(() => {\n        handleInitialValue(modifiedName, initialValue)\n    }, [])\n\n    const hiddenValue: boolean = useComputedExpression(hideElement)\n\n    if (hiddenValue) {\n        return null;\n    }\n\n\n    return (\n        <div className={`relative ${containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\n            <InputTemplate\n                name={modifiedName}\n                placeholder={placeholder}\n                style={style}\n                childType='input'\n                placeholderStyles={placeholderStyles}\n            >\n                <Input\n                    name={modifiedName}\n                    placeholder={placeholder}\n                    inputInlineStyle={style?.inputInlineStyle}\n                    disabled={true}\n                    type={privacy ? 'password' : 'text'}\n                    fixedValue={initialValue}\n                    {...rest}\n                />\n            </InputTemplate>\n            {children}\n        </div>\n    );\n};\n\n// 1. Export the memoized component\nconst MemoizedDisabledInput = memo(DisabledInput)\n\n// 2. Set the displayName on the exported component\nMemoizedDisabledInput.displayName = 'DisabledInput';\n\nexport default MemoizedDisabledInput;\n\n\n\n\n\n\n\n\n// import  { type FC, memo, useEffect } from 'react';\n// import InputTemplate from './InputTemplate';\n// import { useFieldName } from '../hooks/useFieldName';\n// import { handleInitialValue } from '../Utils/setInitialValue';\n\n// interface FullDisabledProps {\n//     initialValue?: string;\n//     containerStyles?: string;\n//     inputStyles?: string;\n//     placeholderStyles?: string;\n//     placeholder: string;\n//     onChange?: (value: string | number, data: string | null) => void\n//     name?: string;\n//     isArrayObject?: boolean;\n//     arrayData?: {\n//         arrayName: string;\n//         arrayIndex: number;\n//     };\n//     onInputChange: (name: string, value: string) => void;\n// }\n\n// type DisabledInputProps = Omit<FullDisabledProps, \"isArrayObject\" | \"arrayData\" | \"onInputChange\">;\n\n// const DisabledInput: FC<DisabledInputProps> = ({\n//     initialValue = \"\",\n//     containerStyles = \"\",\n//     placeholder,\n//     onChange = () => { },\n//     inputStyles,\n//     placeholderStyles,\n//     name,\n//     ...props\n// }) => {\n//     const modifiedName = useFieldName(placeholder, name)\n\n//     useEffect(() => {\n//         handleInitialValue(modifiedName, initialValue)\n//     }, [])\n\n//     // const value = useInputStore(modifiedName)\n\n//     useEffect(() => {\n//         onChange(initialValue, null)\n//         // inputStore.setValue(modifiedName, initialValue);\n//     }, [modifiedName]);\n\n//     return (\n//         <>\n//             <InputTemplate\n//                 name={name!}\n//                 value={initialValue}\n//                 placeholder={placeholder}\n//                 disabled={true}\n//                 type='text'\n//                 containerStyles={containerStyles}\n//                 inputStyles={`bg-gray-300 ${inputStyles}`}\n//                 placeholderStyles={placeholderStyles}\n//                 {...props}\n//             />\n//         </>\n//     );\n// };\n\n// // 1. Export the memoized component\n// const MemoizedDisabledInput = memo(DisabledInput)\n\n// // 2. Set the displayName on the exported component\n// MemoizedDisabledInput.displayName = 'DisabledInput';\n\n// export default MemoizedDisabledInput;\n\n\n\n\n\n\n\n\n\n\n\n// export default memo(DisabledInput);\n{/* <input\n    type=\"text\"\n    id={`floating_input_${modifiedName}`}\n    value={value}\n    className=\"py-2 px-2 border-2 w-full rounded-lg bg-transparent appearance-none peer\"\n    placeholder=\" \"\n    required\n    disabled\n/>\n<label\n    htmlFor={`floating_input_${modifiedName}`}\n    className=\"absolute left-5 px-1 bg-gray-400 duration-300 transform -translate-y-6 scale-75 top-2 z-10 origin-[0] peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-[85%] peer-focus:-translate-y-6\"\n>\n    {placeholder}\n</label> */}","import { memo } from \"react\"\r\nimport { FormLayoutContext } from \"../context/LabelLayoutContext\"\r\n\r\ninterface FormRowProps {\r\n  label: React.ReactNode\r\n  separator?: React.ReactNode\r\n  children: React.ReactNode\r\n  className?: string\r\n  labelWidth?: string | number\r\n}\r\n\r\nconst FormRow: React.FC<FormRowProps> = ({\r\n  label,\r\n  separator,\r\n  children,\r\n  className = \"\",\r\n  labelWidth = \"12rem\", // default alignment width\r\n}) => {\r\n  return (\r\n    <FormLayoutContext.Provider value={{ labelMode : true }}>\r\n      <div\r\n        className={`\r\n          grid items-center gap-x-3\r\n          ${className}\r\n        `}\r\n        style={{\r\n          gridTemplateColumns: `${labelWidth} auto 1fr`,\r\n        }}\r\n      >\r\n        <div className=\"whitespace-nowrap\">{label}</div>\r\n        <div className=\"whitespace-nowrap text-center\">{separator ?? null}</div>\r\n        <div>{children}</div>\r\n      </div>\r\n    </FormLayoutContext.Provider>\r\n  )\r\n}\r\n\r\nexport default memo(FormRow)\r\n","import { forwardRef, memo, useEffect, useRef, useState } from \"react\"\r\nimport { useFieldName } from \"../hooks/useFieldName\"\r\nimport { handleInitialValue } from \"../Utils/setInitialValue\"\r\nimport { useComputedExpression } from \"../hooks/useComputedExpression\"\r\nimport Input from \"./Input\"\r\nimport { useContainerContext } from \"../context/ContainerContext\"\r\nimport type { DropdownStyleProp, InputStyle } from \"../typeDeclaration/stylesProps\"\r\nimport { InputProps, InputRefProps } from \"src/typeDeclaration/inputProps\"\r\nimport { DEFAULT_DROPDOWN_STYLE } from \"src/styles/DropdownStyles\"\r\nimport { inputStore } from \"src/store/InputStore\"\r\nimport InputTemplate from \"./InputTemplate\"\r\nimport DropdownSearchModal from \"./DropdownSearchModal\"\r\ntype SearchOnChange<T> = (\r\n    value: string | number\r\n) => T[] | Promise<T[]>\r\n\r\n\r\ninterface SearchInputProps<T> extends Exclude<InputProps, \"onChange\"> {\r\n    onChange: SearchOnChange<T>\r\n    renderItem?: (item: T, index: number, active: boolean) => React.ReactNode\r\n    onSelect?: (args : { value : any, setValue : (value : any) => void}) => void\r\n}\r\n\r\nconst SearchInput = forwardRef<InputRefProps, SearchInputProps<any>>(({ ...props }, ref) => {\r\n    const { placeholder, name, children, onChange, style, renderItem, onSelect, placeholderStyles = \"\", initialValue = \"\", disabled = false, hideElement = false, containerStyles = \"\", privacy = false, ...rest } = props\r\n    const { sharedStyles } = useContainerContext()\r\n    // const [search, setSearch] = useState<any[]>([])\r\n    const timeOutObj = useRef<any>(null)\r\n    const modifiedName = useFieldName(placeholder, name)\r\n    const resolvedStyle: InputStyle & Pick<DropdownStyleProp, 'dropdownOffset'> = {\r\n        ...DEFAULT_DROPDOWN_STYLE,\r\n        ...sharedStyles,\r\n        ...style, // ðŸ‘ˆ highest priority\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleInitialValue(modifiedName, initialValue)\r\n    }, [])\r\n    const disabledValue: boolean = useComputedExpression(disabled, modifiedName)\r\n\r\n    const hiddenValue: boolean = useComputedExpression(hideElement)\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const changedValue = e.target.value\r\n        clearTimeout(timeOutObj.current)\r\n        timeOutObj.current = setTimeout(async () => {\r\n            // setSearch(value as string)\r\n            const searchedData = await onChange(changedValue)\r\n            inputStore.setDropdownSearch(`d_${modifiedName}`, searchedData)\r\n            // setSearch(searchedData)\r\n        }, 800);\r\n        inputStore.setValue(modifiedName, changedValue)\r\n    }\r\n\r\n\r\n    // const handleSelect = (value: string) => {\r\n    //     // onChange(value)\r\n    //     inputStore.setValue(modifiedName, value)\r\n    //     onSelect?.(value)\r\n\r\n    //     // setSearch([])\r\n    // }\r\n\r\n    if (hiddenValue) return null\r\n\r\n    return (\r\n        <div className={`relative ${containerStyles}`} /* style={{ display: hiddenValue ? 'none' : 'block', position : 'relative' }} */>\r\n            <InputTemplate\r\n                name={modifiedName}\r\n                placeholder={placeholder}\r\n                childType=\"input\"\r\n                style={style}\r\n                placeholderStyles={placeholderStyles}\r\n            >\r\n                <Input\r\n                    ref={ref}\r\n                    name={modifiedName}\r\n                    refRequired={true}\r\n                    placeholder={placeholder}\r\n                    // onChange={onValueChange}\r\n                    inputInlineStyle={style?.inputInlineStyle}\r\n                    disabled={disabledValue}\r\n                    type={privacy ? 'password' : 'text'}\r\n                    handleChange={handleChange}\r\n                    {...rest}\r\n                />\r\n            </InputTemplate>\r\n            <DropdownSearchModal onSelect={onSelect} renderItem={renderItem} name={modifiedName} style={resolvedStyle} />\r\n            {/* <DropdownSearchModal options={search} onSelect={handleSelect} open={search.length > 0} renderItem={renderItem} /> */}\r\n            {children}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default memo(SearchInput)\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { forwardRef, memo, useEffect, useRef, useState } from \"react\"\r\n// import type { InputProps, InputRefProps } from \"../typeDeclaration/inputProps\"\r\n// import { useFieldName } from \"../hooks/useFieldName\"\r\n// import { handleInitialValue } from \"../Utils/setInitialValue\"\r\n// import { useComputedExpression } from \"../hooks/useComputedExpression\"\r\n// import { inputStore } from \"../InputStore\"\r\n// import InputTemplate from \"./InputTemplate\"\r\n// import DropdownSearchModal from \"./DropdownSearchModal\"\r\n\r\n// type SearchOnChange<T> = (\r\n//     value: string | number\r\n// ) => T[] | Promise<T[]>\r\n\r\n\r\n// interface SearchInputProps<T> extends Exclude<InputProps, \"onChange\"> {\r\n//     onChange: SearchOnChange<T>\r\n//     renderItem?: (item: T, index: number, active: boolean) => React.ReactNode\r\n//     onSelect?: (item: T) => void\r\n// }\r\n\r\n// const SearchInput = forwardRef<InputRefProps, SearchInputProps<any>>(({ ...props }, ref) => {\r\n//     const { placeholder, name, children, onChange, renderItem, initialValue = \"\", disabled = false, hideElement = false, containerStyles = \"\", privacy = false, ...rest } = props\r\n//     const [search, setSearch] = useState<any[]>([])\r\n//     const timeOutObj = useRef<any>(null)\r\n//     const modifiedName = useFieldName(placeholder, name)\r\n\r\n//     useEffect(() => {\r\n//         handleInitialValue(modifiedName, initialValue)\r\n//     }, [])\r\n//     const disabledValue: boolean = useComputedExpression(disabled, modifiedName)\r\n\r\n//     const hiddenValue: boolean = useComputedExpression(hideElement)\r\n\r\n//     const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n//         const changedValue = e.target.value\r\n//         clearTimeout(timeOutObj.current)\r\n//         timeOutObj.current = setTimeout(async () => {\r\n//             // setSearch(value as string)\r\n//             const searchedData = await onChange(changedValue)\r\n//             setSearch(searchedData)\r\n//         }, 500);\r\n//         // const nativeEvent = e.nativeEvent as unknown as InputEvent; // Type assertion to InputEvent\r\n//         // onChange?.(changedValue, nativeEvent.data);\r\n//         inputStore.setValue(modifiedName, changedValue)\r\n//     }\r\n\r\n//     const onValueChange = (value: string | number) => {\r\n//         if (value === \"\") return\r\n//         // clearTimeout(timeOutObj.current)\r\n//         // timeOutObj.current = setTimeout(async () => {\r\n//         //     // setSearch(value as string)\r\n//         //     const searchedData = await onChange(value)\r\n//         //     setSearch(searchedData)\r\n//         // }, 500);\r\n//     }\r\n\r\n//     const handleSelect = (value: string) => {\r\n//         // onChange(value)\r\n//         inputStore.setValue(modifiedName, value)\r\n//         setSearch([])\r\n//     }\r\n\r\n//     if (hiddenValue) return null\r\n\r\n//     return (\r\n//         <div className={containerStyles} style={{ position: 'relative' }}>\r\n//             <InputTemplate\r\n//                 ref={ref}\r\n//                 name={modifiedName}\r\n//                 onChange={onValueChange}\r\n//                 disabled={disabledValue}\r\n//                 handleChange={handleChange}\r\n//                 placeholder={placeholder}\r\n//                 type={privacy ? 'password' : 'text'}\r\n//                 {...rest}\r\n//             />\r\n//             <DropdownSearchModal options={search} onSelect={handleSelect} open={search.length > 0} renderItem={renderItem} />\r\n//             {children}\r\n//         </div>\r\n//     )\r\n// })\r\n\r\n// export default memo(SearchInput)\r\n","import React, { memo, useEffect, useSyncExternalStore } from 'react'\r\nimport type { DropdownStyleProp, InputStyle } from '../typeDeclaration/stylesProps'\r\nimport BaseDropdown from './BaseDropdown'\r\nimport { inputStore } from 'src/store/InputStore'\r\n\r\ninterface DropdownSearchModalProps<T> {\r\n    // open: boolean\r\n    // options: T[]\r\n    style: InputStyle & DropdownStyleProp\r\n    name: string\r\n    onSelect?: (args : { value : any, setValue : (value : any) => void}) => void\r\n    // onSelect: (item: T, setValue: (value: any) => void) => void\r\n    renderItem?: (item: T, index: number, active: boolean) => React.ReactNode\r\n}\r\n\r\nconst DropdownSearchModal: React.FC<DropdownSearchModalProps<any>> = ({\r\n    // open,\r\n    // options,\r\n    name,\r\n    style,\r\n    onSelect,\r\n    renderItem,\r\n}) => {\r\n    const options: any[] = useSyncExternalStore(\r\n        (listener) => inputStore.subscribe(`d_${name}`, listener),\r\n        () => { return inputStore.getDropdownSearch(`d_${name}`) }\r\n    )\r\n\r\n    const setDropdownValue = (value: any) => {\r\n        inputStore.setValue(name, value)\r\n    }\r\n\r\n    const inputRef = inputStore.getDropdownContext(`ref_${name}`)\r\n\r\n    const closeDropdown = () => {\r\n        inputStore.setDropdownSearch(`d_${name}`, [])\r\n    }\r\n\r\n    // const staticOptions = useSelectOptions({\r\n    //     options,\r\n    // })\r\n\r\n    const { dropdownOffset } = style\r\n\r\n\r\n    const optionLength = options?.length > 0 || false\r\n\r\n    // Reset active index when options change\r\n\r\n    const handleOptionSelect = (opt: any) => {\r\n        if (onSelect) {\r\n            onSelect({value : opt, setValue : setDropdownValue})\r\n        } else {\r\n            const finalValue =\r\n                typeof opt === \"object\" && opt !== null && \"value\" in opt\r\n                    ? (opt as any).value\r\n                    : opt\r\n\r\n            inputStore.setValue(name, finalValue)\r\n        }\r\n        // onSelect?.(opt)\r\n        // inputStore.setValue(name, opt)\r\n        // inputStore.setDropdownSearch(`d_${name}`, [])\r\n        closeDropdown()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!optionLength) return;\r\n\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (\r\n                inputRef.current &&\r\n                !inputRef.current.contains(event.target as Node)\r\n            ) {\r\n                closeDropdown();\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, [optionLength, inputRef]);\r\n\r\n\r\n    if (!optionLength) return null\r\n\r\n    return (\r\n        <>\r\n            <BaseDropdown\r\n                open={optionLength}\r\n                options={options}\r\n                close={closeDropdown}\r\n                onSelect={(opt) => {\r\n                    handleOptionSelect(opt)\r\n                }}\r\n                // position={position}\r\n                inputRef={inputRef}\r\n                dropdownOffset={dropdownOffset}\r\n                // onSearchChange={(v) => {\r\n                //   setSearch(v)\r\n                // }}\r\n                renderItem={(item, index, highlighted, ref) => (\r\n                    <div\r\n                        key={index}\r\n                        ref={ref}\r\n                        className={`px-3 py-2 cursor-pointer hover:bg-gray-100 ${highlighted ? \"bg-gray-100\" : \"\"\r\n                            }`}\r\n                        onMouseDown={(e) => {\r\n                            e.preventDefault()\r\n                            handleOptionSelect(item)\r\n                            // onSelect(item)\r\n                        }}\r\n                    >\r\n                        {renderItem ? renderItem(item, index, highlighted) : String(item)}\r\n                    </div>\r\n                )}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(DropdownSearchModal)\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { memo, useEffect, useRef, useState } from 'react'\r\n\r\n// interface DropdownSearchModalProps<T> {\r\n//     open: boolean\r\n//     options: T[]\r\n//     onSelect: (item: T) => void\r\n//     renderItem?: (item: T, index: number, active: boolean) => React.ReactNode\r\n// }\r\n\r\n// const DropdownSearchModal: React.FC<DropdownSearchModalProps<any>> = ({\r\n//     open,\r\n//     options,\r\n//     onSelect,\r\n//     renderItem,\r\n// }) => {\r\n//     const [activeIndex, setActiveIndex] = useState(0)\r\n//     const listRef = useRef<HTMLDivElement>(null)\r\n\r\n//     // Reset active index when options change\r\n//     useEffect(() => {\r\n//         setActiveIndex(0)\r\n//     }, [options])\r\n\r\n//     // Keyboard navigation\r\n//     useEffect(() => {\r\n//         if (!open) return\r\n\r\n//         const handleKeyDown = (e: KeyboardEvent) => {\r\n//             switch (e.key) {\r\n//                 case \"ArrowDown\":\r\n//                     e.preventDefault()\r\n//                     setActiveIndex((prev) =>\r\n//                         prev < options.length - 1 ? prev + 1 : prev\r\n//                     )\r\n//                     break\r\n\r\n//                 case \"ArrowUp\":\r\n//                     e.preventDefault()\r\n//                     setActiveIndex((prev) => (prev > 0 ? prev - 1 : 0))\r\n//                     break\r\n\r\n//                 case \"Enter\":\r\n//                     e.preventDefault()\r\n//                     options[activeIndex] && onSelect(options[activeIndex])\r\n//                     break\r\n\r\n//                 case \"Escape\":\r\n//                     e.preventDefault()\r\n//                     setActiveIndex(0)\r\n//                     break\r\n//             }\r\n//         }\r\n\r\n//         window.addEventListener(\"keydown\", handleKeyDown)\r\n//         return () => window.removeEventListener(\"keydown\", handleKeyDown)\r\n//     }, [open, activeIndex, options, onSelect])\r\n\r\n\r\n//     if (!open) return null\r\n\r\n//     return (\r\n//         <div\r\n//             ref={listRef}\r\n//             role=\"listbox\"\r\n//             className=\"absolute z-50 mt-1 w-full rounded-md border bg-white shadow-md\"\r\n//         >\r\n//             {options.map((item, index) => {\r\n//                 const active = index === activeIndex\r\n\r\n//                 return (\r\n//                     <div\r\n//                         key={index}\r\n//                         role=\"option\"\r\n//                         aria-selected={active}\r\n//                         onMouseEnter={() => setActiveIndex(index)}\r\n//                         onMouseDown={() => onSelect(item)} // mouseDown > click (prevents blur)\r\n//                         className={`cursor-pointer ${active ? \"bg-gray-100\" : \"\"\r\n//                             }`}\r\n//                     >\r\n//                         {renderItem\r\n//                             ? renderItem(item, index, active)\r\n//                             : String(item)}\r\n//                     </div>\r\n//                 )\r\n//             })}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export default memo(DropdownSearchModal)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// <div\r\n//     ref={listRef}\r\n//     role=\"listbox\"\r\n//     className=\"absolute z-50 mt-1 w-full rounded-md border bg-white shadow-md\"\r\n//     >\r\n//     {options.map((item, index) => {\r\n//         const active = index === activeIndex\r\n\r\n//         return (\r\n//             <div\r\n//                 key={index}\r\n//                 role=\"option\"\r\n//                 aria-selected={active}\r\n//                 onMouseEnter={() => setActiveIndex(index)}\r\n//                 onMouseDown={() => onSelect(item)} // mouseDown > click (prevents blur)\r\n//                 className={`cursor-pointer ${active ? \"bg-gray-100\" : \"\"\r\n//                     }`}\r\n//             >\r\n//                 {renderItem\r\n//                     ? renderItem(item, index, active)\r\n//                     : String(item)}\r\n//             </div>\r\n//         )\r\n//     })}\r\n// </div>","import React, { forwardRef, memo, type ReactElement, type ReactNode, useCallback, useImperativeHandle, useState } from 'react'\nimport { getEditedData } from '../Utils/getEditedData';\nimport { inputStore } from 'src/store/InputStore';\n\n// Define the arguments object for clarity\ntype SubmitData = {\n  data: Record<string, any> | null;\n  edited: Record<string, any> | null;\n  resetForm: (key?: string[] | string) => void;\n};\n\n// Define the exact type signature for the handler function\nexport type SubmitHandler = (args: SubmitData) => Promise<boolean | void>;\n\nexport interface ConfirmationRenderProps {\n  success: (data?: any) => void\n  cancel: () => void\n  data: Record<string, any> | null\n  isDisabled?: boolean\n  resetForm: (key?: string[] | string) => void\n}\n\nexport interface SubmitButtonRef {\n  submit: () => void\n}\n\n\ninterface SubmitProps {\n  children: ReactNode\n  className?: string\n  disabled?: boolean\n  closeModal?: () => void\n  onClick?: SubmitHandler\n  /**\n   * Configuration for enabling and customizing a confirmation modal.\n   * If provided, the final action (onConfirm) is only executed after the user confirms inside the modal.\n   * * @example\n   * // Assuming ConfirmComponent is a function that takes ConfirmationRenderProps\n   * modal: {\n   * modalStyle: { width: '50%' }  // width and height can be in % or px or simple number\n   * renderConfirmationModel: (props) => <ConfirmComponent {...props} />,  // prefered to be used as function\n   * isDisabled : false    // if you want to disable the cornfirmation modal submit button conditionally\n   * onConfirm: handleSubmitFunction,    \n   * }\n   */\n  modal?: {\n    modalStyle?: { height?: string | number, width?: string | number }\n    renderConfirmationModel?: ((props: ConfirmationRenderProps) => ReactNode) | ReactElement<ConfirmationRenderProps>\n    isDisabled?: boolean\n    onConfirm?: (data: any) => void\n  }\n}\n\nconst SubmitButton = forwardRef<SubmitButtonRef, SubmitProps>((\n  {\n    children,\n    className,\n    closeModal,\n    disabled = false,\n    onClick,\n    modal,\n  },\n  ref\n) => {\n  const { isDisabled = false, modalStyle, onConfirm, renderConfirmationModel } = modal || {}\n  // const { height, width } = modal.modelStyle\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const [modelData, setModelData] = useState<Record<string, any> | null>(null)\n  const success = (data?: any) => {\n    onConfirm?.(data)\n    setOpenModal(false)\n    resetForm()\n    closeModal?.()\n  }\n  const cancel = () => {\n    setOpenModal(false)\n  }\n  // const resetForm = useResetForm\n  const resetForm = inputStore.reset()\n  const handleSubmit = useCallback(async () => {\n    if (disabled || openModal) return\n    // if (renderConfirmationModel) setOpenModal(true)\n    // const { inputData: data } = useInputStore.getState()\n    const { data, edited } = getEditedData()\n    setModelData(data)\n\n    // ðŸ”¹ CASE 1: No onClick â†’ open modal directly\n    if (!onClick && renderConfirmationModel) {\n      setOpenModal(true)\n      return\n    }\n    // onClick && onClick({ data, resetForm })\n    // ðŸ”¹ CASE 2 & 3: onClick exists\n    if (onClick) {\n      const shouldOpenModal = await onClick({ data, edited, resetForm })\n\n      if (shouldOpenModal && renderConfirmationModel) {\n        setOpenModal(true)\n      }\n    }\n  }, [onClick, disabled, openModal, renderConfirmationModel])\n\n  // ðŸ”‘ Expose submit() safely\n  useImperativeHandle(ref, () => ({\n    submit: handleSubmit\n  }), [handleSubmit])\n\n  return (\n    <div className={`${className}`} onClick={handleSubmit}>\n      {children}\n      {\n        openModal ? (\n          <div\n            className={`fixed flex cursor-default justify-center items-center z-50 left-0 top-0 w-full h-full bg-gray-500/50 backdrop-blur-lg `}\n          >\n            <div\n              className={`relative grid rounded-lg shadow-lg bg-gray-400 overflow-y-auto max-h-4/5`}\n              style={{ height: modalStyle?.height, width: modalStyle?.width || '80%' }}\n            >\n              <div className=''>\n                {typeof renderConfirmationModel === 'function'\n                  ? renderConfirmationModel({ cancel, success, resetForm, data: modelData, isDisabled })\n                  : React.isValidElement(renderConfirmationModel)\n                    ? React.cloneElement(renderConfirmationModel, { cancel, success, resetForm, data: modelData, isDisabled })\n                    : null}\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n    </div>\n  )\n})\n\n// 1. Export the memoized component\nconst MemoizedSubmitButton = memo(SubmitButton)\n\n// 2. Set the displayName on the exported component\nMemoizedSubmitButton.displayName = 'SubmitButton';\n\nexport default MemoizedSubmitButton;\n\n// export default memo(SubmitButton)\n\n\n\n\n\n// import React, { FC, memo, useCallback } from 'react';\n// import { useInputStore } from '../hooks/useInputStore';\n// import { useResetForm } from 'src/hooks/useResetForm';\n\n// // Define the exact type signature for the handler function\n// // This is the type that will provide the suggestions!\n// export type SubmitHandler = (args: {\n//     data: Record<string, any>;\n//     resetForm: () => void;\n// }) => void;\n\n// interface SubmitButtonProps {\n//   children: React.ReactNode;\n//   className?: string;\n//   // onClick: (inputData: any) => void; // Replace 'any' with the actual type of inputData if known\n//   onClick : SubmitHandler\n// }\n\n// const SubmitButton: FC<SubmitButtonProps> = ({ children, className, onClick }) => {\n//   const resetForm = useResetForm()\n//   const handleSubmit = useCallback(() => {\n//     const { inputData : data } = useInputStore.getState();\n//     onClick({data, resetForm});\n//   }, [onClick]);\n\n//   return (\n//     <button className={className} onClick={handleSubmit}>\n//       {children}\n//     </button>\n//   );\n// };\n\n// export default memo(SubmitButton);","import { inputStore } from \"src/store/InputStore\"\nimport { getNestedValue } from \"./inputStoreUtils\"\n\n\nexport const getEditedData = () : { data: Record<string, any> | null, edited: Record<string, any> | null } => {\n    const { editedKeys, inputData } = inputStore.getSnapshot()\n    const edited: Record<string, any> = {}\n\n    if (!editedKeys || editedKeys.size === 0) {\n        return {\n            data: inputData,\n            edited: null,\n        }\n    }\n    editedKeys.forEach((key) => {\n        edited[key] = getNestedValue(inputData, key)\n    })\n    return {\n        data: inputData,\n        edited,\n    }\n}\n\n// return {\n//     data: state.inputData,\n//     edited,\n// }\n// }\n","import React, { type FC, type ReactNode, type RefObject, useEffect, useMemo, useRef, useState } from 'react'\nimport { memo } from 'react'\nimport { ContainerContext } from 'src/context/ContainerContext';\nimport { inputStore } from 'src/store/InputStore';\n\ninterface InputContainerProps {\n  children: ReactNode;\n  inputContainerStyles?: string;\n  mode?: \"default\" | \"edit\"\n  // sharedStyles?: object\n  sharedStyles?: {\n    placeholderStyles?: string\n    inputStyles?: string\n    [key: string]: any\n  }\n  modalContainerRef?: RefObject<HTMLDivElement>\n}\n\ninterface InputChildProps {\n  onInputChange: (modifiedName: string, value: any) => void;\n  [key: string]: any; // optional if child has more props\n}\n\nconst InputContainer: FC<InputContainerProps> = ({ children, inputContainerStyles, sharedStyles, modalContainerRef, mode = \"default\" }) => {\n\n  const containerRef = useRef<HTMLDivElement | null>(null)\n\n  const initialRender = useRef(true)\n\n  if (initialRender.current) {\n    inputStore.initializeInputStore(mode)\n    initialRender.current = false\n  }\n\n  /////// This useeffect sets the background color so that strike-through effect in inputs are flawless\n  useEffect(() => {\n    if (containerRef.current instanceof HTMLElement) {\n      let current: HTMLElement | null = containerRef.current;\n      // let backgroundColor: string | null = null;\n      let backgroundColor: string = '';\n\n      while (current) {\n        const style = window.getComputedStyle(current);\n        // const bg = style.backgroundColor;\n        backgroundColor = style.backgroundColor;\n        if (backgroundColor && backgroundColor !== 'rgba(0, 0, 0, 0)' && backgroundColor !== 'transparent') {\n          // backgroundColor = bg\n          break; // found non-transparent background\n        }\n        current = current.parentElement;\n      }\n      if (backgroundColor == 'rgba(0, 0, 0, 0)' || backgroundColor == '') inputStore.setBackgroundColor('white')\n      else inputStore.setBackgroundColor(backgroundColor)\n    }\n    return () => {\n      inputStore.reset()()\n    }\n  }, []);\n\n  return (\n    <ContainerContext.Provider value={{ sharedStyles, modalContainerRef }}>\n      <div ref={containerRef} className={inputContainerStyles}>\n        {children}\n      </div>\n    </ContainerContext.Provider>\n  )\n}\n\nexport default memo(InputContainer)\n\n\n\n\n// import React, { FC, ReactNode, RefObject, useEffect, useMemo, useRef, useState } from 'react'\n// import { memo } from 'react'\n// import { useInputStore } from '../hooks/useInputStore'\n// import { camelCase } from 'src/functions/camelCase';\n// import { flattenChildren } from 'src/Utils/flattenChildren';\n// import { handleInitialValue } from 'src/Utils/setInitialValue';\n\n// interface InputContainerProps {\n//   children: ReactNode;\n//   inputContainerStyles?: string;\n//   // sharedStyles?: object\n//   sharedStyles?: {\n//     placeholderStyles?: string\n//     inputStyles?: string\n//     [key: string]: any\n//   }\n//   modalContainerRef?: RefObject<HTMLDivElement>\n// }\n\n// interface InputChildProps {\n//   onInputChange: (modifiedName: string, value: any) => void;\n//   [key: string]: any; // optional if child has more props\n// }\n\n// const InputContainer: FC<InputContainerProps> = ({ children, inputContainerStyles, sharedStyles, modalContainerRef }) => {\n//   const setInputValue = useInputStore((state) => state.setInputValue)\n\n//   const containerRef = useRef<HTMLDivElement | null>(null)\n//   const [bgColor, setBgColor] = useState(\"\");\n\n//   const handleInputChange = (modifiedName: string, value: any): void => {\n//     setInputValue(modifiedName, value)\n//   }\n//   const childrenArray = useMemo(() => flattenChildren(children), [children]);\n\n//   /////// This useeffect sets the background color so that strike-through effect in inputs are flawless\n//   useEffect(() => {\n//     if (containerRef.current instanceof HTMLElement) {\n//       let current: HTMLElement | null = containerRef.current;\n//       // let backgroundColor: string | null = null;\n//       let backgroundColor: string = '';\n\n//       while (current) {\n//         const style = window.getComputedStyle(current);\n//         // const bg = style.backgroundColor;\n//         backgroundColor = style.backgroundColor;\n//         if (backgroundColor && backgroundColor !== 'rgba(0, 0, 0, 0)' && backgroundColor !== 'transparent') {\n//           // backgroundColor = bg\n//           break; // found non-transparent background\n//         }\n//         current = current.parentElement;\n//       }\n//       if (backgroundColor == 'rgba(0, 0, 0, 0)' || backgroundColor == '') setBgColor('white')\n//       else setBgColor(backgroundColor)\n//       // setBgColor(backgroundColor ?? 'white')\n//       // setContainerBgColor(backgroundColor || 'white'); // fallback just in case\n//     }\n//   }, []);\n\n//   return (\n//     <div ref={containerRef} className={inputContainerStyles}>\n//       {\n//         // React.Children.map(children, (child) => {\n//         childrenArray.map((child, index) => {\n//           if (!React.isValidElement<InputChildProps>(child)) return null;\n//           const childType = child.type\n//           // const childSafe = child as React.ReactElement<InputChildProps>\n//           const isDOMElement = typeof childType === 'string';\n//           if (isDOMElement) return child;\n//           const childProps = child.props\n//           const modifiedName = (childProps.name || childProps.placeholder) ? childProps.name || camelCase(childProps.placeholder) : undefined\n//           if (childProps.placeholder) {\n//             handleInitialValue(modifiedName, childProps.initialValue, setInputValue, (childType as any).type.name)\n//           }\n//           if (React.isValidElement(child)) {\n//             return React.cloneElement(child, {\n//               key: child.key ?? index,\n//               onInputChange: handleInputChange,\n//               name: modifiedName,\n//               sharedStyles,\n//               bgColor,\n//               modalContainerRef\n//             })\n//           }\n//           return child\n//         })\n//       }\n//     </div>\n//   )\n// }\n\n// export default memo(InputContainer)","import { inputStore } from \"src/store/InputStore\"\r\n\r\nexport const setEditData = (data : Record<string, any>) => {\r\n    inputStore.setEditData(data)\r\n}","import { inputStore } from \"src/store/InputStore\"\r\n\r\nexport const ResetForm = (resetData?: Record<string, any>) => {\r\n    return inputStore.reset(resetData)\r\n}\r\n\r\nexport const ClearForm = () => inputStore.clear()","import { inputStore } from \"src/store/InputStore\";\r\n\r\nexport const SharedContext = {\r\n    get : (key?: string) => key ? inputStore.sharedContext.get(key) : Object.fromEntries(inputStore.sharedContext),\r\n    set : (key : string, value : any) => inputStore.sharedContext.set(key, value),\r\n    addMany : (data : Record<string, any>) => addMany(data),\r\n    remove : (key : string) => inputStore.sharedContext.delete(key),\r\n    clear : () => inputStore.sharedContext.clear()\r\n}\r\n\r\nconst addMany = (data : Record<string, any>) => {\r\n    Object.entries(data).forEach(([k, v]) =>\r\n      inputStore.sharedContext.set(k, v)\r\n    )\r\n}"],"mappings":"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","names":["styleInject","css","insertAt","head","style","styleInject","forwardRef","memo","useEffect","useSyncExternalStore","getNestedValue","obj","path","curr","key","isIndex","expressionCacheNew","compileExpression","expr","deps","jsExpr","_","key","fn","compiled","data","getNestedValue","isArray","arr","isPlainObject","obj","EMPTY_ARRAY","EMPTY_REF","InputStore","key","value","listener","isArray","k","l","i","fn","mode","color","data","obj","prefix","paths","path","isDisabledInput","inputData","prev","initial","nextData","keys","curr","nextKey","isIndex","index","lastKey","next","_","item","inputStore","useComputedExpression","expr","name","deps","evaluate","compileExpression","useSyncExternalStore","cb","unsubscribers","k","inputStore","u","forwardRef","memo","DEFAULT_INPUT_STYLE","createContext","useContext","FormLayoutContext","useFormLayout","createContext","useContext","ContainerContext","useContainerContext","ctx","jsx","jsxs","InputTemplate","forwardRef","name","children","childType","placeholder","style","placeholderStyles","ref","sharedStyles","useContainerContext","resolvedStyle","DEFAULT_INPUT_STYLE","borderWidth","boxHeight","boxWidth","placeHolderOffset","inputInlineStyle","placeholderInlineStyle","labelMode","useFormLayout","bgColor","inputStore","InputTemplate_default","memo","handleInitialValue","path","initialValue","compName","value","inputStore","createContext","useContext","NameScopeContext","useNameScope","camelCase","str","match","chr","fromCamelCase","char","useFieldName","placeholder","name","parent","useNameScope","local","camelCase","forwardRef","memo","useEffect","useImperativeHandle","useLayoutEffect","useRef","useEffect","useRef","useSyncExternalStore","useInputStore","key","valueRef","useRef","initialRender","useEffect","useSyncExternalStore","listener","inputStore","value","InputStyles","key","el","state","style","states","label","k","inputStylesStore","FieldVisualState","jsx","Input","forwardRef","name","fixedValue","maxLength","autoFocus","refRequired","onBlur","onFocus","inputStyles","handleChange","onChange","onEnterPress","disabled","placeholder","type","inputInlineStyle","ref","inputRef","useRef","labelMode","useFormLayout","value","useInputStore","handlePreInput","e","evalue","useLayoutEffect","inputStore","useImperativeHandle","handleBlur","inputStylesStore","FieldVisualState","data","handleFocus","handleKeyPresses","event","useEffect","Input_default","memo","jsx","jsxs","StrInput","forwardRef","props","ref","placeholder","name","children","style","placeholderStyles","initialValue","disabled","hideElement","containerStyles","privacy","rest","modifiedName","useFieldName","useEffect","handleInitialValue","disabledValue","useComputedExpression","hiddenValue","handleChange","e","inputStore","InputTemplate_default","Input_default","MemoizedStrInput","memo","StrInput_default","forwardRef","memo","useCallback","useEffect","setFieldValue","FieldCredentials","keys","key","inputStore","jsx","jsxs","NumInput","forwardRef","props","ref","placeholder","name","children","style","placeholderStyles","onDisableChange","initialValue","disabled","hideElement","containerStyles","privacy","stringify","rest","modifiedName","useFieldName","useEffect","handleInitialValue","stringValidation","data","handleOnDisableChange","useCallback","value","setFieldValue","disabledValue","useComputedExpression","hiddenValue","currentDisabled","inputStore","handleChange","e","inputVal","newValue","InputTemplate_default","Input_default","MemoizedNumInput","memo","NumInput_default","memo","useRef","useSyncExternalStore","Fragment","jsx","ArrayContainer","name","items","getKey","children","defaultAddItem","initialRender","useRef","parent","useNameScope","arrayScope","inputStore","dynamicItem","useSyncExternalStore","cb","helpers","addItem","index","item","scope","modifiedKey","NameScopeContext","ArrayContainer_default","memo","memo","jsx","ObjectContainer","name","children","parent","useNameScope","scope","NameScopeContext","MemoizedObjectContainer","memo","ObjContainer_default","memo","useCallback","useEffect","useMemo","useSyncExternalStore","useSelectOptions","options","dependsOn","optionsMap","initialLabel","initialValue","depValue","useSyncExternalStore","cb","inputStore","useMemo","base","normalized","v","memo","useCallback","useEffect","useRef","useState","shallowOrDeepEqual","a","b","i","aKeys","bKeys","key","forwardRef","memo","useImperativeHandle","useRef","jsx","RotatingDropdown","_","ref","iconRef","RotatingDropdown_default","memo","useEffect","useLayoutEffect","useMemo","useRef","useState","useRef","useDropdownNavigation","options","close","highlightIndexRef","optionRefs","reset","updateHighlight","next","prev","e","onSelect","item","index","el","useLayoutEffect","useState","useDropdownPosition","fixedRef","modalRef","dropdownOffset","isOpen","position","setPosition","calculatePosition","inputRect","modalRect","innerHeight","top","memo","Fragment","jsx","DropdownItem","item","index","highlighted","register","renderItem","DropdownItem_default","jsx","jsxs","BaseDropdown","open","options","onSelect","close","renderItem","inputRef","dropdownOffset","searchable","onSearchChange","className","search","setSearch","useState","modalRef","useRef","searchRef","position","calculatePosition","useDropdownPosition","filteredOptions","useMemo","lowered","opt","highlightIndexRef","handleKeyDown","registerOption","reset","useDropdownNavigation","useLayoutEffect","handleSearch","e","useEffect","handler","item","index","DropdownItem_default","BaseDropdown_default","memo","jsx","jsxs","DropdownModal","options","onSelect","onToggleDropdown","disabled","searchable","name","style","twStyle","value","useInputStore","rotateRef","useRef","isOpen","setIsOpen","useState","label","setLabel","inputInlineStyle","dropdownOffset","optionStyles","modalBoxStyles","inputStyles","inputRef","useEffect","handleClickOutside","event","closeDropdown","handleOptionSelect","useCallback","option","selectedValue","openDropdown","RotatingDropdown_default","BaseDropdown_default","opt","index","highlighted","ref","e","DropdownModal_default","memo","prev","next","shallowOrDeepEqual","DEFAULT_DROPDOWN_STYLE","jsx","jsxs","SelectInput","name","placeholder","options","children","onChange","dependsOn","onToggleDropdown","optionsMap","initialLabel","twStyle","disabled","hideElement","searchable","onDisableChange","initialValue","style","modifiedName","useFieldName","sharedStyles","modalContainerRef","useContainerContext","handleOnDisableChange","useCallback","value","setFieldValue","disabledValue","useComputedExpression","hiddenValue","resolvedStyle","DEFAULT_DROPDOWN_STYLE","useEffect","currentDisabled","inputStore","staticOptions","useSelectOptions","handleSelect","selectedValue","InputTemplate_default","DropdownModal_default","MemoizedSelectInput","memo","prev","next","SelectInput_default","memo","useMemo","Fragment","jsx","AutoInput","initialData","exclusionKeys","scope","useNameScope","excludedKeys","useMemo","isArray","camelCase","inputFields","inputStore","renderField","key","value","modifiedKey","commonProps","fromCamelCase","StrInput_default","NumInput_default","ArrayContainer_default","_","i","item","isPlainObject","ObjContainer_default","MemoizedAutoInput","memo","AutoInput_default","forwardRef","memo","useEffect","jsx","jsxs","DateInput","forwardRef","placeholder","onDateSelect","onEnterPress","children","defaultTodayDate","disabled","style","hideElement","containerStyles","inputStyles","placeholderStyles","defaultDate","name","ref","modifiedName","useFieldName","todayDate","initialDate","useEffect","handleInitialValue","handleDateSelect","e","newDate","inputStore","disabledValue","useComputedExpression","InputTemplate_default","Input_default","memoizedDateInput","memo","DateInput_default","memo","useEffect","jsx","jsxs","DisabledInput","initialValue","containerStyles","privacy","children","style","placeholder","hideElement","placeholderStyles","name","rest","modifiedName","useFieldName","useEffect","handleInitialValue","useComputedExpression","InputTemplate_default","Input_default","MemoizedDisabledInput","memo","DisabledInput_default","memo","jsx","jsxs","FormRow","label","separator","children","className","labelWidth","FormLayoutContext","FormRow_default","memo","forwardRef","memo","useEffect","useRef","memo","useEffect","useSyncExternalStore","Fragment","jsx","DropdownSearchModal","name","style","onSelect","renderItem","options","useSyncExternalStore","listener","inputStore","setDropdownValue","value","inputRef","closeDropdown","dropdownOffset","optionLength","handleOptionSelect","opt","finalValue","useEffect","handleClickOutside","event","BaseDropdown_default","item","index","highlighted","ref","e","DropdownSearchModal_default","memo","jsx","jsxs","SearchInput","forwardRef","props","ref","placeholder","name","children","onChange","style","renderItem","onSelect","placeholderStyles","initialValue","disabled","hideElement","containerStyles","privacy","rest","sharedStyles","useContainerContext","timeOutObj","useRef","modifiedName","useFieldName","resolvedStyle","DEFAULT_DROPDOWN_STYLE","useEffect","handleInitialValue","disabledValue","useComputedExpression","hiddenValue","handleChange","e","changedValue","searchedData","inputStore","InputTemplate_default","Input_default","DropdownSearchModal_default","SearchInput_default","memo","React","forwardRef","memo","useCallback","useImperativeHandle","useState","getEditedData","editedKeys","inputData","inputStore","edited","key","getNestedValue","jsx","jsxs","SubmitButton","forwardRef","children","className","closeModal","disabled","onClick","modal","ref","isDisabled","modalStyle","onConfirm","renderConfirmationModel","openModal","setOpenModal","useState","modelData","setModelData","success","data","resetForm","cancel","inputStore","handleSubmit","useCallback","edited","getEditedData","useImperativeHandle","React","MemoizedSubmitButton","memo","SubmitButton_default","useEffect","useRef","memo","jsx","InputContainer","children","inputContainerStyles","sharedStyles","modalContainerRef","mode","containerRef","useRef","initialRender","inputStore","useEffect","current","backgroundColor","ContainerContext","InputContainer_default","memo","setEditData","data","inputStore","ResetForm","resetData","inputStore","ClearForm","SharedContext","key","inputStore","value","data","addMany","k","v"]}